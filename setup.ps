%!PS-Adobe-3.0
%%Creator: groff version 1.09
%%CreationDate: Mon Oct 23 09:15:00 1995
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%DocumentSuppliedResources: procset grops 1.09 0
%%Pages: 41
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.09 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll 
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(Installing and Operating 2.9BSD)203.982 123 Q
(23 October 1995)246.006 138 Q/F1 10/Times-Italic@0 SF(Mic)252.695 162 Q
(hael J)-.15 E 2.5(.K)-.25 G(ar)-2.5 E(els)-.37 E(Carl F)261.31 174 Q
2.5(.S)-1.35 G(mith)-2.5 E/F2 10/Times-Roman@0 SF(Uni)240.15 192 Q -.15
(ve)-.25 G(rsity of California).15 E(Berk)233.875 204 Q(ele)-.1 E 1.3
-.65(y, C)-.15 H(alifornia 94720).65 E F1(ABSTRA)264.535 240 Q(CT)-.3 E
F2 1.447(This document contains instructions for installation and opera\
tion of the Second)133 271.2 R(Berk)108 283.2 Q(ele)-.1 E 3.714(yS)-.15
G(oftw)-3.714 E 1.214(are Distrib)-.1 F(ution')-.2 E 3.714(s2)-.55 G
1.215(.9BSD release of the PDP-11\207 UNIX\210 system.)-3.714 F 1.215
(It is)6.215 F(adapted from the paper)108 295.2 Q F1
(Installing and Oper)2.5 E(ating 4.1bsd)-.15 E F2(by Bill Jo)2.5 E -.65
(y.)-.1 G 1.936(This document e)133 310.8 R 1.936
(xplains the procedures for installation of Berk)-.15 F(ele)-.1 E 4.435
(yU)-.15 G 1.935(NIX on a)-4.435 F .605(PDP-11 or to upgrade an e)108
322.8 R .606(xisting Berk)-.15 F(ele)-.1 E 3.106(yP)-.15 G .606
(DP-11 UNIX system to the ne)-3.106 F 3.106(wr)-.25 G 3.106(elease. It)
-3.106 F .492(then e)108 334.8 R .492(xplains ho)-.15 F 2.992(wt)-.25 G
2.992(oc)-2.992 G .492(on\214gure the k)-2.992 F .492(ernel for the a)
-.1 F -.25(va)-.2 G .492(ilable de).25 F .492
(vices and user load, lay out)-.25 F .198(\214le systems on the a)108
346.8 R -.25(va)-.2 G .199
(ilable disks, set up terminal lines and user accounts, and do system)
.25 F 1.127(speci\214c tailoring.)108 358.8 R 1.127(It also e)6.127 F
1.127(xplains system operations procedures: shutdo)-.15 F 1.127
(wn and startup,)-.25 F(hardw)108 370.8 Q .658(are error reporting and \
diagnosis, \214le system backup procedures, resource control,)-.1 F
1.797(performance monitoring, and procedures for recompiling and reinst\
alling system soft-)108 382.8 R -.1(wa)108 394.8 S 3.208(re. T).1 F .708
(echnical details on the k)-.7 F .708
(ernel changes are presented in the accompan)-.1 F .709(ying paper)-.15
F(,)-.4 E -.74(``)108 406.8 S(Changes in the K).74 E(ernel in 2.9BSD.)
-.25 E -.74('')-.7 G 1.813(The 2.9BSD release, unlik)133 422.4 R 4.313
(ep)-.1 G(re)-4.313 E 1.813(vious v)-.25 F 1.813
(ersions of the Second Berk)-.15 F(ele)-.1 E 4.313(yS)-.15 G(oftw)-4.313
E(are)-.1 E(Distrib)108 434.4 Q .83(ution, is a complete V)-.2 F .83
(ersion 7 UNIX system with all of the standard UNIX tools)-1.11 F 1.069
(and utilities, with or without Berk)108 446.4 R(ele)-.1 E 3.569(ym)-.15
G 3.568(odi\214cations. Therefore,)-3.569 F 1.068
(it does not need to be)3.568 F 1.202(layered onto an e)108 458.4 R
1.202(xisting V)-.15 F 1.202(ersion 7 system; because of the man)-1.11 F
3.703(yc)-.15 G 1.203(hanges and additions)-3.703 F .1
(throughout the system, it w)108 470.4 R .1
(ould require a substantial ef)-.1 F .1(fort to mer)-.25 F .1
(ge into most earlier sys-)-.18 F(tems.)108 482.4 Q .32 LW 144 696.4 72
696.4 DL/F3 8/Times-Roman@0 SF<87>72 704.2 Q/F4 6/Times-Roman@0 SF(DEC)4
I F3(,)A F4(MASSB)2 E(US)-.06 E F3(,)A F4(PDP)2 E F3 2(,a)C(nd)-2 E F4
(UNIB)2 E(US)-.06 E F3(are trademarks of Digital Equipment Corporation.)
2 E<88>72 716 Q F4(UNIX)4 I F3(is a trademark of Bell Laboratories.)2 E
F2(23 October 1995)254.395 768 Q EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 158.23
(-2- Introduction)95.17 F/F1 12/Times-Bold@0 SF(1. INTR)234.18 84 Q
(ODUCTION)-.36 E F0 .786(This document e)97 123.6 R .786(xplains ho)-.15
F 3.286(wt)-.25 G 3.286(oi)-3.286 G .786
(nstall the 2.9BSD release of the Berk)-3.286 F(ele)-.1 E 3.286(yv)-.15
G .787(ersion of UNIX for the)-3.436 F .197(PDP-11 on your system.)72
135.6 R .197
(If you are running the July 1981 release of the system, which w)5.197 F
.196(as called 2.8BSD,)-.1 F 1.338(you can a)72 147.6 R -.2(vo)-.2 G
1.338(id a full bootstrap from the ne).2 F 3.838(wt)-.25 G 1.338
(ape by e)-3.838 F 1.339(xtracting only the softw)-.15 F 1.339
(are that has changed.)-.1 F(Be)6.339 E -.1(wa)72 159.6 S .905(rned, ho)
.1 F(we)-.25 E -.15(ve)-.25 G 1.705 -.4(r, t).15 H .905
(hat there are a lar).4 F .905(ge number of changes.)-.18 F .905
(Unless you ha)5.905 F 1.205 -.15(ve m)-.2 H(an).15 E 3.405(yl)-.15 G
.905(ocal modi\214cations it)-3.405 F .702
(will probably be easier to bring up an intact 2.9BSD system and mer)72
171.6 R .702(ge your local changes into it.)-.18 F .703(If you)5.703 F
.552(are running an)72 183.6 R 3.052(yo)-.15 G .552(ther v)-3.052 F .552
(ersion of UNIX on your PDP-11, you will ha)-.15 F .851 -.15(ve t)-.2 H
3.051(od).15 G 3.051(oaf)-3.051 G .551(ull bootstrap.)-3.051 F .551
(This means)5.551 F .59(dumping all \214le systems which are to be reta\
ined onto tape in a format that can be read in ag)72 195.6 R .591
(ain later \()-.05 F/F2 10/Times-Italic@0 SF(tar)A F0 .136
(format is best, or V7)72 207.6 R F2(dump)2.636 E F0 .136
(if the \214le system con\214guration will be the same\).)2.636 F 2.635
(An)5.136 G .635 -.25(ew r)-2.635 H .135(oot \214le system can be).25 F
.325(made and read in using standalone utilites on the tape.)72 219.6 R
.325(The system sources and the rest of the /usr \214le sys-)5.325 F
(tem can then be e)72 231.6 Q 2.5(xtracted. Finally)-.15 F 2.5(,o)-.65 G
(ld \214le systems can be reloaded from tape.)-2.5 E 2.018 -.8(To g)97
247.2 T .418(et an o).8 F -.15(ve)-.15 G(rvie).15 E 2.918(wo)-.25 G
2.917(ft)-2.918 G .417(he process and an idea of some of the alternati)
-2.917 F .717 -.15(ve s)-.25 H(trate).15 E .417(gies that are a)-.15 F
-.25(va)-.2 G(ilable,).25 E
(it is wise to look through all of these instructions before be)72 259.2
Q(ginning.)-.15 E/F3 10/Times-Bold@0 SF 2.5(0.1. Hard)72 283.2 R(war)
-.15 E 2.5(es)-.18 G(upported)-2.5 E F0 .568(This distrib)97 298.8 R
.569(ution can be booted on a PDP-11/23, 24, 34, 34A, 40, 44, 45, 55, 6\
0, or 70 CPU with at)-.2 F(least 192 Kbytes of memory and an)72 310.8 Q
2.5(yo)-.15 G 2.5(ft)-2.5 G(he follo)-2.5 E(wing disks\207:)-.25 E
(DEC MASSB)108 334.8 Q 91.65(US: RM03,)-.1 F(RM05, RP04, RP05, RP06)2.5
E(DEC UNIB)108 346.8 Q 101.11(US: RK05,)-.1 F(RK06, RK07, RL01, RL02,)
2.5 E(RM02, RP03, RP04, RP05, RP06)274.01 358.8 Q(AED 8000 UNIB)108
370.8 Q 78.06(US: AMPEX)-.1 F(DM980 \(emulating RP03\))2.5 E(AED ST)108
382.8 Q 96.2(ORM-II AMPEX)-.18 F(DM980 \(emulating RM02\))2.5 E(DIV)108
394.8 Q 2.5(AC)-1.35 G(OMP V MASSB)-2.5 E 47.45(US: AMPEX)-.1 F(9300)2.5
E(EMULEX SC-21 UNIB)108 406.8 Q 51.39(US: AMPEX)-.1 F
(9300, CDC 9766 \(emulating RM05\))2.5 E(EMULEX SC-11 or SC-21 UNIB)108
418.8 Q 12.5(US: CDC)-.1 F(9762, AMPEX DM980)2.5 E(The tape dri)72 442.8
Q -.15(ve)-.25 G(s\207 supported by this distrib).15 E(ution are:)-.2 E
(DEC MASSB)108 466.8 Q 53.31(US: TE16,)-.1 F(TU45, TU77)2.5 E(DEC UNIB)
108 478.8 Q 62.77(US: TE10,)-.1 F(TE16, TS11, TU45, TU77)2.5 E -.4(DA)
108 490.8 S(TUM 15X20 UNIB)-.71 E 17.9(US: KENNED)-.1 F 2.5(Y9)-.55 G
(100 \(emulating TE10\))-2.5 E(EMULEX TC-11 UNIB)108 502.8 Q 12.5
(US: KENNED)-.1 F 2.5(Y9)-.55 G(100, 9300 \(emulating TE10\))-2.5 E F3
2.5(0.2. Distrib)72 538.8 R(ution f)-.2 E(ormat)-.25 E F0 .183
(The distrib)97 554.4 R .183(ution format is tw)-.2 F 2.683(o9)-.1 G
.182(-track 800bpi or one 1600bpi 2400' magnetic tape\(s\).)-2.683 F
.182(If you are able)5.182 F .757
(to do so, it is a good idea to immediately cop)72 566.4 R 3.257(yt)-.1
G .757(he tape\(s\) in the distrib)-3.257 F .757(ution kit to guard ag)
-.2 F .757(ainst disaster)-.05 F(.)-.55 E 1.792(The \214rst tape contai\
ns some 512-byte records, some 1024-byte records, follo)72 578.4 R 1.792
(wed by man)-.25 F 4.292(y1)-.15 G(0240-byte)-4.292 E 3.682
(records. There)72 590.4 R 1.183(are interspersed tape marks; end-of-ta\
pe is signaled by a double end-of-\214le.)3.682 F 1.183(The second)6.183
F
(tape contains only 10240-byte records with no interspersed tape marks.)
72 602.4 Q .259(The boot tape contains se)97 618 R -.15(ve)-.25 G .259
(ral standalone utility programs, a).15 F F2(dump)2.759 E F0 .259
(image of a root \214le system, and a)2.759 F F2(tar)72 630 Q F0
(image of part of the /usr \214le system.)2.5 E
(The \214les on this tape are:)5 E .32 LW 144 688.2 72 688.2 DL/F4 8
/Times-Roman@0 SF<87>72 696 Q .579(Other controllers and dri)2.579 4 N
-.12(ve)-.2 G 2.579(sm).12 G .579
(ay be easily usable with the system, b)-2.579 F .578
(ut might require minor modi\214cations to)-.16 F .597
(the system to allo)72 710 R 2.597(wb)-.2 G 2.597(ootstrapping. The)
-2.597 F .598(controllers and the dri)2.597 F -.12(ve)-.2 G 2.598(ss).12
G(ho)-2.598 E .598(wn here are kno)-.2 F .598(wn to w)-.2 F .598
(ork as bootstrap)-.08 F(de)72 720 Q(vices.)-.2 E F0(23 October 1995)
254.395 768 Q EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 158.23
(-3- Introduction)95.17 F 12.5(File Contents)185.602 84 R(Record Size)
126.076 E 20.28(0b)190.882 108 S(oot block)-20.28 E(512)140.936 E
(\(EOR\))216.162 120 Q(boot block)216.162 132 Q(512)140.936 E(\(EOR\))
216.162 144 Q(Standalone)216.162 156 Q/F1 10/Times-Bold@0 SF(Boot)2.5 E
F0(512)116.496 E(\(EOF\))216.162 168 Q 20.28(1S)190.882 180 S(tandalone)
-20.28 E F1(cat)2.5 E F0(1024)118.726 E(\(EOF\))216.162 192 Q 20.28(2T)
190.882 204 S(his inde)-20.28 E 136.086(x1)-.15 G(024)-136.086 E(\(use)
216.162 216 Q F1(cat)2.5 E F0(to read\))2.5 E(\(EOF\))216.162 228 Q
20.28(3S)190.882 240 S(tandalone)-20.28 E F1(mkfs)2.5 E F0(1024)110.386
E(\(see)216.162 252 Q/F2 10/Times-Italic@0 SF(mkfs)2.5 E F0<2838298729>
1.666 E(\(EOF\))216.162 264 Q 20.28(4S)190.882 276 S(tandalone)-20.28 E
F1 -.18(re)2.5 G(stor).18 E F0(1024)106.136 E(\(see)216.162 288 Q F2
-.37(re)2.5 G(stor).37 E F0(\(8\)\))1.666 E(\(EOF\))216.162 300 Q 20.28
(5S)190.882 312 S(tandalone)-20.28 E F1(icheck)2.5 E F0(1024)104.276 E
(\(see)216.162 324 Q F2(ic)2.5 E(hec)-.15 E(k)-.2 E F0(\(8\)\))1.666 E
(\(EOF\))216.162 336 Q 20.28(6D)190.882 348 S(ump of small `)-20.28 E
(`root')-.74 E 2.5<278c>-.74 G(le system)-2.5 E(10240)37.426 E
(\(217 10K-byte blocks; see)216.162 360 Q F2(dump)2.5 E F0(\(8\)\))1.666
E(\(EOF\))216.162 372 Q 20.28(7T)190.882 384 S(ar archi)-21.08 E .3 -.15
(ve o)-.25 H 2.5(f/).15 G(usr \214les)-2.5 E(10240)81.326 E
(\(most of the tape; see)216.162 396 Q F2(tar)2.5 E F0(\(1\)\))1.666 E
(\(EOF\))216.162 408 Q(\(EOF\))216.162 420 Q .396
(The last \214le on the 800bpi tape is a)72 444 R F2(tar)2.896 E F0 .396
(image of most of the /usr \214le system e)2.896 F .396
(xcept for sources \(relati)-.15 F .695 -.15(ve t)-.25 H(o).15 E .812
(/usr; see)72 456 R F2(tar)3.312 E F0 3.312(\(1\)\). It)1.666 F .813
(contains most of the binaries and other material which is normally k)
3.312 F .813(ept on-line, with)-.1 F .373(the follo)72 468 R .373
(wing directories:)-.25 F F1 .372
(70 adm bin contrib dict doc games include lib local man msgs pr)2.873 F
(eser)-.18 E .572 -.1(ve p)-.1 H(ub-).1 E .471(lic spool sys tmp ucb)72
480 R F0 5.471(.I)C 2.971(tc)-5.471 G .471
(ontains 1785 10K byte blocks.)-2.971 F .472
(The second 800bpi tape contains one \214le in)5.472 F F2(tar)2.972 E F0
1.005(format, ag)72 492 R 1.005(ain relati)-.05 F 1.304 -.15(ve t)-.25 H
3.504(o/).15 G(usr)-3.504 E 3.504(,c)-.4 G 1.004(onsisting of 1903 10K \
byte blocks and containing the source tree with all)-3.504 F 1.149
(command and k)72 504 R 1.149(ernel sources.)-.1 F 1.149
(It contains the directories)6.149 F F1(ingr)3.649 E(es)-.18 E F0(,)A F1
(net)3.649 E F0 3.649(,a)C(nd)-3.649 E F1(sr)3.65 E(c)-.18 E F0 3.65(,a)
C 1.15(nd includes the Berk)-3.65 F(ele)-.1 E(y)-.15 E .008
(additions \(which are in /usr/src/ucb and /usr/ingres\).)72 516 R(The)
5.008 E F1(net)2.508 E F0 .008
(directory contains sources for the TCP/IP sys-)2.508 F 2.5(tem. On)72
528 R(the 1600bpi tape, the tw)2.5 E(o)-.1 E F2(tar)2.5 E F0
(images are combined into one tape \214le of 3687 10K byte blocks.)2.5 E
F1 2.5(0.3. UNIX)72 552 R(de)2.5 E(vice naming)-.15 E F0 .048
(UNIX has a set of names for de)97 567.6 R .048(vices that are dif)-.25
F .048(ferent from the DEC names for the de)-.25 F 2.548(vices. The)-.25
F(disk)2.548 E(and tape names used by the bootstrap and the system are:)
72 579.6 Q(RK05 disks)108 603.6 Q F1(rk)107.76 E F0(RK06, RK07 disks)108
615.6 Q F1(hk)78.87 E F0(RL01, RL02 disks)108 627.6 Q F1(rl)81.09 E F0
(RP02, RP03 disks)108 639.6 Q F1 -.1(rp)82.19 G F0
(TE16, TU45, TU77/TM02, 3 tapes)108 651.6 Q F1(ht)15 E F0
(TE10/TM11 tapes)108 663.6 Q F1(tm)81.66 E F0(TS11 tapes)108 675.6 Q F1
(ts)109.99 E .32 LW 144 698.2 72 698.2 DL/F3 8/Times-Roman@0 SF<87>72
706 Q .446(References of the form)4 J/F4 8/Times-Italic@0 SF(X)2.447 E
F3(\()A F4(Y)A F3 2.447(\)m)C .447(ean the subsection named)-2.447 F F4
(X)2.447 E F3 .447(in section)2.447 F F4(Y)2.447 E F3 .447(of the Berk)
2.447 F(ele)-.08 E(y)-.12 E/F5 6/Times-Roman@0 SF .947(PDP-11 UNIX)2.447
F F3(Program-)2.447 E(mer')72 720 Q 2(sm)-.44 G(anual.)-2 E F0
(23 October 1995)254.395 768 Q EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 158.23
(-4- Introduction)95.17 F .115(There is also a generic disk dri)97 84 R
-.15(ve)-.25 G -.4(r,).15 G/F1 10/Times-Bold@0 SF(xp)3.015 E F0 2.615
(,t)C .114(hat will handle most types of SMD disks on one or more con-)
-2.615 F .669(trollers \(e)72 96 R -.15(ve)-.25 G 3.169(nd).15 G(if)
-3.169 E .669(ferent types on the same controller\).)-.25 F(The)5.669 E
F1(xp)3.169 E F0(dri)3.169 E -.15(ve)-.25 G 3.17(rh).15 G .67
(andles RM02, RM03, RM05, RP04,)-3.17 F(RP05 and)72 108 Q
(RP06 disks on DEC, Emule)5 E(x, and Di)-.15 E .5 -.25(va U)-.25 H(NIB)
.25 E(US or MASSB)-.1 E(US controllers.)-.1 E
(The standalone system used to bootstrap the full UNIX system uses de)97
123.6 Q(vice names of the form:)-.25 E/F2 10/Times-Italic@0 SF(xx)108
141.6 Q F0(\()1.666 E F2(y)A F0(,)A F2(z)A F0(\))A(where)72 159.6 Q F2
(xx)3.346 E F0 .846(is one of)3.346 F F1(hk)3.346 E F0(,)A F1(ht)3.346 E
F0(,)A F1(rk)3.346 E F0(,)A F1(rl)3.346 E F0(,)A F1 -.1(rp)3.346 G F0(,)
.1 E F1(tm)3.346 E F0(,)A F1(ts)3.345 E F0 3.345(,o)C(r)-3.345 E F1(xp)
3.345 E F0 5.845(.T)C .845(he v)-5.845 F(alue)-.25 E F2(y)3.345 E F0
.845(speci\214es the de)3.345 F .845(vice or dri)-.25 F 1.145 -.15(ve u)
-.25 H .845(nit to use.).15 F(The)72 171.6 Q F2(z)3.07 E F0 -.25(va)3.07
G .57(lue is interpreted dif).25 F .57
(ferently for tapes and disks: for disks it is a block of)-.25 F .571
(fset for a \214le system and)-.25 F
(for tapes it is a \214le number on the tape.)72 183.6 Q(Lar)97 199.2 Q
.253(ge UNIX ph)-.18 F .253(ysical disks \()-.05 F F1(hk)A F0(,)A F1 -.1
(rp)2.753 G F0(,).1 E F1(xp)2.753 E F0 2.752(\)a)C .252(re di)-2.752 F
.252(vided into 8 logical disk partitions, each of which may)-.25 F
(occup)72 211.2 Q 3.185(ya)-.1 G .985 -.15(ny c)-3.185 H(onsecuti).15 E
.985 -.15(ve cy)-.25 H .685(linder range on the ph).15 F .685(ysical de)
-.05 F 3.185(vice. The)-.25 F -.15(cy)3.185 G .686
(linders occupied by the 8 partitions).15 F .727(for each dri)72 223.2 R
1.027 -.15(ve t)-.25 H .727
(ype are speci\214ed in section 4 of the Berk).15 F(ele)-.1 E 3.227(yP)
-.15 G(DP-11)-3.227 E/F3 8/Times-Roman@0 SF(UNIX)3.226 E F0(Programmer')
3.226 E 3.226(sm)-.55 G 3.226(anual.\207 Each)-3.226 F .385
(partition may be used for either a ra)72 235.2 R 2.885(wd)-.15 G .385
(ata area such as a sw)-2.885 F .385
(apping area or to store a UNIX \214le system.)-.1 F(It)5.385 E .23
(is con)72 247.2 R -.15(ve)-.4 G .229(ntional for the \214rst partition\
 on a disk to be used to store a root \214le system, from which UNIX ma\
y).15 F .814(be bootstrapped.)72 259.2 R .814
(The second partition is traditionally used as a sw)5.814 F .815
(apping area, and the rest of the disk is)-.1 F(di)72 271.2 Q
(vided into spaces for additional `)-.25 E(`mounted \214le systems')-.74
E 2.5('b)-.74 G 2.5(yu)-2.5 G(se of one or more additional partitions.)
-2.5 E .819(The disk partitions ha)97 286.8 R 1.119 -.15(ve n)-.2 H .818
(ames in the standalone system of the form `).15 F(`)-.74 E F2(xx)A F0
(\()1.666 E F2(y)A F0(,)A F2(z)A F0(\)')A 3.318('a)-.74 G 3.318(sd)
-3.318 G .818(escribed abo)-3.318 F -.15(ve)-.15 G(.).15 E .711
(Thus partition 1 of an RK07 at dri)72 298.8 R 1.011 -.15(ve 0 w)-.25 H
.711(ould be `).05 F(`hk\(0,5940\)')-.74 E 3.211('. When)-.74 F .712
(not running standalone, this parti-)3.211 F 1.527(tion w)72 310.8 R
1.527(ould normally be a)-.1 F -.25(va)-.2 G 1.527(ilable as `).25 F
(`/de)-.74 E(v/hk0b')-.25 E 4.027('. Here)-.74 F 1.527(the pre\214x `)
4.027 F(`/de)-.74 E(v')-.25 E 4.027('i)-.74 G 4.027(st)-4.027 G 1.527
(he name of the directory)-4.027 F .011(where all `)72 322.8 R .011
(`special \214les')-.74 F 2.511('n)-.74 G .011(ormally li)-2.511 F -.15
(ve)-.25 G 2.511(,t).15 G .012(he `)-2.511 F(`hk')-.74 E 2.512('s)-.74 G
(erv)-2.512 E .012(es an ob)-.15 F .012(vious purpose, the `)-.15 F(`0')
-.74 E 2.512('i)-.74 G .012(denti\214es this as a par)-2.512 F(-)-.2 E
.563(tition of hk dri)72 334.8 R .863 -.15(ve n)-.25 H .563(umber `).15
F(`0')-.74 E 3.063('a)-.74 G .563(nd the `)-3.063 F(`b')-.74 E 3.063('i)
-.74 G .563
(denti\214es this as partition 1 \(where we number from 0, the 0th)
-3.063 F .335(partition being `)72 346.8 R(`hk0a')-.74 E 2.835
('\). Finally)-.74 F 2.835(,`)-.65 G(`5940')-3.575 E 2.835('i)-.74 G
2.835(st)-2.835 G .336(he sector of)-2.835 F .336
(fset to partition 1, as determined from the manual)-.25 F(page)72 358.8
Q F2(hk)2.5 E F0(\(4\).)1.666 E 1.893(Returning to the discussion of th\
e standalone system, we recall that tapes also took tw)97 374.4 R 4.393
(oi)-.1 G(nte)-4.393 E(ger)-.15 E 2.611(parameters. In)72 386.4 R .111
(the case of a TE16/TU tape formatter on dri)2.611 F .412 -.15(ve 0)-.25
H 2.612(,t).15 G .112(he \214les on the tape ha)-2.612 F .412 -.15(ve n)
-.2 H .112(ames `).15 F(`ht\(0,0\)')-.74 E(',)-.74 E -.74(``)72 398.4 S
(ht\(0,1\)').74 E 1.263(', etc.)-.74 F 1.263(Here `)6.263 F(`\214le')
-.74 E 3.763('m)-.74 G 1.262(eans a tape \214le containing a single dat\
a stream separated by a single tape)-3.763 F 3.014(mark. The)72 410.4 R
(distrib)3.014 E .514(ution tapes ha)-.2 F .814 -.15(ve d)-.2 H .515(at\
a structures in the tape \214les and though the \214rst tape contains o\
nly 8).15 F(tape \214les, it contains se)72 422.4 Q -.15(ve)-.25 G
(ral thousand UNIX \214les.).15 E F1 2.5(0.4. UNIX)72 446.4 R(de)2.5 E
(vices: block and raw)-.15 E F0 .836(UNIX mak)97 462 R .836
(es a distinction between `)-.1 F(`block')-.74 E 3.336('a)-.74 G .836
(nd `)-3.336 F(`character')-.74 E 3.336('\()-.74 G(ra)-3.336 E .836
(w\) de)-.15 F 3.336(vices. Each)-.25 F .835(disk has a block)3.335 F
(de)72 474 Q .279(vice interf)-.25 F .279(ace where the system mak)-.1 F
.279(es the de)-.1 F .28
(vice byte addressable and you can write a single byte in the)-.25 F
.586(middle of the disk.)72 486 R .585
(The system will read out the data from the disk sector)5.586 F 3.085
(,i)-.4 G .585(nsert the byte you g)-3.085 F -2.25 -.2(av e)-.05 H .585
(it and)3.285 F .333(put the modi\214ed data back.)72 498 R .334
(The disks with the names `)5.333 F(`/de)-.74 E(v/)-.25 E F2(xx)A F0
(0a').833 E .334(', etc. are block de)-.74 F .334
(vices and thus use the)-.25 F(system')72 510 Q 2.925(sn)-.55 G .425
(ormal b)-2.925 F(uf)-.2 E .425(fering mechanism.)-.25 F .425
(There are also ra)5.425 F 2.925(wd)-.15 G -.25(ev)-2.925 G .425(ices a)
.25 F -.25(va)-.2 G .425(ilable, which do ph).25 F .425
(ysical I/O opera-)-.05 F .118(tions directly from the program')72 522 R
2.618(sd)-.55 G .118(ata area.)-2.618 F .119(These ha)5.118 F .419 -.15
(ve n)-.2 H .119(ames lik).15 F 2.619(e`)-.1 G(`/de)-3.359 E(v/r)-.25 E
F2(xx)A F0(0a').833 E .119(', the `)-.74 F(`r')-.74 E 2.619('h)-.74 G
.119(ere standing for)-2.619 F -.74(``)72 534 S(ra).74 E -.65(w.)-.15 G
4.048 -.74('' I)-.05 H 2.567(nt).74 G .067
(he bootstrap procedures we will often suggest using the ra)-2.567 F
2.567(wd)-.15 G -.25(ev)-2.567 G .067(ices, because these tend to w).25
F(ork)-.1 E -.1(fa)72 546 S(ster).1 E 5.574(.I)-.55 G 3.074(ng)-5.574 G
.574(eneral, ho)-3.074 F(we)-.25 E -.15(ve)-.25 G 1.374 -.4(r, t).15 H
.574(he block de).4 F .574(vices are used.)-.25 F(The)5.574 E 3.074(ya)
-.15 G .575(re where \214le systems are `)-3.074 F(`mounted.)-.74 E
4.555 -.74('' T)-.7 H(he).74 E .294
(UNIX name space is increased by logically associating \()72 558 R F2
(mount)A F0 .293(ing\) a UNIX \214le system residing on a gi)1.666 F
-.15(ve)-.25 G(n).15 E .562(block de)72 570 R .562
(vice with a directory in the current name space.)-.25 F(See)5.562 E F2
(mount)3.063 E F0 .563(\(2\) and)1.666 F F2(mount)3.063 E F0 3.063
(\(8\). This)1.666 F .563(association is)3.063 F(se)72 582 Q -.15(ve)
-.25 G(red by).15 E F2(umount)2.5 E F0(.)A -1.1(Yo)97 597.6 S 2.822(us)
1.1 G .322(hould be a)-2.822 F -.1(wa)-.15 G .322
(re that it is sometimes important to use the character de).1 F .321
(vice \(for ef)-.25 F(\214cienc)-.25 E .321(y\) or not)-.15 F .518
(\(because it w)72 609.6 R(ouldn')-.1 E 3.019(tw)-.18 G .519
(ork, e.g. to write a single byte in the middle of a sector\).)-3.119 F
(Don')5.519 E 3.019(tc)-.18 G .519(hange the instruc-)-3.019 F
(tions by using the wrong type of de)72 621.6 Q(vice indiscriminately)
-.25 E(.)-.65 E F1 2.5(0.5. Reporting)72 645.6 R(pr)2.5 E
(oblems or questions)-.18 E F0 .721(Problems with the softw)97 661.2 R
.721(are of this distrib)-.1 F .721
(ution, or errors or omissions in the documentation, should)-.2 F
(be reported to the 2BSD group.)72 673.2 Q -.15(Fo)5 G 2.5(rb).15 G
(ug reports and \214x)-2.7 E(es, the address is:)-.15 E .32 LW 144 708.2
72 708.2 DL F3<87>72 716 Q
(It is possible to change the partitions by changing the v)4 I
(alues in the disk')-.2 E 2(ss)-.44 G(izes array in ioconf.c.)-2 E F0
(23 October 1995)254.395 768 Q EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 158.23
(-5- Introduction)95.17 F(2bsd-b)108 84 Q(ugs@berk)-.2 E(ele)-.1 E 59.7
(y\()-.15 G(by ARP)-59.7 E(Anet\))-.92 E(or)113 96 Q(ucb)108 108 Q -.25
(va)-.15 G(x!2bsd-b).25 E 68.78(ugs \(by)-.2 F(UUCP\))2.5 E .243
(These reports or \214x)72 126 R .243(es are e)-.15 F .243
(xpected to be in the format generated by the)-.15 F/F1 10
/Times-Italic@0 SF(sendb)2.743 E(ug)-.2 E F0 .244(\(1\) program.)1.666 F
-.15(Fo)5.244 G 2.744(ra).15 G(dminis-)-2.744 E(trati)72 138 Q .3 -.15
(ve c)-.25 H(oncerns, use:).15 E(2bsd@berk)108 156 Q(ele)-.1 E 81.72
(y\()-.15 G(by ARP)-81.72 E(Anet\))-.92 E(or)113 168 Q(ucb)108 180 Q
-.25(va)-.15 G 90.8(x!2bsd \(by).25 F(UUCP\))2.5 E 3.377(Ar)72 198 S
(edistrib)-3.377 E .876(ution list of users who ha)-.2 F 1.176 -.15
(ve i)-.2 H .876(ndicated that the).15 F 3.376(yw)-.15 G .876(ould lik)
-3.476 F 3.376(et)-.1 G 3.376(or)-3.376 G(ecei)-3.376 E 1.176 -.15(ve b)
-.25 H .876(ug reports is also main-)-.05 F(tained:)72 210 Q
(2bsd-people@berk)108 228 Q(ele)-.1 E 51.73(y\()-.15 G(by ARP)-51.73 E
(Anet\))-.92 E(or)113 240 Q(ucb)108 252 Q -.25(va)-.15 G 60.81
(x!2bsd-people \(by).25 F(UUCP\))2.5 E .049(This list may also be used \
as a general forum for help requests, sharing common e)72 270 R .05
(xperiences, etc.)-.15 F(Requests)5.05 E .065(to be added to or deleted\
 from this list should be made to the 2bsd address abo)72 282 R -.15(ve)
-.15 G 5.065(.I).15 G 2.565(fi)-5.065 G 2.565(ti)-2.565 G 2.565(sn)
-2.565 G .065(ot possible to use)-2.565 F .795
(electronic mail, then call or write the 2BSD of)72 294 R 3.295
(\214ce. Although)-.25 F .796(there is seldom someone there to tak)3.295
F 3.296(ey)-.1 G(our)-3.296 E 1.318
(call, there is an answering machine, and your request will be forw)72
306 R 1.318(arded to the appropriate person.)-.1 F(The)6.318 E
(phone number and mailing address are:)72 318 Q(Berk)108 336 Q(ele)-.1 E
(y)-.15 E/F2 9/Times-Roman@0 SF(PDP)2.5 E F0(-11 Softw)A(are Distrib)-.1
E(ution \255 2BSD)-.2 E(Computer Science Di)108 348 Q
(vision, Department of)-.25 E F2(EECS)2.5 E F0(573 Ev)108 360 Q
(ans Hall)-.25 E(Uni)108 372 Q -.15(ve)-.25 G(rsity of California, Berk)
.15 E(ele)-.1 E(y)-.15 E(Berk)108 384 Q(ele)-.1 E 1.3 -.65(y, C)-.15 H
(alifornia 94720).65 E(\(415\) 642-6258)108 396 Q(23 October 1995)
254.395 768 Q EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 151
(-6- Bootstrapping)95.17 F/F1 12/Times-Bold@0 SF(2. BOO)202.578 84 Q
(TSTRAP PR)-.48 E(OCEDURES)-.36 E F0 1.255(This section e)97 123.6 R
1.256
(xplains the bootstrap procedures that can be used to get one of the k)
-.15 F 1.256(ernels supplied)-.1 F .056
(with this tape running on your machine.)72 135.6 R .056
(If you are not yet running UNIX or are running a v)5.056 F .056
(ersion of UNIX)-.15 F(other than 2.8BSD, you will ha)72 147.6 Q .3 -.15
(ve t)-.2 H 2.5(od).15 G 2.5(oaf)-2.5 G(ull bootstrap.)-2.5 E .116(If y\
ou are running 2.8BSD you can use the update procedure described in sec\
tion 4.2 instead of a full)97 163.2 R 2.917(bootstrap. This)72 175.2 R
.417(will af)2.917 F .417
(fect modi\214cations to the local system less than a full bootstrap.)
-.25 F .416(Note, ho)5.417 F(we)-.25 E -.15(ve)-.25 G 1.216 -.4(r, t).15
H(hat).4 E 2.7(af)72 187.2 S .2
(ull bootstrap will probably require less ef)-2.7 F .201
(fort unless you ha)-.25 F .501 -.15(ve m)-.2 H .201
(ade major local modi\214cations which you).15 F(must carry o)72 199.2 Q
-.15(ve)-.15 G 2.5(rt).15 G 2.5(ot)-2.5 G(he ne)-2.5 E 2.5(ws)-.25 G
(ystem.)-2.5 E .636(If you are already running UNIX and need to do a fu\
ll bootstrap you should \214rst sa)97 214.8 R .936 -.15(ve y)-.2 H .636
(our e).15 F(xisting)-.15 E .674(\214les on magnetic tape.)72 226.8 R
.675(The 2.9BSD \214le system uses 1K-byte blocks by clustering disk bl\
ocks \(as did the)5.674 F 1.424
(2.8BSD system\); \214le systems in other formats cannot be mounted.)72
238.8 R/F2 10/Times-Bold@0 SF 1.424(Those upgrading fr)6.424 F 1.424
(om 2.8 should)-.18 F .988(note that 2.9BSD uses generally differ)72
250.8 R .988
(ent \214le system partition sizes than 2.8BSD, and that a few of)-.18 F
.899(the major de)72 262.8 R .899(vice numbers ha)-.15 F 1.099 -.1(ve c)
-.25 H .899(hanged \(in particular).1 F 3.399(,t)-.92 G .899(hat f)
-3.399 F .899(or the hk\).)-.25 F F0 .899(The easiest w)5.899 F .898
(ay to sa)-.1 F 1.198 -.15(ve t)-.2 H(he).15 E .338(current \214les on \
tape is by doing a full dump and then restoring in the ne)72 274.8 R
2.839(ws)-.25 G 2.839(ystem. This)-2.839 F -.1(wo)2.839 G .339
(rks also in con-).1 F -.15(ve)72 286.8 S .533
(rting V7, System-III, or System-V 512-byte \214le systems.).15 F .532
(Although the dump format is dif)5.533 F .532(ferent on V7,)-.25 F .895
(System-III, and System-V)72 298.8 R(,)-1.29 E/F3 10/Times-Italic@0 SF
(512r)3.395 E(estor)-.37 E F0 .895(\(8\) can restore old format V7)1.666
F F3(dump)3.396 E F0 .896(image tapes into the \214le system)3.396 F
.542(format used by 2.9BSD.)72 310.8 R F3 -.92(Ta)5.542 G(r).92 E F0
.542(\(1\) can also be used to e)1.666 F .542(xchange \214les from dif)
-.15 F .542(ferent \214le system formats, and)-.25 F .174
(has the additional adv)72 322.8 R .174
(antage that directory trees can be placed on dif)-.25 F .175
(ferent \214le systems than on the old con-)-.25 F 2.5
(\214guration. Note)72 334.8 R(that 2.9BSD does not support)2.5 E F3
(cpio)2.5 E F0(tape format.)2.5 E .782(The tape bootstrap procedure in)
97 350.4 R -.2(vo)-.4 G(lv).2 E .782(es three steps:)-.15 F .781
(loading the tape bootstrap monitor)5.782 F 3.281(,c)-.4 G .781
(reating and)-3.281 F(initializing a UNIX `)72 362.4 Q(`root')-.74 E 2.5
<278c>-.74 G(le system system on the disk, and booting the system.)-2.5
E F2 2.5(2.1. Booting)72 386.4 R(fr)2.5 E(om tape)-.18 E F0 2.646 -.8
(To l)97 402 T 1.046(oad the tape bootstrap monitor).8 F 3.546<2c8c>-.4
G 1.046(rst mount the magnetic tape on dri)-3.546 F 1.347 -.15(ve 0 a)
-.25 H 3.547(tl).15 G 1.047(oad point, making)-3.547 F .09
(sure that the write ring is not inserted.)72 414 R .089
(Then use the normal bootstrap R)5.09 F .089
(OM, console monitor or other boot-)-.4 F 1.797
(strap to boot from the tape.)72 426 R 1.797(If no other means are a)
6.797 F -.25(va)-.2 G 1.797(ilable, the follo).25 F 1.798
(wing code can be k)-.25 F -.15(ey)-.1 G 1.798(ed in and).15 F -.15(exe)
72 438 S .833(cuted at \(say\) 0100000 to boot from a TM tape dri).15 F
1.133 -.15(ve \()-.25 H .833
(the magic number 172526 is the address of the).15 F .278
(TM-11 current memory address re)72 450 R .279(gister; an adjustment ma\
y be necessary if your controller is at a nonstan-)-.15 F
(dard address\):)72 462 Q 12.5(012700 \(mo)108 486 R 2.5(v$)-.15 G
(172526, r0\))-2.5 E(172526)108 498 Q 12.5(010040 \(mo)108 510 R 2.5(vr)
-.15 G(0, \255\(r0\)\))-2.5 E 12.5(012740 \(mo)108 522 R 2.5(v$)-.15 G
(60003, \255\(r0\)\))-2.5 E(060003)108 534 Q 12.5(000777 \(br)108 546 R
(.\))2.5 E 1.053(When this is e)72 570 R -.15(xe)-.15 G 1.053
(cuted, the \214rst block of the tape will be read into memory).15 F
6.053(.H)-.65 G 1.053(alt the CPU and restart at)-6.053 F(location 0.)72
582 Q(The console should type)97 597.6 Q F3(nn)108 615.6 Q F2(Boot)A(:)
108 627.6 Q F0(where)72 645.6 Q F3(nn)3.413 E F0 .914
(is the CPU class on which it belie)3.413 F -.15(ve)-.25 G 3.414(si).15
G 3.414(ti)-3.414 G 3.414(sr)-3.414 G 3.414(unning. The)-3.414 F -.25
(va)3.414 G .914(lue will be one of 24, 40, 45 or 70,).25 F .055(depend\
ing on whether separate instruction and data \(separate I/D\) and/or a \
UNIB)72 657.6 R .055(US map are detected.)-.1 F(The)5.055 E
(CPUs in each class are:)72 669.6 Q(23 October 1995)254.395 768 Q EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 151
(-7- Bootstrapping)95.17 F 12.5(Class PDP11s)108 84 R(Separate I/D)59.99
E(UNIB)15 E(US map)-.1 E 18.335(24 24)113.835 96 R 64.065(-+)105.685 G
18.335(40 23,)113.835 108 R(34, 34A, 40, 60)2.5 E 65.22(--)38.465 G
18.335(45 45,)113.835 120 R(55, 73, 83)2.5 E 64.065(+-)59.53 G 18.335
(70 44,)113.835 132 R(70, 84)2.5 E 62.91(++)74.53 G .228
(The bootstrap can be forced to set up the machine as for a dif)72 156 R
.229(ferent class of PDP11 by placing an appropri-)-.25 F .996(ate v)72
168 R .996(alue in the console switch re)-.25 F .996
(gister \(if there is one\) while booting it.)-.15 F .996(The v)5.996 F
.996(alue to use is the PDP11)-.25 F .193(class, interpreted as an)72
180 R/F1 10/Times-Italic@0 SF(octal)2.693 E F0 .193(number \(use, for e)
2.693 F .194(xample, 070 for an 11/70\).)-.15 F/F2 10/Times-Bold@0 SF
-.65(Wa)5.194 G -.15(rn).65 G(ing:).15 E F0 .194(some old DEC boot-)
5.194 F .481(straps use the switch re)72 192 R .481
(gister to indicate where to boot from.)-.15 F .48
(On such machines, if the v)5.48 F .48(alue in the switch)-.25 F(re)72
204 Q .364(gister indicates an incorrect CPU, be sure to reset the swit\
ches immediately after initiating the tape boot-)-.15 F(strap.)72 216 Q
-1.1(Yo)97 231.6 S 3.034(ua)1.1 G .534(re no)-3.034 F 3.034(wt)-.25 G
.534(alking to the tape bootstrap monitor)-3.034 F 5.534(.A)-.55 G 3.033
(ta)-5.534 G .833 -.15(ny p)-3.033 H .533(oint in the follo).15 F .533
(wing procedure you can)-.25 F
(return to this section, reload the tape bootstrap, and restart.)72
243.6 Q 2.362 -.8(To \214)97 259.2 T .762(rst check that e).8 F -.15(ve)
-.25 G .763(rything is w).15 F .763(orking properly)-.1 F 3.263(,y)-.65
G .763(ou can use the)-3.263 F F1(cat)3.263 E F0 .763
(program on the tape to print)3.263 F .644
(the list of utilities on the tape.)72 271.2 R .643
(Through the rest of this section, substitute the correct disk type for)
5.644 F F1(dk)3.143 E F0(and)3.143 E(the tape type for)72 283.2 Q F1(tp)
2.5 E F0 5(.I)C 2.5(nr)-5 G
(esponse to the prompt of the bootstrap which is no)-2.5 E 2.5(wr)-.25 G
(unning, type)-2.5 E F1(tp)108 301.2 Q F0 18.894(\(0,1\) \(load)1.666 F
(\214le 1 from tape 0\))2.5 E F1(Cat)72 319.2 Q F0(will respond)2.5 E F2
(Cat)108 337.2 Q(File?)108 349.2 Q F0
(The table of contents is in \214le 2 on the tape, therefore answer)72
367.2 Q F1(tp)108 385.2 Q F0(\(0,2\))1.666 E(The tape will mo)72 403.2 Q
-.15(ve)-.15 G 2.5(,t).15 G
(hen a short list of \214les will print on the console, follo)-2.5 E
(wed by:)-.25 E F2(exit called)108 421.2 Q F1(nn)108 433.2 Q F2(Boot)A
(:)108 445.2 Q F0(After)72 463.2 Q F1(cat)2.5 E F0
(is \214nished, it returns to the bootstrap for the ne)2.5 E
(xt operation.)-.15 E F2 2.5(2.2. Cr)72 487.2 R
(eating an empty UNIX \214le system)-.18 E F0(No)97 502.8 Q 2.798(wc)
-.25 G .299(reate the root \214le system using the follo)-2.798 F .299
(wing procedures.)-.25 F .299(First determine the size of your root)
5.299 F(\214le system from the follo)72 514.8 Q(wing table:)-.25 E 14.72
(Disk Root)108 538.8 R(File System Size)2.5 E(\(1K-byte blocks\))149.11
550.8 Q 23.61(hk 2970)108 574.8 R 20.28(rk\207 2000)108 586.8 R 12.5
(rl01\207 4000)108 598.8 R 12.5(rl02\207 8500)108 610.8 R 25.28(rp 5200)
108 622.8 R 23.61(xp 4807)108 634.8 R(\(RP04/RP05/RP06\))2.5 E
(2400 \(RM02/RM03\))144.11 646.8 Q(5168 \(RM05\))144.11 658.8 Q
(4702 \(DIV)144.11 670.8 Q(A\))-1.35 E .17
(If the disk on which you are creating a root \214le system is an)97
698.4 R F2(xp)2.669 E F0 .169(disk, you should check the dri)2.669 F
.469 -.15(ve t)-.25 H(ype).15 E(re)72 710.4 Q .427
(gister at this time to mak)-.15 F 2.927(es)-.1 G .427(ure it holds a v)
-2.927 F .427(alue that will be recognized correctly by the dri)-.25 F
-.15(ve)-.25 G 4.027 -.55(r. T).15 H .427(here are).55 F .32 LW 144
718.4 72 718.4 DL/F3 8/Times-Roman@0 SF<87>72 726.2 Q
(These sizes are for full disks less some space used for sw)4 I(apping.)
-.08 E F0(23 October 1995)254.395 768 Q EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 151
(-8- Bootstrapping)95.17 F(numbering con\215icts; the follo)72 84 Q
(wing numbers are used internally:)-.25 E(Dri)123.955 108 Q .3 -.15
(ve T)-.25 H(ype Re)-.65 E 28.455(gister Dri)-.15 F .3 -.15(ve A)-.25 H
(ssumed).15 E(Lo)144.37 120 Q 2.5(wB)-.25 G(yte)-2.5 E
(\(nominal address: 0776726\))108 132 Q 61.105(022 RP04/05/06)156.605
156 R 61.105(025 RM02/RM03)156.605 168 R 61.105(027 RM05)156.605 180 R
61.105(076 Emule)156.605 192 R 2.5(xS)-.15 G(C-21/300 Mb 815 c)-2.5 E
(ylinder RM05 emulation)-.15 E 61.105(077 Di)156.605 204 R .5 -.25(va C)
-.25 H(omp-V/300 Mb SMD).25 E .755(Check the dri)72 228 R 1.055 -.15
(ve t)-.25 H .755
(ype number in your controller manual, or halt the CPU and e).15 F .755
(xamine this re)-.15 F(gister)-.15 E 5.755(.I)-.55 G 3.255(ft)-5.755 G
(he)-3.255 E -.25(va)72 240 S .745
(lue does not correspond to the actual dri).25 F 1.045 -.15(ve t)-.25 H
.745(ype, you must place the correct v).15 F .745(alue in the switch re)
-.25 F(gister)-.15 E .023
(after the tape bootstrap is running and before an)72 252 R 2.523(ya)
-.15 G .023(ttempt is made to access the dri)-2.523 F -.15(ve)-.25 G
5.022(.T).15 G .022(his will o)-5.022 F -.15(ve)-.15 G .022(rride the)
.15 F(dri)72 264 Q .418 -.15(ve t)-.25 H .118(ype re).15 F(gister)-.15 E
5.118(.T)-.55 G .119(his v)-5.118 F .119(alue must be present at the ti\
me each program \(including the bootstrap itself\) \214rst)-.25 F .207
(tries to access the disk.)72 276 R .207
(On machines without a switch re)5.207 F(gister)-.15 E 2.707(,t)-.4 G
(he)-2.707 E/F1 10/Times-Italic@0 SF(xptype)2.707 E F0 -.25(va)2.706 G
.206(riable can be patched in mem-).25 F(ory)72 288 Q 5.075(.A)-.65 G
.075(fter starting each utility b)-5.075 F .075
(ut before accessing the disk, halt the CPU, place the ne)-.2 F 2.575
(wd)-.25 G(ri)-2.575 E .375 -.15(ve t)-.25 H .075(ype number).15 F 1.039
(at the proper memory location with the console switches or monitor)72
300 R 3.539(,a)-.4 G 1.039(nd then continue.)-3.539 F 1.038
(The location of)6.038 F F1(xptype)72 312 Q F0 .783
(in each utility is mkfs:)3.283 F .783(032724, restor:)5.783 F .783
(031614, icheck:)5.783 F .784(030174 and boot:)5.783 F .784
(0430000 \(the location)5.784 F 1.055
(for boot is higher because it relocates itself\).)72 324 R 1.055
(Once UNIX itself is booted \(see belo)6.055 F 1.055
(w\) you must patch it)-.25 F(also.)72 336 Q(Finally)97 351.6 Q 3.144
(,d)-.65 G .644(etermine the proper interlea)-3.144 F .644(ving f)-.2 F
(actors)-.1 E F1(m)3.145 E F0(and)3.145 E F1(n)3.145 E F0 .645
(for your disk and CPU combination from)3.145 F .186(the follo)72 363.6
R .186(wing table.)-.25 F .185(These numbers determine the layout of th\
e free list that will be constructed; the proper)5.186 F(interlea)72
375.6 Q .454(ving will help increase the speed of the \214le system.)-.2
F .454(If you ha)5.454 F .754 -.15(ve a n)-.2 H .454
(on-DEC disk that emulates one).15 F .174
(of the disks listed, you may be able to use these numbers as well, b)72
387.6 R .173(ut check that the actual disk geometry is)-.2 F .27(the sa\
me as the emulated disk \(rather than the controller mapping onto a dif)
72 399.6 R .27(ferent ph)-.25 F .27(ysical disk\).)-.05 F .27(Also, the)
5.27 F(rotational speed must be the same as the DEC disk for these numb\
ers to apply)72 411.6 Q(.)-.65 E/F2 10/Times-Bold@0 SF(Disk Interlea)
164.51 435.6 Q(ving F)-.25 E(actors f)-.25 E
(or Disk/CPU Combinations \()-.25 E F1(m)A F2(/)A F1(n)A F2(\))A F0
15.83(CPU RK05)108 447.6 R 12.5(RK06/7 RL01/2 RM02 RM03 RM05 RP03)15 F
(RP04/5/6)17.77 E 12.5(11/23 X/12)108 471.6 R 24.17(X/33 X/10)18.89 F
18.06(X/80 -)25.56 F 37.23(-X)37.23 G 12.5(/100 X/209)-37.23 F 12.5
(11/24 X/12)108 483.6 R 26.39(7/33 X/10)18.89 F 15.28(10/80 -)25.56 F
37.23(-X)37.23 G 12.5(/100 10/209)-37.23 F 12.5(11/34 X/12)108 495.6 R
26.39(6/33 X/10)18.89 F 20.28(8/80 -)25.56 F 37.23(-3)37.23 G 14.72
(/100 8/209)-37.23 F 12.5(11/40 2/12)108 507.6 R 26.39(6/33 X/10)21.11 F
20.28(8/80 -)25.56 F 37.23(-3)37.23 G 14.72(/100 8/209)-37.23 F 12.5
(11/44 X/12)108 519.6 R 26.39(4/33 X/10)18.89 F 20.28(6/80 -)25.56 F
37.23(-2)37.23 G 14.72(/100 6/209)-37.23 F 12.5(11/45 2/12)108 531.6 R
26.39(5/33 X/10)21.11 F 20.28(7/80 -)25.56 F 37.23(-3)37.23 G 14.72
(/100 7/209)-37.23 F 12.5(11/55 X/12)108 543.6 R 26.39(5/33 X/10)18.89 F
20.28(7/80 -)25.56 F 37.23(-3)37.23 G 14.72(/100 7/209)-37.23 F 12.5
(11/60 X/12)108 555.6 R 26.39(5/33 X/10)18.89 F 20.28(7/80 -)25.56 F
37.23(-3)37.23 G 14.72(/100 7/209)-37.23 F 12.5(11/70 X/12)108 567.6 R
26.39(3/33 X/10)18.89 F 20.28(5/80 7/80 7/304)25.56 F 12.5(X/100 5/209)
17.78 F -.15(Fo)72 591.6 S 2.651(re).15 G .151
(xample, for an RP06 on an 11/70,)-2.801 F F1(m)2.651 E F0 .151
(is 5 and)2.651 F F1(n)2.651 E F0 .151(is 209.)2.651 F(See)5.15 E F1
(mkfs)2.65 E F0 .15(\(8\) for more e)1.666 F .15(xplanation of the v)
-.15 F(alues)-.25 E(of)72 603.6 Q F1(m)3.152 E F0(and)3.152 E F1(n)3.152
E F0 5.652(.A)C 3.152(nXe)-5.652 G .652(ntry means that we do not kno)
-3.152 F 3.152(wt)-.25 G .653
(he correct number for this combination of CPU and)-3.152 F 2.726
(disk. If)72 615.6 R .226(you do, please let us kno)2.726 F 4.026 -.65
(w. I)-.25 H(f).65 E F1(m)2.726 E F0 .226(is unspeci\214ed or you ha)
2.726 F .526 -.15(ve a d)-.2 H .226(isk which emulates a DEC disk, use)
.15 F(the number for the most similar disk/CPU pair)72 627.6 Q(.)-.55 E
F2(If)5 E F1(n)2.5 E F2(is unspeci\214ed, use the cylinder size di)2.5 E
(vided by 2.)-.1 E F0 1.164(Then run a standalone v)97 643.2 R 1.164
(ersion of the)-.15 F F1(mkfs)3.665 E F0 1.165(\(8\) program.)3.665 F
1.165(In the follo)6.165 F 1.165(wing procedure, substitute the)-.25 F
(correct types for)72 655.2 Q F1(tp)2.5 E F0(and)2.5 E F1(dk)2.5 E F0
(and the size determined abo)2.5 E .3 -.15(ve f)-.15 H(or).15 E F1(size)
2.5 E F0(:)A(23 October 1995)254.395 768 Q EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 151
(-9- Bootstrapping)95.17 F/F1 10/Times-Bold@0 SF(:)108 84 Q/F2 10
/Times-Italic@0 SF(tp)1.666 E F0(\(0,3\))1.666 E F1(Mkfs)108 96 Q
(\214le system:)108 108 Q F2(dk)2.5 E F0 95.334(\(0,0\) \(root)1.666 F
(is the \214rst \214le system on dri)2.5 E .3 -.15(ve 0)-.25 H(\)).15 E
F1(\214le system size:)108 120 Q F2(size)2.5 E F0
(\(count of 1024 byte blocks in root\))95.05 E F1(interlea)108 132 Q
(ving factor \(m, 5 default\):)-.25 E F2(m)2.5 E F0(\(interlea)26.15 E
(ving, see abo)-.2 E -.15(ve)-.15 G(\)).15 E F1(interlea)108 144 Q
(ving modulus \(n, 10 default\):)-.25 E F2(n)2.5 E F0(\(interlea)15 E
(ving, see abo)-.2 E -.15(ve)-.15 G(\)).15 E F1(isize = XX)108 156 Q F0
(\(count of inodes in root \214le system\))134.62 E F1(m/n =)108 168 Q
F2 2.5(mn)2.5 G F0(\(interlea)133.5 E .3 -.15(ve p)-.2 H(arameters\)).15
E F1(Exit called)108 180 Q F2(nn)108 192 Q F1(Boot)A(:)108 204 Q F0
(\(back at tape boot le)174.76 E -.15(ve)-.25 G(l\)).15 E -1.1(Yo)72 228
S 2.5(un)1.1 G .5 -.25(ow h)-2.5 H -2.25 -.2(av e).25 H
(an empty UNIX root \214le system.)2.7 E F1 2.5(2.3. Restoring)72 252 R
(the r)2.5 E(oot \214le system)-.18 E F0 1.6 -.8(To r)97 267.6 T
(estore a small root \214le system onto it, type).8 E F1(:)108 291.6 Q
F2(tp)1.666 E F0(\(0,4\))1.666 E F1(Restor)108 303.6 Q -.92(Ta)108 315.6
S(pe?).92 E F2(tp)2.5 E F0 132.814(\(0,6\) \(unit)1.666 F(0, se)2.5 E
-.15(ve)-.25 G(nth tape \214le\)).15 E F1(Disk?)108 327.6 Q F2(dk)2.5 E
F0 132.454(\(0,0\) \(into)1.666 F(root \214le system\))2.5 E F1
(Last chance bef)108 339.6 Q(or)-.25 E 2.5(es)-.18 G(crib)-2.5 E
(bling on disk.)-.1 E F0(\(just hit return\))31.02 E
(\(30 second pause then tape should mo)120.5 351.6 Q -.15(ve)-.15 G(\))
.15 E(\(tape mo)120.5 363.6 Q -.15(ve)-.15 G 2.5(sf).15 G(or a fe)-2.5 E
2.5(wm)-.25 G(inutes\))-2.5 E F1(end of tape)108 375.6 Q(Exit called)108
387.6 Q F2(nn)108 399.6 Q F1(Boot)A(:)108 411.6 Q F0
(\(back at tape boot le)188.84 E -.15(ve)-.25 G(l\)).15 E .518
(If you wish, you may use the)72 435.6 R F2(ic)3.018 E(hec)-.15 E(k)-.2
E F0 .518(program on the tape,)3.018 F F2(tp)3.018 E F0 .518
(\(0,5\), to check the consistenc)1.666 F 3.017(yo)-.15 G 3.017(ft)
-3.017 G .517(he \214le sys-)-3.017 F(tem you ha)72 447.6 Q .3 -.15
(ve j)-.2 H(ust installed.).15 E F1 2.5(2.4. Booting)72 471.6 R(UNIX)2.5
E F0 -1.1(Yo)97 487.2 S 3.111(ua)1.1 G .611(re no)-3.111 F 3.111(wr)-.25
G .611(eady to boot from disk.)-3.111 F .612
(It is best to read the rest of this section \214rst, since some sys-)
5.611 F(tems must be patched while booting.)72 499.2 Q(Then type:)5 E F1
(:)108 523.2 Q F2(dk)A F0(\(0,0\))1.666 E F2(dk)A F0 58.851
(unix \(bring).833 F(in)2.5 E F2(dk)2.5 E F0(unix of).833 E 2.5(fr)-.25
G(oot system\))-2.5 E .857(The standalone boot program should then read)
72 547.2 R F2(dk)3.356 E F0 .856
(unix from the root \214le system you just created, and the).833 F
(system should boot:)72 559.2 Q F1(Berk)108 577.2 Q(eley UNIX \(Re)-.1 E
1.4 -.7(v. 2)-.15 H(.9.1\) Sun No).7 E 2.5(v2)-.1 G 2.5(01)-2.5 G
(4:55:50 PST 1983)-2.5 E(mem = xxx)108 589.2 Q(CONFIGURE SYSTEM:)108
613.2 Q F0(\(Information about v)108 625.2 Q(arious de)-.25 E
(vices will print;)-.25 E(most of them will probably not be found until)
108 637.2 Q(the addresses are set belo)108 649.2 Q -.65(w.)-.25 G(\)).65
E F1(erase=^?, kill=^U)108 661.2 Q 2.5(,i)-.5 G(ntr=^C)-2.5 E(#)108
673.2 Q F0 .301(If you are booting from an)72 691.2 R F2(xp)2.802 E F0
.302(with a dri)2.802 F .602 -.15(ve t)-.25 H .302
(ype that is not recognized, it will be necessary to patch the sys-).15
F .841(tem before it \214rst accesses the root \214le system.)72 703.2 R
.841(Halt the processor after it has be)5.841 F .841(gun printing the v)
-.15 F(ersion)-.15 E .254(string b)72 715.2 R .254
(ut before it has \214nished printing the `)-.2 F .255(`mem = xxx')-.74
F 2.755('s)-.74 G 2.755(tring. Place)-2.755 F .255(the dri)2.755 F .555
-.15(ve t)-.25 H .255(ype number correspond-).15 F .838(ing to your dri)
72 727.2 R 1.138 -.15(ve a)-.25 H 3.338(tl).15 G .837
(ocation 061472; the addresses for dri)-3.338 F -.15(ve)-.25 G 3.337(s1)
.15 G 3.337(,2a)-3.337 G .837(nd 3 are 061506, 061522 and 061536)-3.337
F(23 October 1995)254.395 768 Q EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 148.5
(-10- Bootstrapping)92.67 F(respecti)72 84 Q -.15(ve)-.25 G(ly).15 E
5.404(.I)-.65 G 2.904(fy)-5.404 G .404(ou plan to use an)-2.904 F 2.904
(yd)-.15 G(ri)-2.904 E -.15(ve)-.25 G 2.904(so).15 G .405
(ther than 0 before you recompile the system, you should patch)-2.904 F
.444(these locations.)72 96 R(Mak)5.444 E 2.944(et)-.1 G .444
(he patches and continue the CPU.)-2.944 F .443(The v)5.443 F .443
(alue before patching must be zero.)-.25 F .443(If it is)5.443 F
(not, you ha)72 108 Q .3 -.15(ve h)-.2 H
(alted too late and should try ag).15 E(ain.)-.05 E .137(UNIX be)97
123.6 R .138(gins by printing out a banner identifying the v)-.15 F .138
(ersion of the system that is in use and the date)-.15 F .242(it w)72
135.6 R .242(as compiled.)-.1 F .241(Note that this v)5.241 F .241
(ersion is dif)-.15 F .241(ferent from the system release number)-.25 F
2.741(,a)-.4 G .241(nd applies only to the)-2.741 F(operating system k)
72 147.6 Q(ernel.)-.1 E(Ne)97 163.2 Q 1.129(xt the)-.15 F/F1 10
/Times-Italic@0 SF(mem)3.629 E F0 1.129(message gi)3.629 F -.15(ve)-.25
G 3.629(st).15 G 1.129(he amount of memory \(in bytes\) a)-3.629 F -.25
(va)-.2 G 1.13(ilable to user programs.).25 F 1.13(On an)6.13 F .121
(11/23 with no clock control re)72 175.2 R(gister)-.15 E 2.621(,am)-.4 G
.121(essage `)-2.621 F .121(`No clock???')-.74 F 5.121('w)-.74 G .121
(ill print ne)-5.121 F .121(xt; this is a reminder to turn on)-.15 F
.655(the clock switch if it is not already on, since UNIX cannot enable\
 the clock itself.)72 187.2 R .655(The information about)5.655 F(dif)72
199.2 Q .126(ferent de)-.25 F .126
(vices being attached or not being found is produced by the)-.25 F F1
(autocon\214g)2.626 E F0 .126(\(8\) program.)1.666 F .125(Most of this)
5.126 F .886(is not important for the moment, b)72 211.2 R .887
(ut later the de)-.2 F .887
(vice table can be edited to correspond to your hardw)-.25 F(are.)-.1 E
(Ho)72 223.2 Q(we)-.25 E -.15(ve)-.25 G .8 -.4(r, t).15 H(he tape dri).4
E .3 -.15(ve o)-.25 H 2.5(ft).15 G(he correct type should ha)-2.5 E .3
-.15(ve b)-.2 H(een detected and attached.).15 E .646(The `)97 238.8 R
(`erase=...)-.74 E 2.126 -.74('' m)-.7 H .646
(essage is part of /.pro\214le that w).74 F .645(as e)-.1 F -.15(xe)-.15
G .645(cuted by the root shell when it started.).15 F(The)5.645 E .053(\
\214le /.pro\214le contained commands to set the UNIX erase, line kill \
and interrupt characters to be what is stan-)72 250.8 R .273(dard on DE\
C systems so that it is consistent with the DEC console interf)72 262.8
R .273(ace characters.)-.1 F .273(This is not normal)5.273 F
(for UNIX, b)72 274.8 Q(ut is con)-.2 E -.15(ve)-.4 G(nient when w).15 E
(orking on a hardcop)-.1 E 2.5(yc)-.1 G(onsole; change it if you lik)
-2.5 E(e.)-.1 E .503(UNIX is no)97 290.4 R 3.004(wr)-.25 G .504
(unning, and the Berk)-3.004 F(ele)-.1 E 3.004(yP)-.15 G(DP-11)-3.004 E
/F2 8/Times-Roman@0 SF(UNIX)3.004 E F0(Programmer')3.004 E 3.004(sm)-.55
G .504(anual applies.)-3.004 F .504(The `#' is the)5.504 F
(prompt from the Shell, and lets you kno)72 302.4 Q 2.5(wt)-.25 G
(hat you are the super)-2.5 E(-user)-.2 E 2.5(,w)-.4 G
(hose login name is `)-2.5 E(`root.)-.74 E -.74('')-.7 G .701
(There are a number of copies of)97 318 R F1(unix)3.201 E F0 .701
(on the root \214le system, one for each possible type of root \214le)
3.201 F 2.27(system de)72 330 R 4.77(vice. All)-.25 F -.2(bu)4.77 G 4.77
(to).2 G 2.27(ne of them \()-4.77 F F1(xpunix)A F0 4.77(\)h)C 2.27
(as had its symbol table remo)-4.77 F -.15(ve)-.15 G 4.77(d\().15 G 2.27
(i.e. the)-4.77 F 4.77(yh)-.15 G -2.25 -.2(av e)-4.77 H(been)4.97 E -.74
(``)72 342 S(stripped').74 E .695('; see)-.74 F F1(strip)3.195 E F0
3.195(\(1\)\). The)1.666 F .694(unstripped cop)3.195 F 3.194(yi)-.1 G
3.194(sl)-3.194 G(ink)-3.194 E .694(ed \(see)-.1 F F1(ln)3.194 E F0 .694
(\(1\)\) to)1.666 F F1(/unix)3.194 E F0 .694(to pro)3.194 F .694
(vide a system namelist)-.15 F .151(for programs lik)72 354 R(e)-.1 E F1
(ps)2.651 E F0 .151(\(1\) and)1.666 F F1(autocon\214g)2.651 E F0 2.651
(\(8\). All)1.666 F .152(of the systems were created from)2.651 F F1
(/unix)2.652 E F0 .152(by the C shell script)2.652 F F1(/g)72 366 Q
(enallsys.sh)-.1 E F0 5.047(.I)C 2.547(fy)-5.047 G .047
(ou had to patch the)-2.547 F F1(xp)2.547 E F0 .046
(type as you booted, you may w)2.547 F .046(ant to use)-.1 F F1(adb)
2.546 E F0(\(see)2.546 E F1(adb)2.546 E F0 .046(\(1\)\) to mak)1.666 F
(e)-.1 E .142(the same patch in a cop)72 378 R 2.642(yo)-.1 G(f)-2.642 E
F1(xpunix)2.642 E F0 5.142(.I)C 2.642(fy)-5.142 G .142
(ou are short of space, you can patch a cop)-2.642 F 2.643(yo)-.1 G(f)
-2.643 E F1(/unix)2.643 E F0 .143(instead \(setting)2.643 F .007
(the rootde)72 390 R 1.307 -.65(v, e)-.25 H 2.507(tc.\) and).65 F .007
(install it as)2.507 F F1(/unix)2.507 E F0 .007(after v)2.507 F .007
(erifying that it w)-.15 F 2.506(orks. See)-.1 F F1(/g)2.506 E
(enallsys.sh)-.1 E F0 .006(for e)2.506 F .006(xamples of using)-.15 F F1
(adb)72 402 Q F0 .334(to patch the system.)2.834 F .335
(The system load images for other disk types can be remo)5.334 F -.15
(ve)-.15 G(d.).15 E/F3 10/Times-Bold@0 SF .335(Do not r)5.335 F(emo)-.18
E .535 -.1(ve o)-.1 H(r).1 E -.18(re)72 414 S .144(place the copy of).18
F F1(/unix)2.644 E F3 2.644(,h)C -.1(ow)-2.644 G -2.3 -.15(ev e).1 H
1.984 -.92(r, u).15 H .144(nless y).92 F .144(ou ha)-.25 F .344 -.1
(ve m)-.25 H .144(ade a w).1 F .143(orking copy of it that is patched f)
-.1 F .143(or y)-.25 F(our)-.25 E .665
(\214le system con\214guration and still has a symbol table.)72 426 R F0
(Man)5.665 E 3.165(yp)-.15 G .666(rograms use the symbol table of /)
-3.165 F F1(unix)A F0(in)3.166 E .928
(order to determine the locations of things in memory)72 438 R 3.428(,t)
-.65 G .928(herefore /)-3.428 F F1(unix)A F0 .928(should al)3.428 F -.1
(wa)-.1 G .928(ys be an unstripped \214le).1 F .174
(corresponding to the current system.)72 450 R .175
(If at all possible, you should sa)5.174 F .475 -.15(ve t)-.2 H .175
(he original UNIX binaries for your).15 F(disk con\214guration \()72 462
Q F1(dk)A F0(unix and unix\) for use in an emer).833 E(genc)-.18 E -.65
(y.)-.15 G .008(There are a fe)97 477.6 R 2.508(wm)-.25 G .008
(inor details that should be attended to no)-2.508 F 3.808 -.65(w. T)
-.25 H .008(he system date is initially set from the).65 F
(root \214le system, and should be reset.)72 489.6 Q(The root passw)5 E
(ord should also be set:)-.1 E F3(#)108 513.6 Q F0(date)2.5 E F1
(yymmddhhmm)2.5 E F0(\(set date, see)38.58 E F1(date)2.5 E F0(\(1\)\))
1.666 E F3(#)108 525.6 Q F0(passwd root)2.5 E(\(set passw)67.45 E
(ord for super)-.1 E(-user\))-.2 E F3(New passw)108 537.6 Q(ord:)-.1 E
F0(\(passw)57.83 E(ord will not echo\))-.1 E F3(Retype new passw)108
549.6 Q(ord:)-.1 E 2.5(2.5. Installing)72 585.6 R(the disk bootstrap)2.5
E F0 .572(The disk with the ne)97 601.2 R 3.072(wr)-.25 G .572(oot \214\
le system on it will not be bootable directly until the block 0 bootstr\
ap)-3.072 F .445(program for the disk has been installed.)72 613.2 R
.445(There are copies of the bootstraps in /mdec.)5.445 F .444
(This is not the usual)5.444 F .169
(location for the bootstraps \(that is /usr/src/sys/mdec\), b)72 625.2 R
.169(ut it is con)-.2 F -.15(ve)-.4 G .17
(nient to be able to install the boot block).15 F(no)72 637.2 Q 3.984
-.65(w. U)-.25 H(se).65 E F1(dd)2.684 E F0 .184(\(1\) to cop)1.666 F
2.684(yt)-.1 G .183(he right boot block onto the disk; the \214rst form\
 of the command is for small disks)-2.684 F(\()72 649.2 Q F3(rk)A F0(,)A
F3(rl)2.5 E F0 2.5(\)a)C
(nd the second form for disks with multiple partitions \()-2.5 E F3(hk)A
F0(,)A F3 -.1(rp)2.5 G F0(,).1 E F3(xp)2.5 E F0
(\), substituting as usual for)A F1(dk)2.5 E F0(:)A F3(#)108 667.2 Q F0
(dd if=)2.5 E F1(dk)A F0(uboot of=/de).833 E(v/r)-.25 E F1(dk)A F0 2.5
(0c).833 G(ount=1)-2.5 E(or)108 691.2 Q F3(#)108 715.2 Q F0(dd if=)2.5 E
F1(dk)A F0(uboot of=/de).833 E(v/r)-.25 E F1(dk)A F0(0a count=1).833 E
(23 October 1995)254.395 768 Q EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 148.5
(-11- Bootstrapping)92.67 F 1.057
(will install the bootstrap in block 0.)72 84 R 1.058
(Once this is done, booting from this disk will load and e)6.057 F -.15
(xe)-.15 G 1.058(cute the).15 F .17
(block 0 bootstrap, which will in turn load /boot \(actually)72 96 R
2.669(,t)-.65 G .169
(he boot program on the \214rst \214le system, which is)-2.669 F 2.5
(root\). The)72 108 R(console will print)2.5 E/F1 10/Times-Bold@0 SF
(>boot)108 132 Q F0(\(printed by the block 0 boot\))98.41 E/F2 10
/Times-Italic@0 SF(nn)108 156 Q F1(Boot)A F0(\(printed by /boot\))93 E
F1(:)108 168 Q F0 .36(The '>' is the prompt from the \214rst bootstrap.)
72 192 R .36(It automatically boots /)5.36 F F2(boot)A F0 .36
(for you; if /)2.86 F F2(boot)A F0 .36(is not found, it)2.86 F .29
(will prompt ag)72 204 R .29(ain and allo)-.05 F 2.79(wa)-.25 G .29
(nother name to be tried.)-2.79 F .29(It is a v)5.29 F .29
(ery small and simple program, ho)-.15 F(we)-.25 E -.15(ve)-.25 G 1.09
-.4(r, a).15 H(nd).4 E 1.047
(can only boot the second-stage boot from the \214rst \214le system.)72
216 R 1.048(Once /boot is running and prints its `)6.047 F 1.048(`: ')
-.74 F(')-.74 E(prompt, boot unix as abo)72 228 Q -.15(ve)-.15 G 2.5(,u)
.15 G(sing)-2.5 E F2(dk)2.5 E F0(unix or unix as appropriate.).833 E F1
2.5(2.6. Checking)72 252 R(the r)2.5 E(oot \214le system)-.18 E F0
(Before continuing, check the inte)97 267.6 Q
(grity of the root \214le system by gi)-.15 E(ving the command)-.25 E F1
(#)108 285.6 Q F0(fsck /de)2.5 E(v/r)-.25 E F2(dk)A F0(0a).833 E
(\(omit the)72 303.6 Q F1(a)2.5 E F0(for an RK05 or RL\).)2.5 E
(The output from)5 E F2(fsc)2.5 E(k)-.2 E F0(should look something lik)
2.5 E(e:)-.1 E F1(/de)108 321.6 Q(v/r)-.15 E F2(xx)A F1(0a).833 E
(File System:)108 333.6 Q(/)5 E(** Checking /de)108 357.6 Q(v/r)-.15 E
F2(xx)A F1(0a).833 E(** Phase 1 - Check Blocks and Sizes)108 369.6 Q
(** Phase 2 - Check P)108 381.6 Q(athnames)-.1 E
(** Phase 3 - Check Connecti)108 393.6 Q(vity)-.1 E
(** Phase 4 - Check Refer)108 405.6 Q(ence Counts)-.18 E
(** Phase 5 - Check Fr)108 417.6 Q(ee List)-.18 E
(238 \214les 1916 blocks xxxxx fr)108 429.6 Q(ee)-.18 E F0 .015(If ther\
e are inconsistencies in the \214le system, you may be prompted to appl\
y correcti)97 451.2 R .314 -.15(ve a)-.25 H .014(ction; see the).15 F
.435(document describing)72 463.2 R F2(fsc)2.935 E(k)-.2 E F0 .435
(for information.)2.935 F .435(The number of free blocks will v)5.435 F
.435(ary depending on the disk you)-.25 F
(are using for your root \214le system.)72 475.2 Q(23 October 1995)
254.395 768 Q EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 58.77
(-12- De)92.67 F(vice and \214le system con\214guration)-.25 E/F1 12
/Times-Bold@0 SF(3. DEVICE AND FILE SYSTEM CONFIGURA)149.232 84 Q(TION)
-1.14 E F0 .21(This section will describe w)97 123.6 R .209
(ays in which the \214le systems can be set up for the disks a)-.1 F
-.25(va)-.2 G 2.709(ilable. It).25 F(will)2.709 E 1.297(then describe t\
he \214les and directories that will be set up for the local con\214gur\
ation.)72 135.6 R 1.297(These are the)6.297 F/F2 10/Times-Italic@0 SF
(/de)3.797 E(v)-.15 E F0(directory)72 147.6 Q 3.977(,w)-.65 G 1.477
(ith special \214les for each peripheral de)-3.977 F 1.477
(vice, and the tables in)-.25 F F2(/etc)3.976 E F0 1.476
(that contain con\214guration-)3.976 F .944(dependent data.)72 159.6 R
.944(Some of these \214les should be edited after reading this section,\
 and others can w)5.944 F .945(ait until)-.1 F .373
(later if you choose.)72 171.6 R .373(The disk con\214guration should b\
e chosen before the rest of the distrib)5.373 F .372(ution tape is read)
-.2 F(onto disk to minimize the w)72 183.6 Q(ork of recon\214guration.)
-.1 E/F3 10/Times-Bold@0 SF 2.5(3.1. Disk)72 207.6 R(con\214guration)2.5
E F0 .591(This section describes ho)97 223.2 R 3.091(wt)-.25 G 3.091(ol)
-3.091 G .591(ay out \214le systems to mak)-3.091 F 3.091(eu)-.1 G .591
(se of the a)-3.091 F -.25(va)-.2 G .591(ilable space and to balance).25
F(disk load for better system performance.)72 235.2 Q
(The steps described in this section \(3.1\) are optional.)5 E F3 2.5
(3.1.1. Disk)72 259.2 R(naming and di)2.5 E(visions)-.1 E F0 .256
(Each lar)97 274.8 R .256(ge ph)-.18 F .256(ysical disk dri)-.05 F .556
-.15(ve c)-.25 H .256(an be di).15 F .256
(vided into up to 8 partitions; UNIX typically uses only 3 to 5)-.25 F
4.133(partitions. F)72 286.8 R 1.633(or instance, on an RM03 the \214rs\
t partition, rm0a, is used for a root \214le system, a backup)-.15 F
.098(thereof, or a small \214le system lik)72 298.8 R 2.598(e/)-.1 G
.097(tmp; the second partition, rm0b, is used for sw)-2.598 F .097
(apping or a small \214le sys-)-.1 F .772
(tem; and the third partition, rm0c, holds a user \214le system.)72
310.8 R(Man)5.772 E 3.272(yd)-.15 G .772(isks can be di)-3.272 F .773
(vided in dif)-.25 F .773(ferent w)-.25 F(ays;)-.1 E 1.19(for e)72 322.8
R 1.19(xample, the third section \()-.15 F F3(c)A F0 3.69(\)o)C 3.69(ft)
-3.69 G 1.19(he RM03 could instead be di)-3.69 F 1.19(vided into tw)-.25
F 3.69<6f8c>-.1 G 1.19(le systems, using the)-3.69 F 1.082
(rm0d and rm0e partitions instead, perhaps holding /usr and the user')72
334.8 R 3.583<738c>-.55 G 3.583(les. The)-3.583 F 1.083
(disk partition tables are)3.583 F 1.755(speci\214ed in the)72 346.8 R
F2(ioconf)4.254 E(.c)-.15 E F0 1.754
(\214le for each system, and may be changed if necessary)4.254 F 6.754
(.T)-.65 G 1.754(he last partition \()-6.754 F F3(h)A F0(\))A(al)72
358.8 Q -.1(wa)-.1 G
(ys describes the entire disk, and can be used for disk-to-disk copies.)
.1 E F3 -.65(Wa)97 374.4 S -.15(rn).65 G(ing:).15 E F0 .882
(for disks on which DEC standard 144 bad sector forw)5.882 F .882
(arding is supported, the last track)-.1 F 1.617(and up to 126 preceedi\
ng sectors contain replacement sectors and bad sector lists.)72 386.4 R
1.616(Disk-to-disk copies)6.616 F .283(should be careful to a)72 398.4 R
-.2(vo)-.2 G .283(id o).2 F -.15(ve)-.15 G .283
(rwriting this information.).15 F(See)5.283 E F2(bad144)2.783 E F0 2.783
(\(8\). Bad)1.666 F .283(sector forw)2.783 F .284(arding is optional)-.1
F(in the)72 410.4 Q F3(hk)2.5 E F0(,)A F3(hp)2.5 E F0(,)A F3(rm)2.5 E F0
2.5(,a)C(nd)-2.5 E F3(xp)2.5 E F0(dri)2.5 E -.15(ve)-.25 G 2.5(rs. It)
.15 F(has been only lightly tested in the latter three cases.)2.5 E F3
2.5(3.1.2. Space)72 434.4 R -2.1 -.25(av a)2.5 H(ilable).25 E F0 .418
(The space a)97 450 R -.25(va)-.2 G .418(ilable on a disk v).25 F .418
(aries per de)-.25 F 2.918(vice. The)-.25 F .417(amount of space a)2.918
F -.25(va)-.2 G .417(ilable on the common disk).25 F 1.017
(partitions for /usr is listed in the follo)72 462 R 1.017(wing table.)
-.25 F 1.017(Not sho)6.017 F 1.018
(wn in the table are the partitions of each dri)-.25 F -.15(ve)-.25 G
(de)72 474 Q -.2(vo)-.25 G(ted to the root \214le system and the sw).2 E
(apping area.)-.1 E -.8(Ty)221.27 498 S 69.44(pe Name).8 F(Size)25.835 E
.4 LW 390.73 502.5 221.27 502.5 DL 65.3(RK06 hk?d)221.27 512 R(9.2 Mb)
29.44 E 65.3(RK07 hk?c)221.27 524 R(22.4 Mb)25 E(RM02, RM03)221.27 536 Q
21.39(rm?c 60.2)35.57 F(Mb)2.5 E(RM02, RM03)221.27 548 Q 20.83
(rm?d 30.9)35.57 F(Mb)2.5 E 66.96(RP03 rp?c)221.27 560 R(33.3 Mb)26.67 E
(RP04, RP05, RP06)221.27 572 Q 22.5(hp?c 74.9)15 F(Mb)2.5 E 66.96
(RP06 hp?d)221.27 584 R(158.9 Mb)19.44 E 63.63(RM05 xp?c)221.27 596 R
(115.4 Mb)20 E 63.63(RM05 xp?e)221.27 608 R(80.9 Mb)25 E 1.814
(Each disk also has a sw)97 635.6 R 1.814
(apping area and a root \214le system.)-.1 F 1.813(The distrib)6.814 F
1.813(uted system binaries and)-.2 F(sources occup)72 647.6 Q 2.5(ya)-.1
G(bout 38 me)-2.5 E -.05(ga)-.15 G(bytes.).05 E .504(The sizes and of)97
663.2 R .505(fsets of all of the disk partitions are in the manual page\
s for the disks; see section 4)-.25 F .496(of the Berk)72 675.2 R(ele)
-.1 E 2.996(yP)-.15 G(DP-11)-2.996 E/F4 8/Times-Roman@0 SF(UNIX)2.996 E
F0(Programmer')2.996 E 2.996(sm)-.55 G 2.996(anual. Be)-2.996 F -2.3
-.15(aw a)2.996 H .495(re that the disks ha).15 F .795 -.15(ve t)-.2 H
.495(heir sizes measured in).15 F -.74(``)72 687.2 S(sectors').74 E
2.921('o)-.74 G 2.921(f5)-2.921 G .421(12 bytes each, while the UNIX \
\214le system blocks are 1024 bytes each.)-2.921 F .422
(Thus if a disk parti-)5.422 F .362
(tion has 10000 sectors \(disk blocks\), it will ha)72 699.2 R .662 -.15
(ve o)-.2 H .361(nly 5000 UNIX \214le system blocks, and you).15 F F3
(must)2.861 E F0(di)2.861 E(vide)-.25 E 1.779
(by 2 to use 5000 when specifying the size to the)72 711.2 R F2(mkfs)
4.279 E F0 4.279(command. The)4.279 F 1.779(sizes and of)4.279 F 1.779
(fsets in the k)-.25 F(ernel)-.1 E .015
(\(ioconf.c\) and the manual pages are in 512-byte blocks.)72 723.2 R
.015(If bad sector forw)5.015 F .014(arding is supported for your disk,)
-.1 F(23 October 1995)254.395 768 Q EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 58.77
(-13- De)92.67 F(vice and \214le system con\214guration)-.25 E
(be sure to lea)72 84 Q .3 -.15(ve s)-.2 H(uf).15 E
(\214cient room to contain the bad sector information when making ne)
-.25 E 2.5<778c>-.25 G(le systems.)-2.5 E/F1 10/Times-Bold@0 SF 2.5
(3.1.3. Lay)72 108 R(out considerations)-.25 E F0 .718(There are se)97
123.6 R -.15(ve)-.25 G .718(ral considerations in deciding ho).15 F
3.218(wt)-.25 G 3.218(oa)-3.218 G .718
(djust the arrangement of things on your disks:)-3.218 F 1.366(the most\
 important is making sure there is adequate space for what is required;\
 secondarily)72 135.6 R 3.866(,t)-.65 G(hroughput)-3.866 E .65
(should be maximized.)72 147.6 R(Sw)5.65 E .651
(apping space is an important parameter)-.1 F 5.651(.S)-.55 G .651
(ince running out of sw)-5.651 F .651(ap space often)-.1 F
(causes the system to panic, it must be lar)72 159.6 Q
(ge enough that this does not happen.)-.18 E(Man)97 175.2 Q 3.054(yc)
-.15 G .553(ommon system programs \(the C compiler)-3.054 F 3.053(,t)-.4
G .553(he editor)-3.053 F 3.053(,t)-.4 G .553(he assembler etc.\))-3.053
F .553(create intermediate)5.553 F 1.524(\214les in the /tmp directory)
72 187.2 R 4.024(,s)-.65 G 4.025(ot)-4.024 G 1.525
(he \214le system where this is stored also should be made lar)-4.025 F
1.525(ge enough to)-.18 F .111(accommodate most high-w)72 199.2 R .111
(ater marks; if you ha)-.1 F .411 -.15(ve s)-.2 H -2.15 -.25(ev e).15 H
.111(ral disks, it mak).25 F .11(es sense to mount this in a `)-.1 F
(`root')-.74 E 2.61('o)-.74 G(r)-2.61 E -.74(``)72 211.2 S(sw).74 E(ap')
-.1 E 3.751('\()-.74 G 1.251
(i.e. \214rst or second partition\) \214le system on another disk.)
-3.751 F 1.252(On RK06 and RK07 systems, where)6.251 F .029(there is li\
ttle space in the hk?c or hk?d \214le systems to store the system sourc\
e, it is normal to mount /tmp on)72 223.2 R(/de)72 235.2 Q(v/hk1a.)-.25
E .666(The ef)97 250.8 R(\214cienc)-.25 E 3.166(yw)-.15 G .666
(ith which UNIX is able to use the CPU is often strongly af)-3.166 F
.667(fected by the con\214gura-)-.25 F .03(tion of disks.)72 262.8 R
-.15(Fo)5.03 G 2.53(rg).15 G .03
(eneral time-sharing applications, the best strate)-2.53 F .029
(gy is to try to split the most acti)-.15 F -.15(ve)-.25 G(ly-used).15 E
.622(sections among se)72 274.8 R -.15(ve)-.25 G .622(ral disk arms.).15
F .622(There are at least \214v)5.622 F 3.122(ec)-.15 G .622
(omponents of the disk load that you can di)-3.122 F(vide)-.25 E
(between the a)72 286.8 Q -.25(va)-.2 G(ilable disks:).25 E
(1. The root \214le system.)108 304.8 Q(2. The sw)108 316.8 Q(ap area.)
-.1 E(3. The /tmp \214le system.)108 328.8 Q(4. The /usr \214le system.)
108 340.8 Q(5. The user \214les.)108 352.8 Q(Here are se)72 370.8 Q -.15
(ve)-.25 G(ral possibilities for utilizing 2, 3 and 4 disks:).15 E .4 LW
352.755 381.3 223.245 381.3 DL(disks)304.335 390.8 Q 352.755 395.3
273.975 395.3 DL 31.29(what 2)228.245 404.8 R 25.64(34)20.32 G 352.755
409.3 223.245 409.3 DL 34.62(root 1)228.245 418.8 R 25.64(11)20.32 G
35.17(tmp 1)228.245 430.8 R 25.64(34)20.32 G 38.51(usr 1)228.245 442.8 R
25.64(22)20.32 G(sw)228.245 454.8 Q 12.5(apping 2)-.1 F 25.64(34)20.32 G
30.18(users 2)228.245 466.8 R 12.5(1+3 1+3)15 F(archi)228.245 478.8 Q 22
-.15(ve x)-.25 H 25.64(x4)20.47 G 352.755 483.3 223.245 483.3 DL 324.615
395.3 324.615 483.3 DL 293.975 395.3 293.975 483.3 DL 273.975 381.3
273.975 483.3 DL 352.755 381.3 352.755 483.3 DL 223.245 381.3 223.245
483.3 DL .478(The most important consideration is to e)97 500.4 R -.15
(ve)-.25 G 2.978(no).15 G .478
(ut the disk load as much as possible, and to do this by)-2.978 F 1.14
(decoupling \214le systems \(on separate arms\) between which hea)72
512.4 R 1.14(vy cop)-.2 F 1.14(ying occurs.)-.1 F 1.14
(Note that a long term)6.14 F -2.25 -.2(av e)72 524.4 T .98
(rage balanced load is not important; it is much more important to ha).2
F 1.28 -.15(ve i)-.2 H .98(nstantaneously balanced load).15 F .796
(when the system is b)72 536.4 R(usy)-.2 E 5.797(.W)-.65 G .797
(hen placing se)-5.797 F -.15(ve)-.25 G .797(ral b).15 F .797
(usy \214le systems on the same disk, it is helpful to group)-.2 F
(them together to minimize arm mo)72 548.4 Q -.15(ve)-.15 G
(ment, with less acti).15 E .3 -.15(ve \214)-.25 H(le systems of).15 E
2.5(ft)-.25 G 2.5(ot)-2.5 G(he side.)-2.5 E .786(Intelligent e)97 564 R
.786(xperimentation with a fe)-.15 F 3.286<778c>-.25 G .786
(le system arrangements can pay of)-3.286 F 3.285(fi)-.25 G 3.285(nm)
-3.285 G .785(uch impro)-3.285 F -.15(ve)-.15 G 3.285(dp).15 G(er)-3.285
E(-)-.2 E 4.033(formance. It)72 576 R 1.533(is particularly easy to mo)
4.033 F 1.833 -.15(ve t)-.15 H 1.534
(he root, the /tmp \214le system and the sw).15 F 1.534(apping areas.)
-.1 F(Note,)6.534 E .251
(though, that the disks containing the root and sw)72 588 R .251
(apping area can ne)-.1 F -.15(ve)-.25 G 2.75(rb).15 G 2.75(er)-2.75 G
(emo)-2.75 E -.15(ve)-.15 G 2.75(dw).15 G .25(hile UNIX is running.)
-2.75 F .347(Place the user \214les and the /usr directory as space nee\
ds dictate and e)72 600 R .348(xperiment with the other)-.15 F 2.848(,m)
-.4 G .348(ore easily)-2.848 F(mo)72 612 Q -.15(ve)-.15 G 2.5<648c>.15 G
(le systems.)-2.5 E .97(As an e)97 627.6 R .97
(xample, consider a system with RM03s.)-.15 F .969(On the \214rst RM03,)
5.97 F F1(rm0)3.469 E F0 3.469(,w)C 3.469(ew)-3.469 G .969
(ill put the root \214le)-3.469 F .269(system in)72 639.6 R F1(rm0a)
2.769 E F0 2.769(,a)C .269(nd the)-2.769 F F1(/usr)2.769 E F0 .269
(\214le system in)2.769 F F1(rm0c)2.769 E F0 2.769(,w)C .27
(hich has enough space to hold it and then some.)-2.769 F .27(If we)5.27
F .537(had only one RM03, we w)72 651.6 R .537
(ould put user \214les in the)-.1 F F1(rm0c)3.037 E F0 .537
(partition with the system source and binaries, or)3.037 F .449
(split them between)72 663.6 R F1(rm0d)2.949 E F0(and)2.949 E F1(rm0e)
2.949 E F0 5.449(.T)C .45(he /tmp directory will be part of the root \
\214le system, as no \214le sys-)-5.449 F(tem will be mounted on /tmp.)
72 675.6 Q .304(If we had a second RM03, we w)97 691.2 R .304
(ould create a \214le system in)-.1 F F1(rm1c)2.803 E F0 .303
(and put user \214les there, calling the)2.803 F .92
(\214le system /mnt.)72 703.2 R 2.52 -.8(We w)5.92 H .92(ould k).7 F .92
(eep a backup cop)-.1 F 3.42(yo)-.1 G 3.42(ft)-3.42 G .921
(he root \214le system in the)-3.42 F F1(rm1a)3.421 E F0 .921
(disk partition, a \214le)3.421 F(system for /tmp on)72 715.2 Q F1(rm0b)
2.5 E F0 2.5(,a)C(nd sw)-2.5 E(ap on)-.1 E F1(rm1b)2.5 E F0(.)A
(23 October 1995)254.395 768 Q EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 58.77
(-14- De)92.67 F(vice and \214le system con\214guration)-.25 E/F1 10
/Times-Bold@0 SF 2.5(3.1.4. Implementing)72 84 R 2.5(al)2.5 G(ay)-2.5 E
(out)-.25 E F0 .579(Once a disk layout has been chosen, the appropriate\
 special \214les for the disk partitions must be cre-)97 99.6 R .646
(ated \(see Setting up the /de)72 111.6 R 3.146(vd)-.25 G(irectory)
-3.146 E 3.146(,b)-.65 G(elo)-3.146 E 3.146(w\). Empty)-.25 F .647
(\214le systems will then be created in the appropriate)3.146 F .439
(partitions with)72 123.6 R/F2 10/Times-Italic@0 SF(mkfs)2.939 E F0 .439
(\(8\), and the \214les belonging in the \214le system can then be rest\
ored from tape.)1.666 F .438(The sec-)5.438 F 1.136(tion on setting up \
the /usr \214le system contains detailed information on this process.)72
135.6 R 1.137(The sw)6.137 F 1.137(ap de)-.1 F 1.137(vice is)-.25 F .68
(speci\214ed when the k)72 147.6 R .68
(ernel is con\214gured, which is also discussed later)-.1 F 5.68(.A)-.55
G 3.18(tt)-5.68 G .68(hat time, you may also w)-3.18 F .68(ant to)-.1 F
1.532(consider whether to use the root de)72 159.6 R 1.532
(vice or another \214le system \(e.g. /tmp\) for the pipe de)-.25 F
1.533(vice \(the pipe)-.25 F(de)72 171.6 Q 1.236
(vice is a \214le system where the k)-.25 F 1.235(ernel k)-.1 F 1.235
(eeps temporary \214les related to pipe I/O; it should be)-.1 F F2
(mount)3.735 E F0(ed).833 E(before an)72 183.6 Q 2.5(yI)-.15 G
(/O through pipes is attempted\).)-2.5 E F1 2.5(3.2. Setting)72 207.6 R
(up the /de)2.5 E 2.5(vd)-.15 G(ir)-2.5 E(ectory)-.18 E F0(De)97 223.2 Q
.037(vices are accessed through special \214les in the \214le system, m\
ade by the)-.25 F F2(mknod)2.537 E F0 .038(\(8\) program and nor)1.666 F
(-)-.2 E 1.721(mally k)72 235.2 R 1.721(ept in the /de)-.1 F 4.221(vd)
-.25 G(irectory)-4.221 E 6.721(.D)-.65 G -.25(ev)-6.721 G 1.72
(ices to be supported by UNIX are implemented in the k).25 F 1.72
(ernel by)-.1 F(dri)72 247.2 Q -.15(ve)-.25 G .346(rs; the proper dri)
.15 F -.15(ve)-.25 G 2.846(ri).15 G 2.846(ss)-2.846 G .346
(elected by the major de)-2.846 F .346
(vice number and type speci\214ed to)-.25 F F2(mknod)2.846 E F0 5.347
(.A)1.666 G .347(ll de)-5.347 F(vices)-.25 E 1.243
(supported by the distrib)72 259.2 R 1.243(ution system already ha)-.2 F
1.543 -.15(ve n)-.2 H 1.243(odes in /de).15 F 5.043 -.65(v. T)-.25 H(he)
.65 E 3.742(yw)-.15 G 1.242(ere created by the /de)-3.742 F(v/MAKE)-.25
E .456(shell script.)72 271.2 R .456(It is easiest to reb)5.456 F .457
(uild this directory from the be)-.2 F .457(ginning with the correct de)
-.15 F .457(vices for your con-)-.25 F 2.89(\214guration. First,)72
283.2 R .39(determine the UNIX names of the de)2.89 F .39
(vices on your system \(e.g.)-.25 F F2(dh)2.89 E F0(,)A F2(lp)2.89 E F0
(,)A F2(xp)2.89 E F0 2.89(\). Some)B .39(will be)2.89 F .728
(the same as the names of de)72 295.2 R .728
(vices on the generic system.)-.25 F .728(Others need not be.)5.728 F
.728(See section 4 of the UNIX)5.728 F(Programmer')72 307.2 Q 2.895(sM)
-.55 G 2.895(anual. Ne)-2.895 F .395(xt create a ne)-.15 F 2.895(wd)-.25
G .395(irectory /ne)-2.895 F(wde)-.25 E 1.695 -.65(v, c)-.25 H(op).65 E
2.895(y/)-.1 G(de)-2.895 E .394(v/MAKE into it, edit MAKE to pro-)-.25 F
.665(vide an entry for local needs, replacing the case LOCAL, and run i\
t to generate the desired de)72 319.2 R .665(vices in the)-.25 F(/ne)72
331.2 Q(wde)-.25 E 2.658(vd)-.25 G(irectory)-2.658 E 5.158(.T)-.65 G
.158(he LOCAL entry can be used for an)-5.158 F 2.657(yu)-.15 G .157
(nusual de)-2.657 F .157(vices, and to rename standard de)-.25 F(vices)
-.25 E .665(as desired.)72 343.2 R .665(It should also mo)5.665 F .965
-.15(ve t)-.15 H .665
(he node for the disk partition being used as the sw).15 F .666
(ap area to)-.1 F F2(swap)3.166 E F0(\(or)3.166 E 3.166(,i)-.4 G(f)
-3.166 E(sw)72 355.2 Q 1.119(ap is after a \214le system as on RK05 or \
RL disks, link the other node to)-.1 F F2(swap)3.619 E F0 3.619(\). Dif)
B 1.119(ferent de)-.25 F 1.119(vices are)-.25 F .257
(speci\214ed to MAKE in v)72 367.2 R .257(arious w)-.25 F 2.757(ays. T)
-.1 F .258(erminal multiple)-.7 F .258
(xors \(DZ and DH\) are speci\214ed by boards, and 8 or)-.15 F 1.065
(16 nodes will be made, as appropriate.)72 379.2 R 1.064
(Disks are made by partition, for e)6.065 F 1.064
(xample xp0c, so that you may)-.15 F(mak)72 391.2 Q 2.899(et)-.1 G .399
(he nodes corresponding to the \214le systems that you intend to use.)
-2.899 F .4(Note that)5.4 F F2(hp)2.9 E F0(,)A F2(rm)2.9 E F0(and)2.9 E
F2(xp)2.9 E F0 .4(are actu-)2.9 F .578(ally synon)72 403.2 R .578
(yms, b)-.15 F .578(ut you should use the name corresponding to the dri)
-.2 F -.15(ve)-.25 G 3.078(ry).15 G .578(ou plan to use.)-3.078 F .577
(The k)5.577 F .577(ernel con-)-.1 F .585
(\214guration section \(section 5.4.1\) has more information.)72 415.2 R
-.15(Fo)5.586 G 3.086(rt).15 G .586(ape dri)-3.086 F -.15(ve)-.25 G .586
(s, there are dif).15 F .586(ferent in)-.25 F -.2(vo)-.4 G .586
(cations for).2 F(dif)72 427.2 Q .64
(ferent types of controllers, although the nodes produced will ha)-.25 F
.94 -.15(ve t)-.2 H .64(he same names.).15 F .64(The dif)5.64 F .64
(ferent types)-.25 F(are)72 439.2 Q F2(ht)3.153 E F0(,)A F2(tm)3.153 E
F0(and)3.153 E F2(ts)3.153 E F0 3.153(,a)C 3.153(sa)-3.153 G(bo)-3.153 E
-.15(ve)-.15 G 3.153(,a).15 G .653(nd also)-3.153 F F2(ut)3.153 E F0
3.153(,w)C .653(hich is used for the Emule)-3.153 F 3.153(xT)-.15 G .653
(C-11 and other TM-11 emulations)-3.153 F .509
(that are also capable of selecting 1600 or 800 bpi under softw)72 451.2
R .508(are control.)-.1 F(Making)5.508 E F2(ht0)3.008 E F0(or)3.008 E F2
(ut0)3.008 E F0 .508(will result in)3.008 F(nodes)72 463.2 Q F2(mt0)
4.147 E F0(and)4.147 E F2(mt1)4.147 E F0 1.647
(\(800 and 1600 bpi, respecti)4.147 F -.15(ve)-.25 G 1.648
(ly\) and parallel nodes for other options;).15 F F2(ht1)4.148 E F0
1.648(uses the)4.148 F(names)72 475.2 Q F2(mt2)2.512 E F0(and)2.512 E F2
(mt3)2.512 E F0 5.012(.S)C(ee)-5.012 E F2(ht)2.512 E F0 .012(\(4\) and)
1.666 F F2(tm)2.512 E F0 2.512(\(4\). In)1.666 F .011
(contrast, the MAKE script mak)2.511 F .011
(es only one set of nodes for)-.1 F F2(tm)2.511 E F0(or)72 487.2 Q F2
(ts)4.09 E F0 4.09(,w)C 1.591
(ithout changing the unit number speci\214ed.)-4.09 F(Dif)6.591 E 1.591
(ferent sites use dif)-.25 F 1.591(ferent naming con)-.25 F -.15(ve)-.4
G 1.591(ntions for).15 F
(tapes; you could use the LOCAL entry in MAKE to mo)72 499.2 Q .3 -.15
(ve t)-.15 H(he tape \214les to your f).15 E -.2(avo)-.1 G(rite names.)
.2 E .025(As an e)97 514.8 R .025
(xample, if your machine had a single DZ-11, tw)-.15 F 2.524(oD)-.1 G
.024(H-11s, an RP03 disk, tw)-2.524 F 2.524(oR)-.1 G .024
(P06 disks, and)-2.524 F 2.5(aT)72 526.8 S(M03 tape formatter you w)-2.5
E(ould do:)-.1 E F1(#)108 544.8 Q F0(cd /)2.5 E F1(#)108 556.8 Q F0
(mkdir ne)2.5 E(wde)-.25 E(v)-.25 E F1(#)108 568.8 Q F0(cp /de)2.5 E
(v/MAKE /ne)-.25 E(wde)-.25 E(v/MAKE)-.25 E F1(#)108 580.8 Q F0(cd ne)
2.5 E(wde)-.25 E(v)-.25 E F1(#)108 592.8 Q F0
(./MAKE dz0 dh1 ht0 std LOCAL)2.5 E F1(#)108 604.8 Q F0
(./MAKE rp0a rp0b rp0c hp0a hp0b hp0c hp1a hp1b hp1d hp1e)2.5 E .22
(Note the `)72 622.8 R(`std')-.74 E 2.72('a)-.74 G -.18(rg)-2.72 G .22
(ument here that causes standard de).18 F .22(vices such as)-.25 F F2
(console)2.72 E F0 2.72(,t)C .22(he console terminal, to be cre-)-2.72 F
(ated.)72 634.8 Q -1.1(Yo)97 650.4 S 2.5(uc)1.1 G(an then do)-2.5 E F1
(#)108 668.4 Q F0(cd /)2.5 E F1(#)108 680.4 Q F0(mv de)2.5 E 2.5(vg)-.25
G(enericde)-2.5 E 2.5(v;m)-.25 G 2.5(vn)-2.5 G -.25(ew)-2.5 G(de).25 E
2.5(vd)-.25 G -.25(ev)-2.5 G F1(#)108 692.4 Q F0(sync)2.5 E .893
(to install the ne)72 710.4 R 3.393(wd)-.25 G -.25(ev)-3.393 G .893
(ice directory).25 F 5.893(.O)-.65 G .893
(nce you are con\214dent that the ne)-5.893 F 3.393(wd)-.25 G .892
(irectory is set up properly)-3.393 F 3.392(,y)-.65 G(ou)-3.392 E
(can remo)72 722.4 Q .3 -.15(ve /)-.15 H(genericde).15 E -.65(v.)-.25 G
(23 October 1995)254.395 768 Q EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 58.77
(-15- De)92.67 F(vice and \214le system con\214guration)-.25 E/F1 10
/Times-Bold@0 SF 2.5(3.3. Editing)72 84 R
(system-dependent con\214guration \214les)2.5 E F0 .314
(There are a number of small \214les in /)97 99.6 R/F2 10/Times-Italic@0
SF(etc)A F0 .314(that are used by v)2.814 F .314
(arious programs to determine things about)-.25 F .535
(the local con\214guration.)72 111.6 R .535(At this point, se)5.535 F
-.15(ve)-.25 G .535
(ral of these should be edited to describe the local con\214guration.)
.15 F -1.1(Yo)72 123.6 S 2.96(um)1.1 G .46(ay ha)-2.96 F .761 -.15(ve o)
-.2 H .461(ld v).15 F .461(ersions of some of them which you may w)-.15
F .461(ant to use, or you may edit the \214les that are)-.1 F(pro)72
135.6 Q 1.753(vided as e)-.15 F 4.253(xamples. Some)-.15 F 1.753
(of this may be done later at your con)4.253 F -.15(ve)-.4 G 1.753
(nience, b).15 F 1.753(ut is presented here for)-.2 F(or)72 147.6 Q -.05
(ga)-.18 G 2.5(nization. Both).05 F F1(/etc/dtab)2.5 E F0(and)2.5 E F1
(/etc/fstab)2.5 E F0(should be edited no)2.5 E -.65(w.)-.25 G F1 2.5
(3.3.1. /etc/dtab)72 171.6 R F0 1.851
(This \214le contains the list of de)97 187.2 R 1.851
(vices which will be check)-.25 F 1.851(ed at boot time by)-.1 F F2
(autocon\214g)4.351 E F0 4.351(\(8\). The)1.666 F(de)72 199.2 Q .404
(vices that are listed are tested to see whether the)-.25 F 2.903(ye)
-.15 G .403(xist and ha)-3.053 F .703 -.15(ve t)-.2 H .403
(he correct re).15 F .403(gister addresses and inter)-.15 F(-)-.2 E .012
(rupt v)72 211.2 R 2.513(ectors. If)-.15 F(the)2.513 E 2.513(yd)-.15 G
.013(o, and the k)-2.513 F .013(ernel has a corresponding dri)-.1 F -.15
(ve)-.25 G 2.513(rr).15 G(outine,)-2.513 E F2(autocon\214g)2.513 E F0
.013(noti\214es the dri)2.513 F -.15(ve)-.25 G 2.513(rt).15 G(hat)-2.513
E .64(the de)72 223.2 R .64(vice e)-.25 F .64(xists at that address.)
-.15 F .64(In this w)5.64 F(ay)-.1 E 3.14(,t)-.65 G .639
(he addresses and v)-3.14 F .639(ectors of most de)-.15 F .639
(vices do not need to be)-.25 F 1.2(compiled into the operating system.)
72 235.2 R 1.2(The e)6.2 F 1.2
(xception is that disks must be precon\214gured if the)-.15 F 3.7(ya)
-.15 G 1.2(re to be)-3.7 F(used as root \214le systems.)72 247.2 Q .523
(This \214le should be edited to include all of the de)97 262.8 R .523
(vices on the system with the e)-.25 F .523(xception of the clock)-.15 F
.8(and console de)72 274.8 R 3.3(vice. Other)-.25 F(de)3.3 E .801
(vice entries can be deleted or commented out with a '#' at the be)-.25
F .801(ginning of)-.15 F 1.352(the line.)72 286.8 R 1.352
(The format of the entries is de\214ned in)6.352 F F2(dtab)3.852 E F0
(\(5\).)1.666 E F2 -.2(Au)6.352 G(tocon\214g).2 E F0 1.352
(\(8\) describes the autocon\214guration)1.666 F 2.976(process. One)72
298.8 R -.1(wo)2.976 G .476(rd of caution:).1 F .477(if a de)5.477 F
.477(vice f)-.25 F .477(ails to interrupt as e)-.1 F .477
(xpected, and if its unit number is speci\214ed)-.15 F 1.699
(\(not a '?' wildcard\),)72 310.8 R F2(autocon\214g)4.198 E F0 1.698
(will notify the dri)4.198 F -.15(ve)-.25 G 4.198(rt).15 G 1.698
(hat the de)-4.198 F 1.698(vice is)-.25 F F1(not)4.198 E F0 1.698
(present, and precon\214gured)4.198 F(de)72 322.8 Q .092(vices \(lik)
-.25 F 2.592(er)-.1 G .092(oot disks\) could be disconnected.)-2.592 F
.093(Thus, it is probably best to use a '?')5.092 F .093
(instead of a unit num-)5.093 F .528
(ber for your root disks until you are con\214dent that the probe al)72
334.8 R -.1(wa)-.1 G .527(ys \214nds that disk, especially if your disk)
.1 F .809(controller is an emulation of another disk type.)72 346.8 R
.81(Disks that are not used as boot de)5.809 F .81
(vices for UNIX can be)-.25 F(properly listed with unit numbers.)72
358.8 Q F1 2.5(3.3.2. /etc/fstab)72 382.8 R F0 .984(This \214le contain\
s the list of \214le systems normally mounted on the system.)97 398.4 R
.983(Its format is de\214ned in)5.983 F F2(fstab)72 410.4 Q F0 2.947
(\(5\). Programs)1.666 F(lik)2.947 E(e)-.1 E F2(df)2.947 E F0 .447
(\(1\) and)1.666 F F2(fsc)2.948 E(k)-.2 E F0 .448
(\(8\) use this list to control their actions.)1.666 F .448
(Each disk partition that has)5.448 F .221
(been assigned a function should be listed here.)72 422.4 R .221
(See the manual pages for speci\214cs on ho)5.221 F 2.721(wt)-.25 G
2.721(oc)-2.721 G .221(on\214gure this)-2.721 F(\214le.)72 434.4 Q F1
2.5(3.3.3. /etc/ident)72 458.4 R F0 .157(The banner printed by)97 474 R
F2 -.1(ge)2.657 G(tty).1 E F0 .157(\(8\) is read from /etc/ident.)1.666
F .157(Edit this \214le to the banner you wish to use.)5.157 F(It)5.158
E .512
(may contain special characters to clear terminal screens, etc., b)72
486 R .511(ut note that the same \214le is used for all ter)-.2 F(-)-.2
E(minals.)72 498 Q F1 2.5(3.3.4. /etc/motd)72 522 R F0 1.513
(The contents of /etc/motd, the `)97 537.6 R 1.513(`message of the day)
-.74 F -.7(,')-.65 G 4.014('i)-.04 G 4.014(sd)-4.014 G 1.514
(isplayed at the terminal when a user is)-4.014 F(logged in by)72 549.6
Q F2(lo)2.5 E(gin)-.1 E F0(\(1\).)1.666 E F1 2.5(3.3.5. /etc/passwd,)72
573.6 R(/etc/gr)2.5 E(oup)-.18 E F0 1.445(These \214les ob)97 589.2 R
1.445(viously need local modi\214cations.)-.15 F 1.444
(See the section on adding ne)6.444 F 3.944(wu)-.25 G 3.944
(sers. Entries)-3.944 F(for)3.944 E .046
(pseudo-users \(user IDs that are not used for logins\) ha)72 601.2 R
.346 -.15(ve p)-.2 H(assw).15 E .046(ord \214elds containing `)-.1 F
(`***')-.74 E .046(', since encrypted)-.74 F(passw)72 613.2 Q(ords ne)
-.1 E -.15(ve)-.25 G 2.5(rn).15 G(ot contain asterisks.)-2.5 E F1 2.5
(3.3.6. /etc/r)72 637.2 R(c)-.18 E F0 .167(As the system be)97 652.8 R
.166(gins multiuser operations, it e)-.15 F -.15(xe)-.15 G .166
(cutes the commands in /etc/rc \(see).15 F F2(init)2.666 E F0 2.666
(\(8\)\). Most)1.666 F(of)2.666 E .872(the commands in this \214le are \
standard and should not be changed, including the section for checking \
\214le)72 664.8 R 1.378(systems after a reboot.)72 676.8 R 1.377
(These commands will be ignored if autoreboot is not enabled.)6.378 F
-1.1(Yo)6.377 G 3.877(us)1.1 G 1.377(hould edit)-3.877 F
(/etc/rc to set your machine')72 688.8 Q 2.5(sn)-.55 G 2.5(ame. Look)
-2.5 F(for the line)2.5 E(/etc/hostname hostnameunkno)133 706.8 Q(wn)
-.25 E 1.76(and change)72 724.8 R F2(hostnameunknown)4.26 E F0 1.761
(to the name of your machine.)4.261 F 1.761(This name will be used by)
6.761 F F2(Mail)4.261 E F0 1.761(\(1\) and)1.666 F(23 October 1995)
254.395 768 Q EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 58.77
(-16- De)92.67 F(vice and \214le system con\214guration)-.25 E/F1 10
/Times-Italic@0 SF(uucp)72 84 Q F0 .849(\(1\) \(among others\) and shou\
ld correspond to the name by which your machine is kno)1.666 F .849
(wn to e)-.25 F(xternal)-.15 E(netw)72 96 Q .724(orks \(if an)-.1 F
3.224(y\). At)-.15 F .725(this time you may wish to add additional comm\
ands to this \214le if you need to start)3.224 F
(additional daemons, remo)72 108 Q .3 -.15(ve o)-.15 H
(ld lock \214les, or perform an).15 E 2.5(yo)-.15 G
(ther cleanup as the system comes up.)-2.5 E/F2 10/Times-Bold@0 SF 2.5
(3.3.7. Con\214guring)72 132 R(terminals)2.5 E F0 .353(If UNIX is to su\
pport simultaneous access from more than just the console terminal, the\
 \214le /etc/ttys)97 147.6 R(\()72 159.6 Q F1(ttys)A F0
(\(5\)\) has to be edited.)1.666 E -.7(Te)97 175.2 S .682
(rminals connected via DZ interf).7 F .683(aces are con)-.1 F -.15(ve)
-.4 G .683(ntionally named).15 F F2(tty)3.183 E F1(dd)A F0(where)3.183 E
F1(dd)3.183 E F0 .683(is a decimal num-)3.183 F(ber)72 187.2 Q 3.329(,t)
-.4 G .829(he `)-3.329 F .829(`minor de)-.74 F(vice')-.25 E 3.329('n)
-.74 G(umber)-3.329 E 5.829(.T)-.55 G .829
(he lines on dz0 are named /de)-5.829 F .828(v/tty00, /de)-.25 F .828
(v/tty01, ... /de)-.25 F 3.328(v/tty07. Lines)-.25 F 1.02(on DH interf)
72 199.2 R 1.02(aces are con)-.1 F -.15(ve)-.4 G 1.02(ntionally named)
.15 F F2(ttyh)3.52 E F1(x)A F0 3.52(,w)C(here)-3.52 E F1(x)3.521 E F0
1.021(is a he)3.521 F 1.021(xadecimal digit.)-.15 F 1.021
(If more than one DH)6.021 F(interf)72 211.2 Q
(ace is present in a con\214guration, successi)-.1 E .3 -.15(ve t)-.25 H
(erminals w).15 E(ould be named)-.1 E F2(ttyi)2.5 E F1(x)A F0(,)A F2
(ttyj)2.5 E F1(x)A F0 2.5(,e)C(tc.)-2.5 E 2.508 -.8(To a)97 226.8 T .908
(dd a ne).8 F 3.408(wt)-.25 G .908(erminal be sure the de)-3.408 F .908
(vice is con\214gured into the system, that the special \214le for the)
-.25 F(de)72 238.8 Q .584(vice has been made by /de)-.25 F .584
(v/MAKE, and the special \214le e)-.25 F .585
(xists. Then set the \214rst character of the appro-)-.15 F .06
(priate line of /etc/ttys to 1 \(or add a ne)72 250.8 R 2.56(wl)-.25 G
2.56(ine\). The)-2.56 F .059
(\214rst character may also be 3 if the line is also to be used)2.56 F
(in maintenance mode \(see)72 262.8 Q F1(init)2.5 E F0(\(8\)\).)1.666 E
.432(The second character of each line in the /etc/ttys \214le lists th\
e speed and initial parameter settings for)97 278.4 R(the terminal.)72
290.4 Q(The most common choices, from)5 E F1 -.1(ge)2.5 G(tty).1 E F0
(\(8\), are:)1.666 E 20(03)108 308.4 S(00-1200-150-110)-20 E 20(31)108
320.4 S(200-300)-20 E 20(43)108 332.4 S(00 \(e.g. console\))-20 E 20(53)
108 344.4 S(00-1200)-20 E 20(61)108 356.4 S(200)-20 E 20(72)108 368.4 S
(400)-20 E 20(84)108 380.4 S(800)-20 E 20(99)108 392.4 S(600)-20 E 18.33
(Ba)108 404.4 S(utobaud)-18.33 E .183
(Here the \214rst speed is the speed a terminal starts at, and `)72
422.4 R(`break')-.74 E 2.683('s)-.74 G .183(witches speeds.)-2.683 F
.183(Thus a ne)5.183 F .183(wly added ter)-.25 F(-)-.2 E(minal /de)72
434.4 Q(v/tty00 could be added as)-.25 E(19tty00)108 452.4 Q .992
(if it w)72 470.4 R .992(as wired to run at 9600 baud.)-.1 F .992(The `)
5.992 F(`B')-.74 E 3.492('i)-.74 G .992(ndicates that)-3.492 F F1 -.1
(ge)3.492 G(tty).1 E F0 .992(should attempt to guess a line')3.492 F
3.492(ss)-.55 G(peed)-3.492 E .113
(when the user types a carriage return or control-C.)72 482.4 R .112
(Note that this requires k)5.112 F .112(ernel support.)-.1 F .112
(See section 5.3.6)5.112 F(belo)72 494.4 Q -.65(w.)-.25 G .161(Dialup t\
erminals should be wired so that the carrier is asserted only when the \
phone line is dialed up.)97 510 R -.15(Fo)72 522 S 2.752(rn).15 G .252
(on-dialup terminals from which modem control is not a)-2.752 F -.25(va)
-.2 G .252(ilable, you must either wire back the signals).25 F .453
(so that the carrier al)72 534 R -.1(wa)-.1 G .453(ys appears to be pre\
sent, or \(for lines on a DH-11 or DZ-11\) add 0200 to the minor).1 F
(de)72 546 Q(vice number to indicate that carrier is to be ignored.)-.25
E(See)5 E F1(dh)2.5 E F0(\(4\) and)1.666 E F1(dz)2.5 E F0
(\(4\) for details.)1.666 E -1.1(Yo)97 561.6 S 2.5(us)1.1 G(hould also \
edit the \214le /etc/ttytype placing the type of each terminal there \(\
see)-2.5 E F1(ttytype)2.5 E F0(\(5\)\).)1.666 E .501
(When the system starts running multi-user)97 577.2 R 3.001(,a)-.4 G
.501(ll terminals that are listed in /etc/ttys ha)-3.001 F .501
(ving a 1 or 3 as)-.2 F .547
(the \214rst character of their line are enabled.)72 589.2 R .548
(If, during normal operations, it is desired to disable a terminal)5.548
F .837(line, the super)72 601.2 R .837(-user can edit the \214le /etc/t\
tys, change the \214rst character of the corresponding line to 0 and)-.2
F(then send a hangup signal to the)72 613.2 Q F1(init)2.5 E F0
(process, by typing \(see)2.5 E F1(kill)2.5 E F0(\(1\)\))1.666 E F2(#)
108 631.2 Q F0(kill \2551 1)2.5 E(or)115.5 643.2 Q F2(#)108 655.2 Q F0
(kill \255HUP 1)2.5 E -.7(Te)72 673.2 S .701(rminals can similarly be e\
nabled by changing the \214rst character of a line from a 0 to a 1 and \
sending a).7 F(hangup to)72 685.2 Q F1(init)2.5 E F0(.)A .204
(Note that if a special \214le is inaccessible when)97 700.8 R F1(init)
2.704 E F0 .204
(tries to create a process for it, init will print a mes-)2.704 F .633
(sage on the console and try to reopen the terminal e)72 712.8 R -.15
(ve)-.25 G .633(ry minute, reprinting the w).15 F .633(arning message e)
-.1 F -.15(ve)-.25 G .633(ry 10).15 F(minutes.)72 724.8 Q
(23 October 1995)254.395 768 Q EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 58.77
(-17- De)92.67 F(vice and \214le system con\214guration)-.25 E .231
(Finally note that you should change the names of an)97 84 R 2.731(yd)
-.15 G .23(ialup terminals to ttyd?)-2.731 F .23(where ? is in [0-9a-f])
5.23 F .763(since some programs use this property of the names to decid\
e whether a terminal is a dialup.)72 96 R .763(Shell com-)5.763 F
(mands to do this should be put in the /de)72 108 Q
(v/MAKE script under case LOCAL.)-.25 E(23 October 1995)254.395 768 Q EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 166.56
(-18- /usr)92.67 F(setup)2.5 E/F1 12/Times-Bold@0 SF
(4. SETTING UP THE /usr FILE SYSTEM)178.476 84 Q F0 .213(The ne)97 123.6
R .213(xt step in bringing up the 2.9BSD distrib)-.15 F .212
(ution is to read in the binaries and sources on the /usr)-.2 F .69
(\214le system.)72 135.6 R .69(This will also demonstrate ho)5.69 F 3.19
(wt)-.25 G 3.191(oa)-3.19 G .691(dd ne)-3.191 F 3.191<778c>-.25 G .691
(le systems in general, and the o)-3.191 F -.15(ve)-.15 G .691
(rall procedure).15 F .095
(can be repeated to set up additional \214le systems.)72 147.6 R .095
(There are tw)5.095 F 2.594(op)-.1 G .094
(ortions of the /usr \214le system, one on each)-2.594 F 3.589
(tape. The)72 159.6 R 1.089(\214rst tape contains the binary directorie\
s, manual pages and documentation, as well as sk)3.589 F(eletal)-.1 E
.917(directories such as spool and msgs.)72 171.6 R .916(If you ha)5.917
F 1.216 -.15(ve r)-.2 H .916(oom, it is easiest to e).15 F .916
(xtract e)-.15 F -.15(ve)-.25 G 3.416(rything. The).15 F .916
(size of the)3.416 F 1.12
(entire /usr \214le system image on the distrib)72 183.6 R 1.12
(ution tapes is 38 me)-.2 F -.05(ga)-.15 G 3.621(bytes. It).05 F 1.121
(will not \214t on a single RK05,)3.621 F .544(RK06/7 or RL01/2.)72
195.6 R .543(In these cases, the /usr \214le system will ha)5.544 F .843
-.15(ve t)-.2 H 3.043(ob).15 G 3.043(ee)-3.043 G .543
(xtracted in sections or split across)-3.193 F .388(multiple disks.)72
207.6 R(The)5.388 E/F2 10/Times-Italic@0 SF(bin)2.888 E F0(,)A F2
(include)2.888 E F0(,)A F2(lib)2.888 E F0 2.888(,a)C(nd)-2.888 E F2(ucb)
2.888 E F0 .388(subdirectories are essential.)2.888 F .388
(The system sources will also be)5.388 F .192
(needed to recon\214gure the k)72 219.6 R .191(ernel; the)-.1 F 2.691
(ya)-.15 G .191(re in /usr/src/sys.)-2.691 F(The)5.191 E F2(adm)2.691 E
F0(,)A F2(dict)2.691 E F0(,)A F2(msgs)2.691 E F0(,)A F2(pr)2.691 E
(eserve)-.37 E F0(,)A F2(spool)2.691 E F0(,)A F2(sys)2.691 E F0(and)
2.691 E F2(tmp)2.691 E F0 .601(directories may also be e)72 231.6 R .601
(xtracted to pro)-.15 F .601(vide a sk)-.15 F .601(eletal system.)-.1 F
.601(The \214rst part of this section describes ho)5.601 F(w)-.25 E .336
(to e)72 243.6 R .336
(xtract /usr as part of a full bootstrap; the second part e)-.15 F .336
(xplains ho)-.15 F 2.836(wt)-.25 G 2.836(oi)-2.836 G .335
(nstall 2.9BSD as an upgrade to a)-2.836 F
(2.8BSD system if you decide not to perform a full bootstrap.)72 255.6 Q
/F3 10/Times-Bold@0 SF 2.5(4.1. Full)72 279.6 R(bootstrap pr)2.5 E
(ocedur)-.18 E(e)-.18 E F0 .259(This procedure will create a ne)97 295.2
R 2.759<778c>-.25 G .259(le system and e)-2.759 F .26
(xtract the /usr directory into it.)-.15 F .26(First determine the)5.26
F .873(name of the disk on which you plan to place the ne)72 307.2 R
3.372<778c>-.25 G .872(le system, for e)-3.372 F .872
(xample rm0c, and substitute it for)-.15 F F2(disk)72 319.2 Q F0 .85
(throughout this section.)3.35 F -1.1(Yo)5.85 G 3.35(um)1.1 G .85(ay w)
-3.35 F .85(ant to create a small `)-.1 F(`prototype')-.74 E 3.35<278c>
-.74 G .85(le to describe the \214le system)-3.35 F(\(see)72 331.2 Q F2
(mkfs)2.585 E F0 .085
(\(8\)\) in order to change the size of the inode list.)1.666 F .085
(This is the same as the maximum number of \214les)5.085 F .542
(that can be created on the \214le system.)72 343.2 R .542(The def)5.542
F .543(ault is to allo)-.1 F 3.043(w1)-.25 G 3.043(6i)-3.043 G .543
(nodes \(occup)-3.043 F .543(ying one block\) per 24 \214le)-.1 F .656
(system blocks, allo)72 355.2 R .655(wing the \214le system to be compl\
etely \214lled with small \214les \(1-2 blocks\).)-.25 F .655
(This is more)5.655 F .704
(than required for /usr and other \214le systems which ha)72 367.2 R
1.004 -.15(ve l)-.2 H(ar).15 E .705(ger a)-.18 F -.15(ve)-.2 G .705
(rage \214le size.).15 F .705(If you decide to set up a)5.705 F .443
(prototype \214le for)72 379.2 R F2(mkfs)2.942 E F0 2.942(,u)C .442
(se its name for)-2.942 F F2(pr)2.942 E(oto)-.45 E F0(belo)2.942 E 4.242
-.65(w. T)-.25 H .442
(he prototype \214le needs to contain only the name of).65 F .61
(the bootstrap, the sizes, and the line for the root directory \(don')72
391.2 R 3.111(tf)-.18 G(or)-3.111 E .611(get the '$' to terminate\).)
-.18 F .611(Look up the)5.611 F .288(correct size for this \214le syste\
m in the manual section for the disk.)72 403.2 R .288
(Note that the size gi)5.288 F -.15(ve)-.25 G 2.787(nt).15 G(o)-2.787 E
F2(mkfs)2.787 E F0 .287(is in \214le)2.787 F 1.051(system blocks of 102\
4 bytes, and thus the sizes in the manual page will ha)72 415.2 R 1.352
-.15(ve t)-.2 H 3.552(ob).15 G 3.552(ed)-3.552 G -.25(iv)-3.552 G 1.052
(ided by 2.).25 F 1.052(If not)6.052 F .004
(using a prototype \214le, substitute the size for)72 427.2 R F2(pr)
2.504 E(oto)-.45 E F0 .004(in the mkfs command belo)2.504 F 3.804 -.65
(w. F)-.25 H(inally).65 E 2.504(,r)-.65 G .004(ecall the interlea)-2.504
F(v-)-.2 E .62(ing parameters)72 439.2 R F2(m)3.12 E F0(and)3.12 E F2(n)
3.12 E F0 .62(that you used in making the root \214le system.)3.12 F
(The)5.621 E 3.121(ya)-.15 G .621(re in the table in section 2.2.)-3.121
F .611(Comments are enclosed in \( \); don')72 451.2 R 3.111(tt)-.18 G
.611(ype these.)-3.111 F .611(Then e)5.611 F -.15(xe)-.15 G .61
(cute the follo).15 F .61(wing commands \(substituting)-.25 F F2(rmt1)
3.11 E F0(and)72 463.2 Q F2(nrmt1)2.5 E F0(for)2.5 E F2(rmt0)2.5 E F0
(and)2.5 E F2(nrmt0)2.5 E F0(respecti)2.5 E -.15(ve)-.25 G(ly if you ha)
.15 E .3 -.15(ve a 1)-.2 H(600 bpi tape on an ht or tm controller\):).15
E F3(#)108 493.2 Q F0(/etc/mkfs /de)2.5 E(v/r)-.25 E F2(disk pr)A
(oto m n)-.45 E F0(\(create empty user \214le system\))7.5 E F3(isize =)
108 505.2 Q F2(nnnnn)2.5 E F0(\(the count of a)80.82 E -.25(va)-.2 G
(ilable inodes\)).25 E F3(m/n =)108 517.2 Q F2 2.5(mn)2.5 G F0
(\(free list interlea)90.26 E .3 -.15(ve p)-.2 H(arameters\)).15 E
(\(this tak)242.85 529.2 Q(es a fe)-.1 E 2.5(wm)-.25 G(inutes\))-2.5 E
F3(#)108 541.2 Q F0(/etc/mount /de)2.5 E(v/)-.25 E F2(disk)A F0 26.21
(/usr \(mount)2.5 F(the usr \214le system\))2.5 E F3(#)108 553.2 Q F0
(cd /usr)2.5 E(\(mak)100.41 E 2.5(e/)-.1 G(usr the current directory\))
-2.5 E(\(mak)242.85 565.2 Q 2.5(es)-.1 G
(ure that the \214rst tape is mounted\))-2.5 E F3(#)108 577.2 Q F0
(mt \255t /de)2.5 E(v/nrmt0 fsf 7)-.25 E(\(skip \214rst se)39.18 E -.15
(ve)-.25 G 2.5(nt).15 G(ape \214les\))-2.5 E F3(#)108 589.2 Q F0
(tar xpf /de)2.5 E 57.33(v/rmt0 \(e)-.25 F
(xtract the /usr \214le system binaries\))-.15 E(\(this tak)242.85 601.2
Q(es about 20 minutes\))-.1 E(\(no)242.85 613.2 Q 2.5(wm)-.25 G
(ount the second tape\))-2.5 E F3(#)108 625.2 Q F0(tar xpf /de)2.5 E
57.33(v/rmt0 \(e)-.25 F(xtract the /usr \214le system sources\))-.15 E
(\(this tak)242.85 637.2 Q(es another 20 minutes\))-.1 E -1.1(Yo)97
658.8 S 2.5(uc)1.1 G(an no)-2.5 E 2.5(wc)-.25 G(heck the consistenc)-2.5
E 2.5(yo)-.15 G 2.5(ft)-2.5 G(he /usr \214le system by doing)-2.5 E F3
(#)108 682.8 Q F0(cd /)2.5 E(\(back to root\))100.78 E F3(#)108 694.8 Q
F0(/etc/umount /de)2.5 E(v/)-.25 E F2(disk)A F0(\(unmount /usr\))29.36 E
F3(#)108 706.8 Q F0(fsck /de)2.5 E(v/r)-.25 E F2(disk)A F0 1.6 -.8(To u)
72 730.8 T(se the /usr \214le system, you should no).8 E 2.5(wr)-.25 G
(emount it by saying)-2.5 E(23 October 1995)254.395 768 Q EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 166.56
(-19- /usr)92.67 F(setup)2.5 E/F1 10/Times-Bold@0 SF(#)108 84 Q F0
(/etc/mount /de)2.5 E(v/)-.25 E/F2 10/Times-Italic@0 SF(disk)A F0(/usr)
2.5 E .591(If you are installing the distrib)97 105.6 R .591
(ution on a PDP11/44, 11/45, 11/70, 11/73, 11/83, or 11/84 \(machines)
-.2 F .055(with separate instruction and data space\) you should test a\
nd install the separate I/D v)72 117.6 R .055(ersions of csh, e)-.15 F
.055(x, etc.)-.15 F(in /usr/70.)72 129.6 Q(Note, ho)5 E(we)-.25 E -.15
(ve)-.25 G .8 -.4(r, t).15 H(hat these binaries assume the e).4 E
(xistence of hardw)-.15 E(are \215oating point support.)-.1 E F1 2.5
(4.2. Bootstrap)72 153.6 R(path 2: upgrading 2.8BSD)2.5 E F0(Be)97 169.2
Q .987(gin by reading the other parts of this document to see what has \
changed since the last time you)-.15 F .475(bootstrapped the system.)72
181.2 R .475(Also look at the ne)5.475 F 2.975(wm)-.25 G .475
(anual sections pro)-2.975 F .475(vided to you.)-.15 F .474(If you ha)
5.474 F .774 -.15(ve l)-.2 H .474(ocal system).15 F .77
(modi\214cations to the k)72 193.2 R .77
(ernel to install, look at the document `)-.1 F .77(`Changes in the K)
-.74 F .77(ernel in 2.9BSD')-.25 F 3.27('t)-.74 G 3.27(og)-3.27 G .77
(et an)-3.27 F .457(idea of ho)72 205.2 R 2.956(wt)-.25 G .456
(he system changes will af)-2.956 F .456(fect your local mods.)-.25 F
2.956(Disclaimer: there)5.456 F .456(are a v)2.956 F .456(ery lar)-.15 F
.456(ge number of)-.18 F .629(changes from 2.8BSD to 2.9.)72 217.2 R
.629(This section may not be complete, and if a ne)5.629 F 3.13(wp)-.25
G .63(rogram f)-3.13 F .63(ails to w)-.1 F .63(ork after)-.1 F(being re\
compiled, you may \214nd that additional libraries or other components \
may also need to be updated.)72 229.2 Q(There are 6 major areas of chan\
ges that you will need to incorporate to con)97 244.8 Q -.15(ve)-.4 G
(rt to the ne).15 E 2.5(ws)-.25 G(ystem:)-2.5 E 15(1. The)72 260.4 R(ne)
2.576 E 2.576(wk)-.25 G .076
(ernel and the associated programs that implement job control or read k)
-2.676 F .076(ernel memory: auto-)-.1 F(con\214g, csh, the jobs library)
97 272.4 Q 2.5(,l)-.65 G(ogin, ps, pstat, w)-2.5 E 2.5(,e)-.65 G(tc.)
-2.5 E 15(2. The)72 288 R(programs related to system reboots and shutdo)
2.5 E(wns.)-.25 E 15(3. The)72 303.6 R
(programs directly related to user te)2.5 E(xt o)-.15 E -.15(ve)-.15 G
2.5(rlays: adb).15 F(and ld.)2.5 E 20(4T)72 319.2 S(he C compiler dri)
-20 E -.15(ve)-.25 G .8 -.4(r, C p).15 H(reprocessor).4 E 2.5(,a)-.4 G
(nd assembler)-2.5 E(.)-.55 E 20(5T)72 334.8 S(he ne)-20 E 2.5(wv)-.25 G
(ersion of the standard I/O library)-2.65 E(.)-.65 E 15(6. Other)72
350.4 R 2.564(programs with signi\214cant b)5.064 F 2.564(ug \214x)-.2 F
2.565(es, signi\214cant impro)-.15 F -.15(ve)-.15 G 2.565
(ments, or which were pre).15 F(viously)-.25 E(una)97 362.4 Q -.25(va)
-.2 G(ilable because the).25 E 2.5(yh)-.15 G(ad not been o)-2.5 E -.15
(ve)-.15 G(rlaid.).15 E 1.062(Here is a step-by-step guide to con)97 378
R -.15(ve)-.4 G 3.561(rting. Before).15 F 1.061(you be)3.561 F 1.061
(gin you should do a full backup of your)-.15 F
(root and /usr \214le systems as a precaution ag)72 390 Q(ainst irre)
-.05 E -.15(ve)-.25 G(rsible mistak).15 E(es.)-.1 E 15(1. Set)72 405.6 R
.396(the shell v)2.896 F .396(ariable `)-.25 F(`nbsd')-.74 E 2.896('t)
-.74 G 2.896(ot)-2.896 G .397
(he name of a directory where an empty \214le system can be mounted)
-2.896 F .256
(and a quantity of material from the tape \(you should allo)97 417.6 R
2.756(wf)-.25 G .256(or about 38 me)-2.756 F -.05(ga)-.15 G .255
(bytes\) can be e).05 F(xtracted.)-.15 E .038(Choose a disk of suf)97
429.6 R .039(\214cient size to hold this quantity of material, mak)-.25
F 2.539(ea\214)-.1 G .039(le system, and mount $nbsd)-2.539 F 1.588
(on this disk.)97 441.6 R(Ne)6.588 E 1.588(xt, restore \(see)-.15 F F2
-.37(re)4.088 G(stor).37 E F0 1.588
(\(8\)\) the root \214le system dump image to this disk.)1.666 F
(Finally)6.587 E(,)-.65 E .468(change directory to `)97 453.6 R
(`$nbsd/usr')-.74 E .468(', and e)-.74 F .469
(xtract the eighth \214le from the \214rst distrib)-.15 F .469
(ution tape and all of)-.2 F(the second tape using)97 465.6 Q F2(tar)2.5
E F0(\(see)2.5 E F2(tar)2.5 E F0(\(1\)\).)1.666 E 15(2. Install)72 481.2
R 8.431(the ne)10.931 F 10.931(wi)-.25 G 8.431(nclude \214les by cop)
-10.931 F 8.431(ying $nbsd/usr/include/*.h to /usr/include and)-.1 F
.893($nbsd/usr/include/sys/*.h to /usr/include/sys.)97 493.2 R .893
(Install the C compiler dri)5.893 F -.15(ve)-.25 G 3.393(rf).15 G .894
(rom the ne)-3.393 F 3.394(ws)-.25 G .894(ystem by)-3.394 F(cop)97 505.2
Q .426(ying $nbsd/bin/cc to /bin/cc.)-.1 F .425
(Install the assembler from the ne)5.426 F 2.925(ws)-.25 G .425
(ystem by cop)-2.925 F .425(ying $nbsd/bin/as)-.1 F .843
(to /bin/as and $nbsd/lib/as2 to /lib/as2.)97 517.2 R .843
(Install the ne)5.843 F 3.343(wCp)-.25 G .843(reprocessor by cop)-3.343
F .843(ying $nbsd/lib/cpp to)-.1 F 2.5(/lib/cpp. Install)97 529.2 R
(the ne)2.5 E 2.5(wv)-.25 G(ersions of adb and ld by cop)-2.65 E
(ying $nbsd/bin/adb and $nbsd/bin/ld to /bin.)-.1 E 15(3. Recon\214gure)
72 544.8 R 1.697(the system in $nbsd/usr/src/sys to correspond to your \
con\214guration according to the)4.198 F(instructions in section 5.)97
556.8 Q 15(4. Put)72 572.4 R(in the ne)2.5 E 2.5(wv)-.25 G
(ersions of the follo)-2.65 E(wing programs:)-.25 E
(/bin: csh, kill, login, iostat, ps, pstat, vmstat)122 588 Q
(/etc: autocon\214g, fsck, init, mount, reboot, sa)122 603.6 Q -.15(ve)
-.2 G(core, shutdo).15 E(wn, umount)-.25 E(/usr/ucb: e)122 619.2 Q(x, w)
-.15 E(Mer)97 634.8 Q .011(ge an)-.18 F 2.511(yl)-.15 G .011
(ocal changes to /etc/rc into $nbsd/etc/rc.)-2.511 F .011
(Put the resulting \214le in /etc/rc.)5.011 F .012(Create the direc-)
5.012 F .637
(tory /usr/sys and perhaps some \214les in this directory \(read)97
646.8 R F2(savecor)3.137 E(e)-.37 E F0 3.136(\(8\)\). Mak)1.666 F 3.136
(ead)-.1 G -.25(ev)-3.136 G .636(ice description).25 F(\214le for)97
658.8 Q F2(autocon\214g)2.5 E F0 5(.S)C(ee)-5 E F2(dtab)2.5 E F0
(\(5\) and)1.666 E F2(autocon\214g)2.5 E F0(\(8\).)1.666 E 15(5. T)72
674.4 R .451(ry bootstrapping the ne)-.35 F 2.951(ws)-.25 G .451
(ystem; it should no)-2.951 F 2.951(ww)-.25 G 2.951(ork. Mak)-3.051 F
2.951(es)-.1 G .451(ure to write ne)-2.951 F 2.952(wi)-.25 G .452
(nstructions to your)-2.952 F(operators.)97 686.4 Q 15(6. Incorporate)72
702 R(some other important b)2.5 E(ug \214x)-.2 E(es or enhancements:)
-.15 E 14.73(a\) Replace)97 717.6 R .089
(the \214le tmac.an in the directory /usr/lib/tmac with the v)2.59 F
.089(ersion from $nbsd/usr/lib/tmac.)-.15 F 5.992
(Replace the \214le /usr/lib/me/local.me with the v)122 729.6 R 5.993
(ersion from $nbsd/usr/lib/me; cop)-.15 F(y)-.1 E(23 October 1995)
254.395 768 Q EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 166.56
(-20- /usr)92.67 F(setup)2.5 E($nbsd/usr/lib/me/refs.me to /usr/lib/me.)
122 84 Q 14.17(b\) Install)97 99.6 R 5.378(the ne)7.878 F 7.878(wC)-.25
G 5.377(library source, /usr/src/lib/c, reb)-.001 F 5.377
(uild and reinstall /lib/libc.a and)-.2 F(/usr/lib/libo)122 111.6 Q
(vc.a.)-.15 E 14.73(c\) Install)97 127.2 R 5.895(the jobs library)8.395
F 8.395(,/)-.65 G 5.895(usr/src/lib/jobs and b)-8.395 F 5.895
(uild and install /usr/lib/libjobs.a and)-.2 F(/usr/lib/libo)122 139.2 Q
(vjobs.a.)-.15 E 14.17(d\) Replace)97 154.8 R
(the directory /usr/src/cmd/refer)2.5 E 5(.T)-.55 G(hen reb)-5 E
(uild and reinstall the programs.)-.2 E 14.73(e\) Install)97 170.4 R
(the ne)2.5 E 2.5(wM)-.25 G
(ail source, /usr/src/ucb/Mail and reinstall /usr/ucb/Mail.)-2.5 E 15.84
(f\) If)97 186 R .622(the tar)3.122 F .621
(get machine is a nonseparate I/D CPU, install the ne)-.18 F(w)-.25 E/F1
10/Times-Italic@0 SF(le)3.121 E(x)-.2 E F0(and)3.121 E F1(yacc)3.121 E
F0 .621(directories, com-)3.121 F(pile and install the programs.)122 198
Q 14.17(g\) Install)97 213.6 R 2.153(the ne)4.653 F 4.654(wv)-.25 G
2.154(ersion of)-4.804 F F1(tar)4.654 E F0 2.154
(from $nbsd/usr/src/cmd/tar)4.654 F 2.154(.c and also the program)-.55 F
F1(mt)4.654 E F0(from)4.654 E($nbsd/usr/src/ucb/mt.c.)122 225.6 Q 14.17
(h\) Mer)97 241.2 R 3.032(ge your changes to /usr/src/ucb/termcap/reord\
er and reinstall the terminal data base,)-.18 F 6.142
(/etc/termcap. Install)122 253.2 R 3.642(the ne)6.142 F 6.142(wt)-.25 G
3.642(erminal library)-6.142 F 6.142(,/)-.65 G 3.642
(usr/src/ucb/termlib, remak)-6.142 F 6.143(ea)-.1 G 3.643(nd reinstall)
-6.143 F(/usr/lib/libtermcap.a and /usr/lib/libo)122 265.2 Q 2.5
(vtermcap.a. Then)-.15 F(mak)2.5 E 2.5(ea)-.1 G(nd install the ne)-2.5 E
2.5(wv)-.25 G(ersion of)-2.65 E F1 -.2(ex)2.5 G(.).2 E F0 16.39(i\) If)
97 280.8 R .773(you w)3.273 F .772(ant the ne)-.1 F 3.272(wv)-.25 G .772
(ersion of the P)-3.422 F .772(ascal system incorporating o)-.15 F -.15
(ve)-.15 G .772(rlays \(for nonseparate I/D).15 F(CPUs\), remak)122
292.8 Q 2.5(et)-.1 G(he directories)-2.5 E F1(pi)2.5 E F0(and)2.5 E F1
(px)2.5 E F0(in $nbsd/usr/src/cmd and install the programs.)2.5 E 16.39
(j\) Install)97 308.4 R .418(the ne)2.918 F 2.918(wF)-.25 G .418
(77 compiler)-2.918 F 2.918(,/)-.4 G .418(usr/src/cmd/f77, and the ne)
-2.918 F 2.918(wl)-.25 G .419(ibraries, /usr/src/lib/lib*77.)-2.918 F
(Then)5.419 E(remak)122 320.4 Q 2.5(ea)-.1 G(nd reinstall them.)-2.5 E
14.17(k\) Install)97 336 R .142(the ne)2.642 F 2.642(wl)-.25 G .142
(ibrary sources, /usr/src/lib/{ape,curses,m,mp,plot} and remak)-2.642 F
2.642(ea)-.1 G .142(nd reinstall the)-2.642 F(ne)122 348 Q 2.5(wl)-.25 G
(ibraries.)-2.5 E 16.39(l\) Install)97 363.6 R(ne)5.142 E 5.142(wv)-.25
G 2.642(ersions of as man)-5.292 F 5.142(yo)-.15 G 5.142(ft)-5.142 G
2.642(he follo)-5.142 F 2.643(wing programs as you choose: 512dumpdir)
-.25 F(,)-.4 E(512restor)122 375.6 Q 3.052(,a)-.4 G .552
(trun, cat, catman, ccat, compact, check)-3.052 F .551
(obj, ctags, df, dif)-.1 F .551(f, du, e)-.25 F .551(grep, error)-.15 F
3.051(,e)-.4 G(xpand,)-3.201 E .297
(fgrep, \214nd, from, grep, hostname, jo)122 387.6 R -.15(ve)-.15 G
2.797(,l).15 G .298(11, lint, ln, lock, login, lpr)-2.797 F 2.798(,l)-.4
G .298(s, m11, mak)-2.798 F .298(e, man, mkfs,)-.1 F .73(more, msgs, mv)
122 399.6 R 3.23(,n)-.65 G .73(check, printen)-3.23 F 2.03 -.65(v, p)-.4
H .73(q, ranm, re).65 F .73(wind, rm, rmdir)-.25 F 3.23(,s)-.4 G .73
(ed, setquota, size, sort, split,)-3.23 F(sq, strings, strip, stty)122
411.6 Q 2.5(,s)-.65 G(ysline, tail, tbl, tset, ul, uncompact, une)-2.5 E
(xpand, vsh, wc.)-.15 E 11.39(m\) Install)97 427.2 R
(the modi\214ed or ne)2.5 E 2.5(wa)-.25 G(dministrati)-2.5 E .3 -.15
(ve p)-.25 H(rograms: ac, getty).15 E 2.5(,l)-.65 G(ast.)-2.5 E 14.17
(n\) Install)97 442.8 R 3.712(some security \214x)6.212 F 3.712
(es in the mail systems by installing ne)-.15 F 6.213(ws)-.25 G 3.713
(ources for berknet)-6.213 F 2.738(\(/usr/src/ucb/berknet\), deli)122
454.8 R -.15(ve)-.25 G 2.738(rmail \(/usr/src/ucb/deli).15 F -.15(ve)
-.25 G 2.738(rmail\), mail \(/usr/src/cmd/mail.c\), and).15 F(secret ma\
il \(/usr/src/cmd/xsend\), and remaking and reinstalling the ne)122
466.8 Q 2.5(wb)-.25 G(inaries.)-2.5 E 14.17(o\) Install)97 482.4 R
(the ne)2.5 E 2.5(wv)-.25 G(ersion of uucp \(/usr/src/cmd/uucp\).)-2.65
E 14.17(p\) Install)97 498 R 1.182(the ne)3.682 F 1.182
(ws \(/usr/contrib/ne)-.25 F 1.183
(ws\) or notes \(/usr/contrib/notes\) b)-.25 F 1.183
(ulletin board system if you)-.2 F(wish.)122 510 Q 14.17(q\) Install)97
525.6 R(the ne)2.5 E(w)-.25 E F1(eqn)2.5 E F0
(\(1\) symbol macros, /usr/public/eqnSyms.)1.666 E 15.84(r\) Install)97
541.2 R(manual pages corresponding to the ne)2.5 E 2.5(wa)-.25 G
(nd changed programs.)-2.5 E 15.28(s\) Remo)97 556.8 R .765 -.15(ve t)
-.15 H .465(he old programs /bin/o).15 F -.25(va)-.15 G .465(s, /bin/o)
.25 F .465(vld, /lib/o)-.15 F -.25(va)-.15 G .464(s2, and /bin/o).25 F
-.25(va)-.15 G(db).25 E 5.464(.R)-.4 G(emo)-5.464 E .764 -.15(ve t)-.15
H .464(he lib).15 F(ucb-)-.2 E(path library)122 568.8 Q 5(.R)-.65 G(emo)
-5 E .3 -.15(ve t)-.15 H(he old v).15 E(ersion of reset and link the ne)
-.15 E 2.5(wv)-.25 G(ersion of tset to reset.)-2.65 E(23 October 1995)
254.395 768 Q EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-21- K)92.67 F(ernel con\214guration)-.25 E/F1 12/Times-Bold@0 SF
(5. CONFIGURING AND COMPILING THE KERNEL)157.496 84 Q F0 2.02
(This section describes procedures used to set up a PDP-11 UNIX k)97
123.6 R 2.02(ernel \(operating system\).)-.1 F(It)7.02 E -.15(ex)72
135.6 S .303(plains the layout of the k).15 F .303
(ernel code, compile time options, ho)-.1 F 2.803<778c>-.25 G .303
(les for de)-2.803 F .302(vices are made and dri)-.25 F -.15(ve)-.25 G
.302(rs for).15 F .336(the de)72 147.6 R .336
(vices are con\214gured into the system and ho)-.25 F 2.836(wt)-.25 G
.336(he k)-2.836 F .336(ernel is reb)-.1 F .336
(uilt to include the needed dri)-.2 F -.15(ve)-.25 G 2.837(rs. Pro-).15
F .46(cedures described here are used when a system is \214rst installe\
d or when the system con\214guration changes.)72 159.6 R 2.412
(Procedures for normal system operation are described in the ne)72 171.6
R 2.412(xt section.)-.15 F 4.012 -.8(We a)7.412 H 2.412(lso suggest w).8
F 2.412(ays to)-.1 F(or)72 183.6 Q -.05(ga)-.18 G
(nize local changes to the k).05 E(ernel.)-.1 E/F2 10/Times-Bold@0 SF
2.5(5.1. K)72 207.6 R(er)-.25 E(nel or)-.15 E(ganization)-.1 E F0 .324
(The k)97 223.2 R .323(ernel source is k)-.1 F .323
(ept in the subdirectories of /usr/src/sys.)-.1 F .323
(The directory /usr/src/sys/sys contains)5.323 F .292(the mainline k)72
235.2 R .293(ernel code implementing system calls, the \214le system, m\
emory management, etc.)-.1 F .293(The direc-)5.293 F .378
(tory /usr/src/sys/de)72 247.2 R 2.878(vc)-.25 G .378(ontains de)-2.878
F .378(vice dri)-.25 F -.15(ve)-.25 G .378(rs and other lo).15 F(w-le)
-.25 E -.15(ve)-.25 G 2.878(lr).15 G 2.878(outines. The)-2.878 F .378
(header \214les and scripts used)2.878 F .821(to compile the k)72 259.2
R .821(ernel are k)-.1 F .822(ept in /usr/src/sys/conf, and are copied \
from there into a separate directory for)-.1 F
(each machine con\214guration.)72 271.2 Q(It is in this directory)5 E
2.5(,/)-.65 G(usr/src/sys/)-2.5 E/F3 10/Times-Italic@0 SF(mac)A(hine)
-.15 E F0 2.5(,t)C(hat the k)-2.5 E(ernel is compiled.)-.1 E F2 2.5
(5.2. Con\214guring)72 295.2 R 2.5(aS)2.5 G(ystem)-2.5 E F0 .472(The k)
97 310.8 R .472(ernel con\214guration of each PDP-11 UNIX system is des\
cribed by a set of header \214les \(one for)-.1 F .031(each de)72 322.8
R .031(vice dri)-.25 F -.15(ve)-.25 G .032(r\) and one \214le of magic \
numbers \(ioconf.c\) stored in a subdirectory of /usr/src/sys for each)
.15 F 2.645(con\214guration. Pick)72 334.8 R 2.645(an)2.645 G .145
(ame for your machine \(call it PICKLE\).)-2.645 F .144
(Then in the /usr/src/sys/conf directory)5.145 F 2.644(,c)-.65 G(re-)
-2.644 E 1.25(ate a con\214guration \214le PICKLE describing the system\
 you wish to b)72 346.8 R 1.251(uild, using the format in)-.2 F F3
(con\214g)3.751 E F0(\(8\).)1.666 E 1.262
(This is most easily done by making a cop)72 358.8 R 3.762(yo)-.1 G
3.762(ft)-3.762 G 1.261(he GENERIC \214le used for the distrib)-3.762 F
1.261(uted UNIX binary)-.2 F(.)-.65 E(Man)72 370.8 Q 2.858(yo)-.15 G
2.858(ft)-2.858 G .358(he \214elds in the con\214guration \214le corres\
pond to parameters listed in the remainder of this section,)-2.858 F
1.914(which should be scanned before proceeding.)72 382.8 R 1.914
(See especially section 5.4.3 on ho)6.914 F 4.414(wt)-.25 G 4.414(os)
-4.414 G 1.914(et up automatic)-4.414 F .301(reboots and dumps.)72 394.8
R .301(Then use)5.301 F F3(con\214g)2.801 E F0 .301
(to create a system directory ../PICKLE with `)2.801 F .302
(`con\214g PICKLE.)-.74 F 4.282 -.74('' N)-.7 H(ote).74 E .618(the dif)
72 406.8 R .617(ference between)-.25 F F3(con\214g)3.117 E F0(and)3.117
E F3(autocon\214g)3.117 E F0(.)A F3(Con\214g)5.617 E F0 .617
(sets up a directory in which the k)3.117 F .617(ernel will be com-)-.1
F .038(piled, with all of the system-speci\214c \214les used in compila\
tion, and speci\214es what de)72 418.8 R .039(vices will potentially be)
-.25 F(supported.)72 430.8 Q F3 -.2(Au)5.202 G(tocon\214g).2 E F0 .202
(adapts the running k)2.702 F .201(ernel to the hardw)-.1 F .201
(are actually present, by testing and setting the)-.1 F(re)72 442.8 Q
(gister addresses and interrupt v)-.15 E(ectors.)-.15 E F3(Con\214g)97
458.4 Q F0 1.691(does most of the w)4.191 F 1.691
(ork of con\214guration, b)-.1 F 1.691
(ut local needs will dictate some changes in the)-.2 F 1.813
(options and parameters in the header \214les.)72 470.4 R 1.812
(All of the options are listed in the ne)6.812 F 1.812(xt section.)-.15
F(Examine)6.812 E .335
(whoami.h, localopts.h, param.h, and param.c and mak)72 482.4 R 2.836
(ea)-.1 G .636 -.15(ny c)-2.836 H .336
(hanges required; it might also be wise to look).15 F .094
(through the header \214les for the de)72 494.4 R .094
(vices that you ha)-.25 F .394 -.15(ve c)-.2 H .094
(on\214gured, to check an).15 F 2.594(yo)-.15 G .094
(ptions speci\214c to the de)-2.594 F(vice)-.25 E(dri)72 506.4 Q -.15
(ve)-.25 G .857(rs that are listed there.).15 F .857(After you ha)5.857
F 1.157 -.15(ve \214)-.2 H .857(nished con\214guring a k).15 F .857
(ernel and tested it, you should install)-.1 F .037
(whoami.h in /usr/include, and cop)72 518.4 R 2.537(yl)-.1 G .037
(ocalopts.h and param.h into /usr/include/sys.)-2.537 F .037
(This will allo)5.037 F 2.536(wu)-.25 G(ser)-2.536 E(-le)-.2 E -.15(ve)
-.25 G(l).15 E(programs to stay in sync with the running k)72 530.4 Q
(ernel.)-.1 E .476(If you wish to change an)97 546 R 2.976(yd)-.15 G
.476(isk partition tables or de)-2.976 F .476(vice control status re)
-.25 F .477(gister addresses \(other than)-.15 F .528
(those con\214gured at boot time by)72 558 R F3(autocon\214g)3.027 E F0
.527(\(8\)\), edit ioconf.c and change the appropriate line)1.666 F
3.027(\(s\). The)1.666 F(\214le)3.027 E 1.053
(l.s contains the interrupt v)72 570 R 1.053(ectors and interf)-.15 F
1.053(ace code and may also be edited if necessary)-.1 F 3.553(,b)-.65 G
1.053(ut usually will)-3.753 F .347(require no change.)72 582 R .346
(Both c.c and l.s include support for all normal de)5.346 F .346
(vices according to the header \214les per)-.25 F(de)72 594 Q .906
(vice, and with autocon\214guration, the actual v)-.25 F .907
(ectors need not be speci\214ed in adv)-.15 F 3.407(ance. Finally)-.25 F
3.407(,e)-.65 G(xamine)-3.557 E .513(the Mak)72 606 R .513
(e\214le, especially the options near the top and the load rules.)-.1 F
.512(If you ha)5.513 F .812 -.15(ve p)-.2 H .512
(laced the include \214les in).15 F
(the standard directories, you shouldn')72 618 Q 2.5(th)-.18 G -2.25 -.2
(av e)-2.5 H(to mak)2.7 E 2.5(ea)-.1 G .3 -.15(ny c)-2.5 H
(hanges to the options there.).15 E .157(The follo)97 633.6 R .157
(wing sections gi)-.25 F .458 -.15(ve s)-.25 H .158
(hort descriptions of the v).15 F .158
(arious compile-time options for the k)-.25 F .158(ernel, and)-.1 F 1.15
(more e)72 645.6 R(xtensi)-.15 E 1.45 -.15(ve i)-.25 H 1.149
(nformation on the autoreboot and disk monitoring setup.).15 F 1.149
(After v)6.149 F 1.149(erifying that those fea-)-.15 F
(tures are con\214gured correctly for your system, you can proceed to k)
72 657.6 Q(ernel compilation.)-.1 E F2 2.5(5.3. Compile)72 681.6 R -.18
(Ti)2.5 G(me Options).18 E F0 1.179(The 2.9BSD k)97 697.2 R 1.179
(ernel is highly tunable.)-.1 F 1.179(This section gi)6.179 F -.15(ve)
-.25 G 3.679(sab).15 G 1.18(rief description of the man)-3.679 F 3.68
(yc)-.15 G(ompile-)-3.68 E 1.88(time options a)72 709.2 R -.25(va)-.2 G
1.88(ilable, and references to sections of the Berk).25 F(ele)-.1 E 4.38
(yP)-.15 G(DP-11)-4.38 E/F4 8/Times-Roman@0 SF(UNIX)4.38 E F0
(Programmer')4.379 E 4.379(sm)-.55 G(anual)-4.379 E .577
(where more information can be found.)72 721.2 R .577(Options f)5.577 F
.578(all into four cate)-.1 F .578(gories; the letters follo)-.15 F .578
(wing each will be)-.25 F(23 October 1995)254.395 768 Q EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-22- K)92.67 F(ernel con\214guration)-.25 E
(used to mark the options throughout the rest of this section.)72 84 Q
(Standard \(S\))72 99.6 Q .941(These include options which we consider \
necessary for reasonable system)76.94 F(performance or resilienc)199.21
111.6 Q -.65(y.)-.15 G(Desirable \(D\))72 127.2 Q 1.407
(These include man)72.51 F 3.907(yo)-.15 G 1.407
(ther features that are con)-3.907 F -.15(ve)-.4 G 1.407(nient b).15 F
1.408(ut which may be)-.2 F 1.397(turned of)199.21 139.2 R 3.897(fi)-.25
G 3.897(fs)-3.897 G 1.397(ystem size is critical.)-3.897 F 1.396
(The user programs and libraries dis-)6.397 F(trib)199.21 151.2 Q .583
(uted with 2.9BSD generally assume that these are turned on, so turning)
-.2 F .257(them of)199.21 163.2 R 2.757(fm)-.25 G .257
(ay necessitate recompiling libraries or programs.)-2.757 F .256
(These options,)5.256 F 1.234(along with those designated `)199.21 175.2
R(`standard,)-.74 E 2.714 -.74('' h)-.7 H -2.25 -.2(av e).74 H(recei)
3.935 E -.15(ve)-.25 G 3.735(dt).15 G 1.235(he most thorough)-3.735 F
(testing.)199.21 187.2 Q(Con\214guration Dependent \(C\))72 202.8 Q .973
(Options that depend on such things as the ph)10 F .972
(ysical con\214guration or speed)-.05 F(issues f)199.21 214.8 Q
(all into this cate)-.1 E(gory)-.15 E(.)-.65 E(Experimental \(X\))72
230.4 Q(Ne)56.95 E 2.888(wf)-.25 G .388(eatures that ha)-2.888 F .688
-.15(ve n)-.2 H .388(ot been well tested, options that ha).15 F .689
-.15(ve k)-.2 H(no).15 E .389(wn prob-)-.25 F .767
(lems, or ones that we do not normally use are listed as e)199.21 242.4
R 3.266(xperimental. Y)-.15 F(ou)-1.1 E 1.271(should not use such optio\
ns unless the problems listed are not considera-)199.21 254.4 R .463
(tions for your system, or you are willing to w)199.21 266.4 R .463
(atch things closely and possi-)-.1 F(bly do some deb)199.21 278.4 Q
(ugging.)-.2 E 1.005(The follo)97 294 R 1.006
(wing sections list the parameters and options used in the k)-.25 F
3.506(ernel. The)-.1 F 1.006(parameters \(section)3.506 F .15
(5.3.2\) ha)72 306 R .45 -.15(ve n)-.2 H .15(umeric v).15 F .149(alues,\
 usually table sizes, and most of them are in param.h or param.c.)-.25 F
.149(Those that are)5.149 F .374
(in param.h are typically not changed, with the possible e)72 318 R .375
(xception of)-.15 F/F1 10/Times-Bold@0 SF(MAXMEM)2.875 E F0 2.875(,a)C
2.875(st)-2.875 G .375(heir v)-2.875 F .375(alues are set by)-.25 F(con)
72 330 Q -.15(ve)-.4 G 2.713(ntion. The).15 F .213(option \215ags are e\
ither de\214ned or unde\214ned to enable or disable the corresponding f\
eature,)2.713 F .178(with the e)72 342 R .179(xception of)-.15 F F1
(UCB_NKB)2.679 E F0 2.679(,w)C .179(hich is unlik)-2.679 F .179
(ely to change.)-.1 F .179(Each option is mark)5.179 F .179
(ed with a letter to indi-)-.1 F(cate into which of the four cate)72 354
Q(gories abo)-.15 E .3 -.15(ve i)-.15 H 2.5(tf).15 G(alls.)-2.6 E F1 2.5
(5.3.1. Hard)72 378 R(war)-.15 E(e)-.18 E(EN)72 397.2 Q 45.66(ABLE34 C)
-.2 F F0 2.693(Automatically detect and support Able Computer')7.5 F
5.193(sE)-.55 G -.35(NA)-5.193 G 2.692(BLE/34\207 memory).35 F
(management board.)185.8 409.2 Q(This option implies)5 E F1(UNIB)2.5 E
(US_MAP)-.1 E F0(.)A F1 62.14(NONFP C)72 424.8 R F0 1.055(Do not compil\
e in code to automatically detect and support an FP11 \215oating)7.5 F
.048(point processor)185.8 436.8 R 5.048(.A)-.55 G .048
(lso, include a f)-5.048 F .048(ast ille)-.1 F -.05(ga)-.15 G .048
(l-instruction trap handler and modify).05 F .414
(the signal routines to mak)185.8 448.8 R 2.914(ei)-.1 G 2.914(tp)-2.914
G .414(ossible to run programs using the \215oating-point)-2.914 F
(interpreter under trace.)185.8 460.8 Q F1(NONSEP)72 476.4 Q(ARA)-.74 E
22.71(TE C)-.95 F F0
(Do not attempt to support separate I/D user programs.)7.5 E F1 -.74(PA)
72 492 S 58.99(RITY C).74 F F0
(Recognize and deal with cache and memory parity traps.)7.5 E F1 67.14
(PDP11 C)72 507.6 R F0 .855
(This should be set to the CPU type of the tar)7.5 F .855
(get machine \(23, 24, 34, 40, 44,)-.18 F 1.326
(45, 60, 70, 73, or GENERIC\).)185.8 519.6 R -1.1(Yo)6.326 G 3.826(us)
1.1 G 1.326(hould use 34 for an 11/34A, 45 for an)-3.826 F .145
(11/55, and 73 for an 11/74.)185.8 531.6 R .145
(GENERIC should be used to b)5.145 F .145(uild a system which)-.2 F
2.657(runs on a v)185.8 543.6 R 2.657(ariety of CPUs.)-.25 F 2.657(It w)
7.657 F 2.657(as used to mak)-.1 F 5.157(et)-.1 G 2.657(he distrib)
-5.157 F 2.657(uted k)-.2 F(ernels.)-.1 E F1(MENLO_K)185.8 555.6 Q -.5
(OV)-.3 G F0(and)3.342 E F1(NONSEP)2.842 E(ARA)-.74 E(TE)-.95 E F0 .342
(are de\214ned if)2.842 F F1(PDP11)2.842 E F0 .342(is 23, 24, 34, 40,)
2.842 F 7.482(or 60.)185.8 567.6 R F1(MENLO_K)12.482 E -.5(OV)-.3 G F0
7.482(is also de\214ned if)10.482 F F1(PDP11)9.982 E F0 7.483
(is GENERIC.)9.983 F F1(UNIB)185.8 579.6 Q(US_MAP)-.1 E F0
(is de\214ned if)2.5 E F1(PDP11)2.5 E F0(is 44, 70, 84, or GENERIC.)2.5
E F1 61.02(SMALL C)72 595.2 R F0(Use smaller \(by about a f)7.5 E
(actor of 8\) queues and hash tables.)-.1 E F1(UNIB)72 610.8 Q 31.13
(US_MAP C)-.1 F F0
(Compile in code to detect \(and support if present\) a UNIB)7.5 E
(US map.)-.1 E F1 2.5(5.3.2. P)72 634.8 R(arameters)-.1 E 2.5
(5.3.2.1. Global)72 658.8 R(con\214guration)2.5 E(MAXUSERS)72 674.4 Q F0
1.253(This is the maximum number of users the system should normally e)
57.69 F 1.252(xpect to)-.15 F(support.)185.8 686.4 Q/F2 10
/Times-Italic@0 SF(Con\214g)6.175 E F0 1.176
(sets this from the corresponding \214eld in the description \214le;)
3.675 F .437(the de\214nition is copied into the system Mak)185.8 698.4
R .436(e\214le rather than a header \214le.)-.1 F .436(It is)5.436 F
3.688(not intended to be a hard limit.)185.8 710.4 R 3.689
(It is used in sizing other parameters)8.688 F .32 LW 144 718.4 72 718.4
DL/F3 8/Times-Roman@0 SF<87>72 726.2 Q/F4 6/Times-Roman@0 SF(EN)4 I
(ABLE/34)-.21 E F3(is a trademark of Able Computer)2 E 2(,I)-.32 G(nc.)
-2 E F0(23 October 1995)254.395 768 Q EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-23- K)92.67 F(ernel con\214guration)-.25 E(\()185.8 84 Q/F1 10
/Times-Bold@0 SF(CMAPSIZ)A F0(,)A F1(NFILE)4.748 E F0(,)A F1(NINODE)
4.747 E F0(,)A F1(NPR)4.747 E(OC)-.3 E F0(,)A F1(NTEXT)4.747 E F0 4.747
(,a)C(nd)-4.747 E F1(SMAPSIZ)4.747 E F0 4.747(\). The)B .393
(formulae are found in)185.8 96 R/F2 10/Times-Italic@0 SF(par)2.893 E
(am.c)-.15 E F0 5.393(.R)C .393(easonable v)-5.393 F .393(alues for)-.25
F F1(MAXUSERS)2.893 E F0 .393(might be)2.893 F 3.994(3o)185.8 108 S
3.994(r4o)-3.994 G 3.994(nas)-3.994 G 1.493
(mall system \(11/34, 11/40\), 15 for an 11/44 with a reasonable)-3.994
F(amount of memory)185.8 120 Q 2.5(,a)-.65 G
(nd 15-30 for an 11/70 system.)-2.5 E F1(TIMEZONE)72 135.6 Q F0 .935
(The number of minutes westw)58.79 F .935(ard from Greenwich.)-.1 F F2
(Con\214g)5.936 E F0 .936(sets this from the)3.436 F 2.166
(corresponding \214eld in the description \214le.)185.8 147.6 R 4.665
(Examples: for)7.165 F -.15(Pa)4.665 G 2.165(ci\214c Standard).15 F
(time, 8 \(* 60\); for EST)185.8 159.6 Q 2.5(,5)-.74 G(.)-2.5 E F1
(DSTFLA)72 175.2 Q(G)-.55 E F0 .86(Should be 1 if daylight sa)67.12 F
.861(vings time applies in your locality and 0 otherwise.)-.2 F F2
(Con\214g)185.8 187.2 Q F0
(sets this from the \214eld in the description \214le.)2.5 E F1(HZ)72
202.8 Q F0(This is the line clock frequenc)99.35 E 2.5(y\()-.15 G
(e.g. 50 for a 50 Hz. clock\).)-2.5 E F1 2.5(5.3.2.2. T)72 226.8 R
(unable parameters)-.92 E(CMAPSIZ)72 242.4 Q F0 1.518
(This is the number of fragments into which memory can be brok)67.69 F
4.017(en. If)-.1 F(this)4.017 E .237(number is too lo)185.8 254.4 R
1.537 -.65(w, t)-.25 H .238(he k).65 F(ernel')-.1 E 2.738(sm)-.55 G .238
(emory allocator may be forced to thro)-2.738 F 2.738(wa)-.25 G -.1(wa)
-2.888 G(y).1 E 2.547(as)185.8 266.4 S .047(ection of memory being free\
d because there is no room in the map to hold it.)-2.547 F .849
(In this case, a diagnostic message is printed on the console.)185.8
278.4 R .85(Normally scaled)5.85 F(automatically according to)185.8
290.4 Q F1(MAXUSERS)2.5 E F0(.)A F1(MAXMEM)72 306 Q F0 .093
(This sets an administrati)64.37 F .393 -.15(ve l)-.25 H .092
(imit on the amount of memory a process may ha).15 F -.15(ve)-.2 G(.).15
E .983(It is speci\214ed as \()185.8 318 R F2(nn)A F0 .984
(*16\), where the \214rst number is the desired v)B .984(alue in kilo-)
-.25 F .013(bytes \(the product is in clicks\).)185.8 330 R .012
(This number is usually considerably lo)5.013 F .012(wer than)-.25 F
1.362(the theoretical maximum \(304 Kb for a nonseparate I/D CPU, 464 K\
b for a)185.8 342 R .793(separate I/D CPU, assuming)185.8 354 R F1
(MENLO_O)3.292 E(VL)-.5 E(Y)-.92 E F0 .792(is de\214ned\).)3.292 F .792
(Normal v)5.792 F .792(alues are)-.25 F .131(128 Kb if there is no UNIB)
185.8 366 R .132(US map \(maximum ph)-.1 F .132
(ysical memory 248 Kb\), oth-)-.05 F(erwise 200 Kb)185.8 378 Q(.)-.4 E
F1(NB)72 393.6 Q(UF)-.1 E F0 .407(This sets the size of the system b)
86.68 F(uf)-.2 E .407(fer cache.)-.25 F .407
(It can be no greater than 248.)5.407 F(If)5.406 E F1(UCB_NKB)185.8
405.6 Q F0 1.234(is de\214ned, these are 1024 byte b)3.734 F(uf)-.2 E
3.735(fers. Otherwise,)-.25 F(the)3.735 E 3.735(ya)-.15 G 1.235(re 512)
-3.735 F .341(byte b)185.8 417.6 R(uf)-.2 E 2.841(fers. The)-.25 F -.2
(bu)2.841 G -.25(ff).2 G .341(ers are not in k).25 F .341
(ernel data space, b)-.1 F .34(ut are allocated at boot)-.2 F 2.572
(time. Normally)185.8 429.6 R .072(scaled automatically according to)
2.572 F F1(MAXUSERS)2.572 E F0 2.572(,b)C .073(ut should be)-2.772 F
-.15(ex)185.8 441.6 S .741
(amined in the light of the disk load and amount of memory).15 F 5.74
(.F)-.65 G .74(or a small to)-5.89 F 1.484(medium system, around 20 b)
185.8 453.6 R(uf)-.2 E 1.485(fers should be suf)-.25 F 1.485
(\214cient; a lar)-.25 F 1.485(ge system with)-.18 F(man)185.8 465.6 Q
2.5(yd)-.15 G(isks might use 40 to 60 or more.)-2.5 E F1(NCALL)72 481.2
Q F0 1.289(This is the maximum number of simultaneous callouts \(k)78.8
F 1.289(ernel e)-.1 F -.15(ve)-.25 G 1.289(nt timers\).).15 F 1.43
(Callouts are used to time e)185.8 493.2 R -.15(ve)-.25 G 1.43
(nts such as tab or carriage return delays.).15 F(Nor)6.43 E(-)-.2 E
(mally scaled automatically according to)185.8 505.2 Q F1(MAXUSERS)2.5 E
F0(.)A F1(NCLIST)72 520.8 Q F0 .805
(This is the maximum number of clist se)76.57 F 3.305(gments. Clists)
-.15 F .805(are small b)3.305 F(uf)-.2 E .805(fer areas,)-.25 F .468
(used to hold tty characters while the)185.8 532.8 R 2.968(ya)-.15 G
.468(re being processed.)-2.968 F(If)5.469 E F1(UCB_CLIST)2.969 E F0(is)
2.969 E 1.044(de\214ned, the)185.8 544.8 R 3.544(ya)-.15 G 1.044
(re not in k)-3.544 F 1.043
(ernel data space, and this number must be less than)-.1 F 1.095
(512 if you are using 14 character clists \(the def)185.8 556.8 R 1.095
(ault\), or 256 for 30 character)-.1 F 2.5(clists. \(The)185.8 568.8 R
(clist size,)2.5 E F1(CBSIZE)2.5 E F0 2.5(,i)C 2.5(si)-2.5 G 2.5(np)-2.5
G(aram.h.\))-2.5 E F1(NDISK)72 584.4 Q F0 .87(This is the maximum numbe\
r of disks and controllers for which I/O statistics)82.13 F 1.023
(can be g)185.8 596.4 R 3.523(athered. See)-.05 F F2(iostat)3.523 E F0
3.523(\(8\). Care)1.666 F 1.023(must be tak)3.523 F 1.024
(en that this is lar)-.1 F 1.024(ge enough)-.18 F .809
(for the parameters for each disk \()185.8 608.4 R F2(XX)A F0 .808
(_DKN and number of disks; see the sec-).833 F
(tion on disk monitoring\).)185.8 620.4 Q F1(NFILE)72 636 Q F0 1.063
(This sets the maximum number of open \214les.)83.24 F 1.063
(An entry is made in this table)6.063 F 1.176(each time a \214le is `)
185.8 648 R(`opened')-.74 E 3.675('\()-.74 G(see)-3.675 E F2(cr)3.675 E
(eat)-.37 E F0(\(2\)\),)1.666 E F2(open)3.675 E F0 3.675
(\(2\)\). Processes)1.666 F 1.175(share these)3.675 F 1.352
(table entries across forks \(see)185.8 660 R F2(fork)3.852 E F0(\(2\),)
1.666 E F2(vfork)3.852 E F0 3.852(\(2\)\). Normally)1.666 F 1.352
(scaled automati-)3.852 F(cally according to)185.8 672 Q F1(MAXUSERS)2.5
E F0(.)A F1(NINODE)72 687.6 Q F0 .759
(This sets the size of the inode table.)73.8 F .759
(There is one entry in the inode table for)5.759 F .34
(each open \214le or de)185.8 699.6 R .341(vice, current w)-.25 F .341
(orking or root directory)-.1 F 2.841(,s)-.65 G -2.25 -.2(av e)-2.841 H
2.841(dt).2 G -.15(ex)-2.841 G 2.841(ts).15 G -.15(eg)-2.841 G(ment,).15
E(acti)185.8 711.6 Q 2.024 -.15(ve q)-.25 H 1.724(uota node \(if).15 F
F1(UCB_Q)4.224 E(UO)-.1 E -.9(TA)-.4 G(S).9 E F0 1.724
(is de\214ned\), and mounted \214le system.)4.224 F
(Normally scaled automatically according to)185.8 723.6 Q F1(MAXUSERS)
2.5 E F0(.)A(23 October 1995)254.395 768 Q EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-24- K)92.67 F(ernel con\214guration)-.25 E/F1 10/Times-Bold@0 SF
(NMOUNT)72 84 Q F0 1.074
(This indicates the maximum number of mountable \214le systems.)68.25 F
1.075(It should be)6.075 F(lar)185.8 96 Q(ge enough that you don')-.18 E
2.5(tr)-.18 G(un out at incon)-2.5 E -.15(ve)-.4 G(nient times.).15 E F1
(NPR)72 111.6 Q(OC)-.3 E F0 .031(This sets the maximum number of acti)
78.55 F .331 -.15(ve p)-.25 H 2.531(rocesses. Normally).15 F .031
(scaled automati-)2.531 F(cally according to)185.8 123.6 Q F1(MAXUSERS)
2.5 E F0(.)A F1(NTEXT)72 139.2 Q F0 .102
(This sets the maximum number of acti)79.35 F .403 -.15(ve s)-.25 H .103
(hared te).15 F .103(xt images \(including inacti)-.15 F -.15(ve)-.25 G
(sa)185.8 151.2 Q -.15(ve)-.2 G 10.08(dt).15 G -.15(ex)-10.08 G 10.08
(ts).15 G -.15(eg)-10.08 G 10.08(ments\). Normally).15 F 7.58
(scaled automatically according to)10.08 F F1(MAXUSERS)185.8 163.2 Q F0
(.)A F1(SMAPSIZ)72 178.8 Q F0 .854(This is the analogy of)69.35 F F1
(CMAPSIZ)3.354 E F0 .855(for secondary memory \(sw)3.355 F .855
(ap space\).)-.1 F(Nor)5.855 E(-)-.2 E
(mally scaled automatically according to)185.8 190.8 Q F1(MAXUSERS)2.5 E
F0(.)A F1 2.5(5.3.2.3. P)72 214.8 R(arameters that ar)-.1 E 2.5(es)-.18
G(et by con)-2.5 E -.1(ve)-.4 G(ntion).1 E(CANBSIZ)72 230.4 Q F0 .374
(This sets the maximum size of a terminal line input b)69.35 F(uf)-.2 E
(fer)-.25 E 5.374(.I)-.55 G 2.874(fu)-5.374 G .374(sing the old tty)
-2.874 F .088(line discipline, e)185.8 242.4 R .088
(xceeding this bound causes)-.15 F/F2 10/Times-Italic@0 SF(all)2.588 E
F0 .089(characters to be lost. In the ne)2.588 F(w)-.25 E 1.099(tty lin\
e discipline, no more characters are accepted until there is room.)185.8
254.4 R(Nor)6.099 E(-)-.2 E(mally 256.)185.8 266.4 Q F1(MAXSLP)72 282 Q
F0 .192(This is the maximum time a process can sleep before it is no lo\
nger considered)71.58 F 2.859(a`)185.8 294 S .359(`short term sleeper)
-3.599 F -.7(.')-.55 G 5.359('I)-.04 G 2.858(ti)-5.359 G 2.858(su)-2.858
G .358(sed only if)-2.858 F F1(UCB_METER)2.858 E F0 .358(is de\214ned.)
2.858 F(Normally)5.358 E(20.)185.8 306 Q F1(MAXUPRC)72 321.6 Q F0 1.05
(This sets the maximum number of processes each user is allo)62.15 F
3.55(wed. Normally)-.25 F(20, b)185.8 333.6 Q(ut can be lo)-.2 E
(wer on hea)-.25 E(vily loaded systems.)-.2 E F1(MSGB)72 349.2 Q(UFS)-.1
E F0 .386(This is the number of characters sa)65.56 F -.15(ve)-.2 G
2.885(df).15 G .385(rom system error messages.)-2.885 F .385
(It is actu-)5.385 F .249(ally the size of circular b)185.8 361.2 R(uf)
-.2 E .249(fer into which messages are temporarily sa)-.25 F -.15(ve)-.2
G 2.75(d. It).15 F(is)2.75 E -.15(ex)185.8 373.2 S .369(pected that).15
F F2(dmesg)2.869 E F0 .368(\(8\) will be run by)1.666 F F2(cr)2.868 E
(on)-.45 E F0 .368(\(8\) frequently enough that no mes-)1.666 F 1.176
(sage is o)185.8 385.2 R -.15(ve)-.15 G 1.177
(rwritten before it can be sa).15 F -.15(ve)-.2 G 3.677(di).15 G 3.677
(nt)-3.677 G 1.177(he system error log.)-3.677 F(Normally)6.177 E(128.)
185.8 397.2 Q F1(NCARGS)72 412.8 Q F0 1.506
(This is the maximum size of an)71.58 F F2 -.2(ex)4.005 G(ec).2 E F0
1.505(\(2\) ar)1.666 F 1.505(gument list \(in bytes\).)-.18 F(Normally)
6.505 E(5120.)185.8 424.8 Q F1(NOFILE)72 440.4 Q F0 1.465
(This sets the maximum number of open \214les each process is allo)75.46
F 3.965(wed. Nor)-.25 F(-)-.2 E(mally 20.)185.8 452.4 Q F1(SINCR)72 468
Q F0 .37(The increment \(in clicks\) by which a process')82.69 F 2.87
(ss)-.55 G .37(tack is e)-2.87 F .37(xpanded when a stack)-.15 F -.15
(ove)185.8 480 S(r\215o).15 E 2.5(ws)-.25 G -.15(eg)-2.5 G(mentation f)
.15 E(ault occurs.)-.1 E(Normally 20.)5 E F1(SSIZE)72 495.6 Q F0 .8
(The initial size \(in clicks\) of a process')85.45 F 3.301(ss)-.55 G
3.301(tack. This)-3.301 F .801(should be made lar)3.301 F .801(ger if)
-.18 F(commonly run processes ha)185.8 507.6 Q .3 -.15(ve l)-.2 H(ar).15
E(ge data areas on their stacks.)-.18 E(Normally 20.)5 E F1 2.5
(5.3.3. General)72 531.6 R(Options)2.5 E -.55(AC)72 550.8 S 68.8(CT D)
.55 F F0 .173(Enable code which \(optionally\) writes an accounting rec\
ord for each process at)7.5 F -.15(ex)185.8 562.8 S 2.5(it. See).15 F F2
(lastcomm)2.5 E F0(\(1\),)1.666 E F2(sa)2.5 E F0(\(1\),)1.666 E F2(acct)
2.5 E F0(\(2\),)1.666 E F2(accton)2.5 E F0(\(8\).)1.666 E F1(CGL_R)72
578.4 Q 50.31(TP C)-.4 F F0 .058
(Support a system call which marks a process as a `)7.5 F .059
(`real time')-.74 F 2.559('p)-.74 G .059(rocess, gi)-2.559 F .059
(ving it)-.25 F(higher priority than all others.)185.8 590.4 Q(See)5 E
F2(rtp)2.5 E F0(\(2\).)1.666 E F1(DIA)72 606 Q 32.68(GNOSTIC C)-.55 F F0
-.45(Tu)7.5 G 1.795(rn on more stringent error checking.).45 F 1.795
(This enables v)6.795 F 1.795(arious k)-.25 F 1.795(ernel consis-)-.1 F
(tenc)185.8 618 Q 2.675(yc)-.15 G .175(hecks which are considered e)
-2.675 F .175(xtremely unlik)-.15 F .175(ely to f)-.1 F 2.675(ail. It)
-.1 F .175(is useful when)2.675 F(the system is ine)185.8 630 Q
(xplicably crashing.)-.15 E F1 44.91(INSECURE C)72 645.6 R F0 .74
(Do not turn of)7.5 F 3.24(ft)-.25 G .739(he set-user)-3.24 F .739
(-id or set-group-id permissions on a \214le when it is)-.2 F(written.)
185.8 657.6 Q F1 34.91(MENLO_JCL D)72 673.2 R F0 1.504(Support reliable\
 signal handling and enhanced process control features.)7.5 F(See)6.505
E F2(sigsys)185.8 685.2 Q F0(\(2j\),)1.666 E F2(jobs)2.5 E F0(\(3j\),)
1.666 E F2(sigset)2.5 E F0 2.5(\(3j\). This)1.666 F(option requires)2.5
E F1(UCB_NTTY)2.5 E F0(.)A F1(MENLO_K)72 700.8 Q 32.82 -.5(OV C)-.3 H F0
1.325(Support automatic k)8 F 1.325(ernel te)-.1 F 1.325(xt o)-.15 F
-.15(ve)-.15 G 3.825(rlays. This).15 F 1.325
(is required for nonseparate I/D)3.825 F .547
(systems and is de\214ned automatically if)185.8 712.8 R F1(PDP11)3.047
E F0 .547(is de\214ned to be 23, 24, 34, 40,)3.047 F(60, or GENERIC.)
185.8 724.8 Q(23 October 1995)254.395 768 Q EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-25- K)92.67 F(ernel con\214guration)-.25 E/F1 10/Times-Bold@0 SF
(MENLO_O)72 84 Q(VL)-.5 E 28.83(YD)-.92 G F0 1.003
(Support automatic user te)-21.33 F 1.003(xt o)-.15 F -.15(ve)-.15 G
3.503(rlays. This).15 F 1.002(is required in order to run certain)3.503
F .543(programs \(e.g.)185.8 96 R/F2 10/Times-Italic@0 SF -.2(ex)3.043 G
F0 -.15(ve)3.243 G .543(rsion 3.7 or).15 F 3.043(,o)-.4 G 3.043(nn)
-3.043 G .544(onseparate I/D systems, the process con-)-3.043 F
(trol C shell\).)185.8 108 Q F1 54.35(OLDTTY C)72 123.6 R F0 .099
(Support the standard V7 tty line discipline \(see)7.5 F F2(tty)2.599 E
F0 2.599(\(4\)\). This)1.666 F .098(must be de\214ned if)2.599 F F1
(UCB_NTTY)185.8 135.6 Q F0(is not de\214ned.)2.5 E F1(UCB_A)72 151.2 Q
(UT)-.5 E(OBOO)-.18 E 16.26(TD)-.4 G F0(Allo)-8.76 E 3.665(ws the k)-.25
F 3.665(ernel to automatically reboot itself, either on demand \(see)-.1
F F2 -.37(re)185.8 163.2 S(boot).37 E F0 .009(\(2\) and)1.666 F F2 -.37
(re)2.509 G(boot).37 E F0 .009(\(8\)\) or after)1.666 F F2(panic)2.509 E
F0 2.509(s. This).833 F .008(option requires a little planning;)2.509 F
(see section 5.4.3.)185.8 175.2 Q F1(This option r)5 E(equir)-.18 E
(es UCB_FSFIX.)-.18 E 40.46(UCB_CLIST C)72 190.8 R F0 .225
(Map clists out of k)7.5 F .226(ernel virtual data space.)-.1 F .226
(If there is suf)5.226 F .226(\214cient space in k)-.25 F(ernel)-.1 E
.077
(data for an adequate number of clists, this option should not used.)
185.8 202.8 R .076(Mostly used)5.077 F(on lar)185.8 214.8 Q
(ge systems, or on systems where k)-.18 E(ernel data space is tight.)-.1
E F1 20.47(UCB_GRPMAST C)72 230.4 R F0(Allo)7.5 E 2.838(wo)-.25 G .338
(ne user to be designated a `)-2.838 F .338(`group super)-.74 F(-user)
-.2 E -.7(,')-.4 G 2.839('a)-.04 G .339(ble to perform v)-2.839 F
(arious)-.25 E .715(functions pre)185.8 242.4 R .714
(viously restricted to root or the \214le')-.25 F 3.214(so)-.55 G .714
(wner alone.)-3.464 F .714(In the k)5.714 F(ernel,)-.1 E .444(users who\
se group and user ids are the same are granted the same permissions)
185.8 254.4 R 1.437
(with respect to \214les in the same group as is the o)185.8 266.4 R
(wner)-.25 E 6.436(.U)-.55 G 1.436(ser le)-6.436 F -.15(ve)-.25 G 3.936
(ls).15 G(oftw)-3.936 E(are)-.1 E 2.014
(implements other permissions, allo)185.8 278.4 R 2.014
(wing the group super)-.25 F 2.015(-user to change the)-.2 F(passw)185.8
290.4 Q 1.389(ord of a user in the same group.)-.1 F 1.388
(The most common use for this is in)6.389 F(allo)185.8 302.4 Q
(wing teaching assistants to o)-.25 E -.15(ve)-.15 G(rsee students.).15
E F1 49.91(UCB_NET X)72 318 R F0 1.89
(Enable code implementing a PDP-11 port of Berk)7.5 F(ele)-.1 E(y')-.15
E 4.39(sv)-.55 G 1.89(ersion of TCP/IP)-4.54 F(.)-1.11 E(The code is e)
185.8 330 Q(xperimental and the implementation is incomplete.)-.15 E F1
42.69(UCB_NTTY S)72 345.6 R F0 .709(Support the Berk)9.16 F(ele)-.1 E
3.209(yt)-.15 G .709(ty line discipline \(see)-3.209 F F2(tty)3.209 E F0
.709(\(4\) and)1.666 F F2(ne)3.209 E(wtty)-.15 E F0 3.209(\(4\)\). This)
1.666 F(must)3.208 E(be de\214ned if)185.8 357.6 Q F1(OLDTTY)2.5 E F0
(is not de\214ned.)2.5 E F1 43.25(UCB_PGRP C)72 373.2 R F0 1.205
(Fix a b)7.5 F 1.205(ug in the w)-.2 F 1.205
(ay standard V7 counts a user')-.1 F 3.705(sp)-.55 G 3.705
(rocesses. This)-3.705 F 1.205(should be)3.705 F .142(enabled only if)
185.8 385.2 R F1(MENLO_JCL)2.642 E F0 .142
(is unde\214ned, since the notion of process groups)2.642 F 1.081
(is completely dif)185.8 397.2 R 1.081(ferent in the tw)-.25 F 3.581(oc)
-.1 G 3.581(ases. If)-3.581 F F1(UCB_PGRP)3.581 E F0(and)3.581 E F1
(MENLO_JCL)3.581 E F0 .142
(are both de\214ned, the limit on the number of processes allo)185.8
409.2 R .142(wed per user \()-.25 F F1(MAX-)A(UPRC)185.8 421.2 Q F0 2.5
(\)i)C 2.5(se)-2.5 G -.25(ff)-2.5 G(ecti).25 E -.15(ve)-.25 G
(ly eliminated.).15 E F1 33.8(UCB_SCRIPT X)72 436.8 R F0(Allo)7.5 E
2.693(ws)-.25 G .193(cripts to specify their o)-2.693 F .194
(wn interpreters.)-.25 F -.15(Fo)5.194 G 2.694(re).15 G .194(xample, e)
-2.844 F -.15(xe)-.15 G .194(cuting a script).15 F(be)185.8 448.8 Q
2.364(ginning with `)-.15 F 2.364(`#! /bin/sh')-.74 F 4.864('c)-.74 G
2.364(auses /bin/sh to be e)-4.864 F -.15(xe)-.15 G 2.363
(cuted to interpret the).15 F 2.82(script. This)185.8 460.8 R .32
(is not the same as the f)2.82 F .32
(acility on 4.1BSD VMUNIX, and probably)-.1 F(needs a little w)185.8
472.8 Q 2.5(ork. The)-.1 F(Bourne shell, /bin/sh, w)2.5 E
(ould need modi\214cation also.)-.1 E F1 26.03(UCB_UPRINTF D)72 488.4 R
F0 .786(Write error messages directly on a user')7.5 F 3.286(st)-.55 G
.786(erminal when the user causes a \214le)-3.286 F(system to run out o\
f inodes or free blocks, or on certain mag tape errors.)185.8 500.4 Q F1
19.92(UCB_VHANGUP D)72 516 R F0 .118(Support a system call which allo)
7.5 F(ws)-.25 E F2(init)2.619 E F0 .119(\(8\) to re)1.666 F -.2(vo)-.25
G .319 -.1(ke a).2 H .119(ccess to a user').1 F 2.619(st)-.55 G(erminal)
-2.619 E .901(when the user has logged out.)185.8 528 R .901
(This is used to gi)5.901 F 1.2 -.15(ve n)-.25 H 1.4 -.25(ew u).15 H .9
(sers `).25 F(`clean')-.74 E 3.4('t)-.74 G(ermi-)-3.4 E(nals on login.)
185.8 540 Q F1(VIR)72 555.6 Q 24.66(US_VFORK D)-.3 F F0 1.6
(Implement a much more ef)7.5 F 1.601(\214cient v)-.25 F 1.601
(ersion of fork in which parent and child)-.15 F .405
(share resources until the child)185.8 567.6 R F2 -.2(ex)2.905 G(ec).2 E
F0 2.905(s. See).833 F F2(vfork)2.905 E F0 2.905(\(2\). Note)1.666 F
.405(that this changes the)2.905 F -.1(wa)185.8 579.6 S 3.447(yp).1 G
.947(rocesses appear in memory)-3.447 F 5.947(.I)-.65 G 3.447(tm)-5.947
G(ak)-3.447 E .947(es sw)-.1 F .947(ap operations slo)-.1 F(wer)-.25 E
3.448(,a)-.4 G .948(nd thus)-3.448 F
(might not be desirable on systems which sw)185.8 591.6 Q(ap hea)-.1 E
(vily)-.2 E(.)-.65 E F1 2.5(5.3.4. File)72 615.6 R(system)2.5 E(INTRL)72
634.8 Q 51.94(VE X)-.92 F F0(Allo)7.5 E(ws interlea)-.25 E
(ving of \214le systems across de)-.2 E 2.5(vices. See)-.25 F F2
(intrlve)2.5 E F0(\(4\).)1.666 E F1 46.58(MPX_FILS X)72 650.4 R F0
(Include code for the V7 multiple)7.5 E -.15(xe)-.15 G 3.6 -.55(r. T).15
H(he code is b).55 E(uggy and unsupported.)-.2 E F1 41.58(UCB_FSFIX S)72
666 R F0 .153
(Ensure that \214le system updates are done in the correct order)9.16 F
2.653(,t)-.4 G .153(hus making dam-)-2.653 F 3.053
(aged \214le systems less lik)185.8 678 R 3.054
(ely and more easily repairable.)-.1 F F1 3.054(This option is)8.054 F
-.18(re)185.8 690 S(quir).18 E 2.712(ed by UCB_A)-.18 F(UT)-.5 E(OBOO)
-.18 E 5.212(T\()-.4 G(actually)-5.212 E 5.212(,b)-.55 G 5.212(yt)-5.212
G 2.711(he \255p option of)-5.212 F F2(fsc)5.211 E(k)-.2 E F1(\(8\),)
1.666 E(which mak)185.8 702 Q
(es certain assumptions about the state of the \214le systems\).)-.1 E
17.13(UCB_SYMLINKS C)72 717.6 R F0 1.162(Add a ne)7.5 F 3.662(wi)-.25 G
1.162(node type to the \214le system:)-3.662 F 1.163(the symbolic link.)
6.162 F 1.163(Symbolic links)6.163 F 3.251
(cause string substitution during the pathname interpretation process.)
185.8 729.6 R(See)8.251 E(23 October 1995)254.395 768 Q EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-26- K)92.67 F(ernel con\214guration)-.25 E/F1 10/Times-Italic@0 SF(ln)
185.8 84 Q F0(\(1\),)1.666 E F1 -.37(re)2.5 G(adlink).37 E F0
(\(2\), and)1.666 E F1(symlink)2.5 E F0(\(2\).)1.666 E/F2 10
/Times-Bold@0 SF 48.8(UCB_NKB S)72 99.6 R F0 .033
(Use \214le system blocks of)9.16 F F1(N)2.534 E F0 .034
(KB, normally 1.)2.534 F .034(Changes the fundamental \214le sys-)5.034
F 2.167(tem unit from 512 byte blocks to 1024 byte blocks \(with a corr\
esponding)185.8 111.6 R .825(reduction in the size of in-core inodes\).)
185.8 123.6 R .826(This increases \214le system bandwidth)5.826 F 1.177
(by 100%.)185.8 135.6 R 1.177(Note that)6.177 F F2(UCB_NKB)3.677 E F0
1.176(is not boolean, b)3.677 F 1.176(ut is de\214ned as 1 for 1KB)-.2 F
2.563(blocks. Other)185.8 147.6 R -.25(va)2.563 G .063
(lues are possible, b).25 F .063
(ut require additional macro de\214nitions.)-.2 F(All)5.063 E 1.284
(\214le systems w)185.8 159.6 R 1.283(ould ha)-.1 F 1.583 -.15(ve t)-.2
H 3.783(ob).15 G 3.783(er)-3.783 G 1.283(emade with ne)-3.783 F 3.783
(wv)-.25 G 1.283(ersions of)-3.933 F F1(mkfs)3.783 E F0(and)3.783 E F1
-.37(re)3.783 G(stor).37 E F0(.)A F2(All supplied softwar)185.8 171.6 Q
2.5(ee)-.18 G(xpects UCB_NKB to be de\214ned and equal to 1.)-2.5 E
(UCB_Q)72 187.2 Q(UO)-.1 E -.9(TA)-.4 G 32.14(SC).9 G F0 1.713(Support \
a simplistic \(and easily defeated\) dynamic disk quota scheme.)-24.64 F
(See)6.713 E F1(ls)185.8 199.2 Q F0(\(1\),)1.666 E F1(pq)2.5 E F0
(\(1\),)1.666 E F1(quota)2.5 E F0(\(2\), and)1.666 E F1(setquota)2.5 E
F0(\(8\).)1.666 E F2 2.5(5.3.5. P)72 223.2 R(erf)-.2 E
(ormance Monitoring)-.25 E 47.69(DISKMON C)72 242.4 R F0 -.25(Ke)7.5 G
2.212(ep statistics on the b).25 F(uf)-.2 E 2.212(fer cache.)-.25 F(The)
7.212 E 4.712(ya)-.15 G 2.211(re printed by the \255)-4.712 F F1(b)A F0
2.211(option of)4.711 F F1(iostat)185.8 254.4 Q F0(\(8\).)1.666 E F2
(UCB_LO)72 270 Q 41.98(AD D)-.4 F F0 1.29(Enable code that computes a T)
7.5 F(ene)-.7 E 3.791(xs)-.15 G 1.291(tyle load a)-3.791 F -.15(ve)-.2 G
3.791(rage. See).15 F F1(la)3.791 E F0(\(1\),)1.666 E F1(gldav)3.791 E
F0(\(2\),)1.666 E F1(loadav)185.8 282 Q F0(\(3\).)1.666 E F2 33.8
(UCB_METER D)72 297.6 R F0 -.25(Ke)7.5 G 1.498(ep statistics on memory)
.25 F 3.998(,q)-.65 G 1.498
(ueue sizes, process states, interrupts, traps, and)-3.998 F(man)185.8
309.6 Q 4.524(yo)-.15 G 2.024(ther \(possibly useful\) things.)-4.524 F
(See)7.024 E F1(vmstat)4.524 E F0 2.024(\(1\) and section 7.5 of this)
1.666 F(paper)185.8 321.6 Q(.)-.55 E F2 2.5(5.3.6. De)72 345.6 R
(vice Dri)-.15 E -.1(ve)-.1 G(rs).1 E F0 .152(In this section, an)97
361.2 R F2(XX_)2.652 E F0 .152
(pre\214x refers to the UNIX name of the de)2.652 F .151
(vice for which the option is intended)-.25 F .206(to be enabled.)72
373.2 R -.15(Fo)5.206 G 2.706(re).15 G(xample,)-2.856 E F2(TM_IOCTL)
2.706 E F0 .206(refers to mag tape)2.706 F F1(ioctl)2.707 E F0 2.707(si)
.833 G 2.707(nt)-2.707 G 2.707(m.c. Most)-2.707 F .207
(of these de\214nitions go in)2.707 F 1.883(the header \214le)72 385.2 R
F1(xx.h)4.383 E F0 1.882(for the de)4.383 F 4.382(vice. The)-.25 F -.15
(ex)4.382 G 1.882(ceptions are).15 F F2 -.3(BA)4.382 G(DSECT).3 E F0(,)A
F2(MAXB)4.382 E(AD)-.3 E F0(,)A F2(UCB_DEVERR)4.382 E F0 4.382(,a)C(nd)
-4.382 E F2(UCB_ECC)72 397.2 Q F0(.)A F2 -.3(BA)72 412.8 S 49.65
(DSECT C).3 F F0 1.237(Enable bad-sector forw)7.5 F 3.737
(arding. Sectors)-.1 F(mark)3.737 E 1.237
(ed bad by the disk formatter are)-.1 F 1.626
(transparently replaced when read or written.)185.8 424.8 R(Currently)
6.626 E 4.126(,o)-.65 G 1.626(nly the hk dri)-4.126 F -.15(ve)-.25 G(r')
.15 E(s)-.55 E(code has been thoroughly tested.)185.8 436.8 Q F2 66.03
(DDMT C)72 452.4 R F0 .601(Currently used only by the tm dri)7.5 F -.15
(ve)-.25 G 4.201 -.55(r. S).15 H .602(hould be de\214ned if you ha).55 F
.902 -.15(ve a T)-.2 H(M-11).15 E .318
(emulator which supports 800/1600 bpi dual density dri)185.8 464.4 R
-.15(ve)-.25 G 2.818(sw).15 G .318(ith softw)-2.818 F .318(are selec-)
-.1 F(tion.)185.8 476.4 Q F2 47.7(DZ_PDMA C)72 492 R F0
(Con\214gure the dz dri)7.5 E -.15(ve)-.25 G 2.5(rt).15 G 2.5(od)-2.5 G
2.5(op)-2.5 G(seudo-dma.)-2.5 E F2(MAXB)72 507.6 Q 51.89(AD C)-.3 F F0
.261(This sets the maximum number of replacement sectors a)7.5 F -.25
(va)-.2 G .262(ilable on a disk sup-).25 F .609
(porting DEC standard bad sector forw)185.8 519.6 R 3.109(arding. It)-.1
F .608(can be no lar)3.108 F .608(ger than 126 b)-.18 F(ut)-.2 E 1.352
(may be smaller to reduce the size of k)185.8 531.6 R 1.352
(ernel data space.)-.1 F 1.353(See the include \214le)6.352 F(/)185.8
543.6 Q F1(usr)A F0(/)A F1(include)A F0(/)A F1(sys)A F0(/)A F1(dkbad.h)A
F0(.)A F2(TEXAS_A)72 559.2 Q(UT)-.5 E(OB)-.18 E -.5(AU)-.3 G 5(DC).5 G
F0 1.29(Support an)2.5 F F1(ioctl)3.79 E F0 1.289
(which defeats detection of framing or parity errors.)3.789 F 1.289
(This is)6.289 F 1.221(used by)185.8 571.2 R F1 -.1(ge)3.721 G(tty).1 E
F0 1.222(\(8\) to accurately guess a line')1.666 F 3.722(ss)-.55 G 1.222
(peed when a carriage return is)-3.722 F(typed.)185.8 583.2 Q F2(UCB_DB)
72 598.8 Q 43.35(UF C)-.1 F F0 .911(If de\214ned for a gi)7.5 F -.15(ve)
-.25 G 3.411(nd).15 G .911(isk dri)-3.411 F -.15(ve)-.25 G 1.711 -.4
(r, t).15 H .911(he dri).4 F -.15(ve)-.25 G 3.411(rw).15 G .91
(ill use one ra)-3.411 F 3.41(wb)-.15 G(uf)-3.61 E .91(fer per dri)-.25
F -.15(ve)-.25 G 1.437(rather than one per controller)185.8 610.8 R
6.437(.T)-.55 G 1.437(his increases throughput for controllers that)
-6.437 F 2.755(are capable of seeking on one dri)185.8 622.8 R 3.055
-.15(ve w)-.25 H 2.755(hile simultaneously transferring on).15 F
(another)185.8 634.8 Q(.)-.55 E F2 28.25(UCB_DEVERR D)72 650.4 R F0
(Print de)7.5 E
(vice error messages in a human readable \(mnemonic\) format.)-.25 E F2
49.36(UCB_ECC C)72 666 R F0
(Recognize and correct soft ecc disk transfer errors.)7.5 E F2(VP_TW)72
681.6 Q 11.12(OSCOMPL C)-.1 F F0 1.66(Used in the V)7.5 F 1.661
(ersatec \(vp\) dri)-1.11 F -.15(ve)-.25 G 5.261 -.55(r. I).15 H 4.161
(fd).55 G 1.661(e\214ned, the byte count re)-4.161 F 1.661
(gister will be)-.15 F .441(loaded with the tw)185.8 693.6 R .441
(os-complement of the byte count, rather than the byte count)-.1 F 3.882
(itself. Check)185.8 705.6 R 1.382
(your controller manual to see whether your controller requires)3.882 F
(this.)185.8 717.6 Q(23 October 1995)254.395 768 Q EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-27- K)92.67 F(ernel con\214guration)-.25 E/F1 10/Times-Bold@0 SF 44.91
(XX_IOCTL D)72 84 R F0 -.45(Tu)7.5 G 1.973(rn on optional).45 F/F2 10
/Times-Italic@0 SF(ioctl)4.473 E F0 4.472(sf).833 G 1.972
(or the corresponding de)-4.472 F 4.472(vice. See)-.25 F 1.972
(section 4 of the)4.472 F(Berk)185.8 96 Q(ele)-.1 E 2.5(yP)-.15 G(DP-11)
-2.5 E/F3 8/Times-Roman@0 SF(UNIX)2.5 E F0(Programmer')2.5 E 2.5(sm)-.55
G(anual for details.)-2.5 E F1 53.24(XX_SILO D)72 111.6 R F0 .417
(Used in the dh and dz dri)7.5 F -.15(ve)-.25 G 2.917(rs. If).15 F .417
(de\214ned, the dri)2.917 F -.15(ve)-.25 G .418
(rs will use silo interrupts to).15 F -.2(avo)185.8 123.6 S
(id taking an interrupt for each character recei).2 E -.15(ve)-.25 G(d.)
.15 E F1 29.36(XX_SOFTCAR C)72 139.2 R F0 .89
(Currently used only by the dh and dz dri)7.5 F -.15(ve)-.25 G 3.39
(rs. Should).15 F .89(be de\214ned if not all of)3.39 F 1.519
(the lines on a DH-11 or DZ-11 use modem control.)185.8 151.2 R 1.52
(It allo)6.519 F 1.52(ws one to select)-.25 F .869
(lines on which modem control will be disabled.)185.8 163.2 R(See)5.869
E F2(dh)3.369 E F0 .869(\(4\) and)1.666 F F2(dz)3.369 E F0 3.369
(\(4\). It)1.666 F(can)3.369 E 2.818
(also be used with escape-code autodialers to allo)185.8 175.2 R 5.318
(wm)-.25 G 2.819(odem control to be)-5.318 F
(ignored while talking to the dialer)185.8 187.2 Q(.)-.55 E F1 28.8
(XX_TIMEOUT D)72 202.8 R F0 1.167(Enable a w)7.5 F 1.167(atchdog timer)
-.1 F 6.167(.T)-.55 G 1.167(his is used to kick de)-6.167 F 1.167
(vices prone to losing inter)-.25 F(-)-.2 E 2.5(rupts. It)185.8 214.8 R
(is currently a)2.5 E -.25(va)-.2 G(ilable only for the tm dri).25 E
-.15(ve)-.25 G -.55(r.).15 G F1 2.5(5.3.7. Miscellaneous)72 238.8 R
(System Calls)2.5 E 37.13(UCB_LOGIN C)72 258 R F0 .776
(Support a system call which can mark a process as a `)7.5 F .776
(`login process')-.74 F 3.276('a)-.74 G .776(nd set)-3.276 F 3.343
(its rechar)185.8 270 R 3.343(ge number \(for accounting purposes\).)
-.18 F 3.343(This is usually done by)8.343 F F2(lo)185.8 282 Q(gin)-.1 E
F0 2.5(\(1\). See)1.666 F F2(lo)2.5 E(gin)-.1 E F0(\(2\).)1.666 E F1
31.58(UCB_RENICE D)72 297.6 R F0 .986(Support a system call which allo)
7.5 F .986(ws a user to dynamically change a process')-.25 F(s)-.55 E
-.74(``)185.8 309.6 S(nice').74 E 3.108('v)-.74 G .608(alue o)-3.358 F
-.15(ve)-.15 G 3.108(rt).15 G .607(he entire range \(-127 to 127\) of v)
-3.108 F 3.107(alues. See)-.25 F F2 -.37(re)3.107 G(nice).37 E F0 .607
(\(1\) and)1.666 F F2 -.37(re)185.8 321.6 S(nice).37 E F0(\(2\).)1.666 E
F1 41.58(UCB_SUBM C)72 337.2 R F0 .862
(Support a system call to mark a process as ha)7.5 F .863(ving been `)
-.2 F(`submitted,)-.74 E 2.343 -.74('' p)-.7 H(ermit-).74 E .589(ting i\
t to run after the user has logged out and enabling special accounting \
for)185.8 349.2 R 1.124(its CPU use.)185.8 361.2 R(See)6.124 E F2
(submit)3.624 E F0 1.124(\(1\) and)1.666 F F2(submit)3.624 E F0 3.624
(\(2\). If)1.666 F 1.125(this option is enabled,)3.624 F F2(init)3.625 E
F0(\(8\))1.666 E .455(sends a SIGKILL signal to a user')185.8 373.2 R
2.955(su)-.55 G .455(nsubmitted processes when that user logs)-2.955 F
2.5(out. It)185.8 385.2 R(is inef)2.5 E(fecti)-.25 E .3 -.15(ve i)-.25 H
(f).15 E F1(MENLO_JCL)2.5 E F0(is de\214ned.)2.5 E F1 2.5(5.3.8. P)72
409.2 R(erf)-.2 E(ormance T)-.25 E(uning)-.92 E 61.58(NOKA5 C)72 428.4 R
F0 .832(Simplify the code for k)7.5 F .833
(ernel remapping by assuming that KDSA5 will not be)-.1 F .001
(used for normal k)185.8 440.4 R .001(ernel data.)-.1 F -.25(Ke)5.001 G
.001(rnel data space must end before 0120000 if this).25 F .536
(option is enabled.)185.8 452.4 R .537(It is unfortunate b)5.537 F .537
(ut una)-.2 F -.2(vo)-.2 G .537(idable that one must \214rst mak).2 F
3.037(ea)-.1 G -.1(ke)185.8 464.4 S .358(rnel and size it to determine \
whether this option may be safely de\214ned.).1 F .357(It is)5.357 F .2
(usually possible on all b)185.8 476.4 R .201(ut the lar)-.2 F .201
(gest separate I/D k)-.18 F .201(ernels, and on the small-to-)-.1 F .772
(medium nonseparate, o)185.8 488.4 R -.15(ve)-.15 G .772(rlaid k).15 F
3.272(ernels. The)-.1 F F2 -.15(ch)3.272 G(ec).15 E(ksys)-.2 E F0 .772
(utility will print a w)3.272 F(arn-)-.1 E
(ing message if the data limit is e)185.8 500.4 Q(xceeded when a ne)-.15
E 2.5(wk)-.25 G(ernel is loaded.)-2.6 E F1(PR)72 516 Q 59.1(OFIL C)-.3 F
F0 -.45(Tu)7.5 G 1.511(rn on system pro\214ling.).45 F 1.512
(This requires a separate I/D cpu equipped with a)6.511 F .302
(KW11-P clock.)185.8 528 R .302(It cannot be used on machines with EN)
5.302 F .301(ABLE/34 boards since)-.35 F(the)185.8 540 Q 3.404(yh)-.15 G
-2.25 -.2(av e)-3.404 H .904(no spare page address re)3.604 F 3.404
(gisters. If)-.15 F .904(pro\214ling is enabled, you should)3.404 F
1.833
(change the de\214nition of SPLFIX in the corresponding machine Mak)
185.8 552 R 1.833(e\214le to)-.1 F F2(:spl\214x.pr)185.8 564 Q(o\214l)
-.45 E F0 9.191(.T)C 4.191(he directory /)-9.191 F F2(usr)A F0(/)A F2
(contrib)A F0(/)A F2 -.1(ge)C(tsyspr).1 E F0 4.192
(contains a program for)6.691 F -.15(ex)185.8 576 S
(tracting the pro\214ling information from the k).15 E(ernel.)-.1 E F1
35.46(UCB_BHASH D)72 591.6 R F0 .114(Compile in code to hash b)7.5 F(uf)
-.2 E .113(fer headers \(and cut the time required by the)-.25 F F2 -.1
(ge)2.613 G(tblk).1 E F0(routine by 50% or more on lar)185.8 603.6 Q
(ge systems\).)-.18 E F1(UCB_FRCSW)72 619.2 Q 22.23(AP C)-1.2 F F0 -.15
(Fo)7.5 G .354(rce sw).15 F .354(aps on all forks and e)-.1 F .354
(xpands \(b)-.15 F .354(ut not vforks\).)-.2 F .355
(This is used to transfer)5.354 F .111
(some of the load from a compute-bound CPU to an idle disk controller)
185.8 631.2 R 5.11(.T)-.55 G .11(his is)-5.11 F .935
(probably not a good idea with)185.8 643.2 R F1(VIR)3.435 E(US_VFORK)-.3
E F0 .935(de\214ned, b)3.435 F .935(ut then the load is)-.2 F
(better reduced by using vfork instead of fork.)185.8 655.2 Q F1 38.24
(UCB_IHASH D)72 670.8 R F0 .794(Compile in code to hash in-core inodes \
\(and cut the time required by the)7.5 F F2(ig)3.294 E(et)-.1 E F0
(routine by 50% or more on lar)185.8 682.8 Q(ge systems\).)-.18 E F1
(UNF)72 698.4 Q 57.48(AST C)-.9 F F0 .606(Do not use inline macro e)7.5
F .607(xpansions designed to speed up \214le system accesses)-.15 F
(at the cost of a lar)185.8 710.4 Q(ger te)-.18 E(xt se)-.15 E(gment.)
-.15 E(23 October 1995)254.395 768 Q EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-28- K)92.67 F(ernel con\214guration)-.25 E/F1 10/Times-Bold@0 SF 2.5
(5.4. Additional)72 84 R(con\214guration details)2.5 E F0 2.818(Af)97
99.6 S .817 -.25(ew o)-2.818 H 2.817(ft).25 G .317(he parameters and op\
tions require a little care to set up; those considerations are discuss\
ed)-2.817 F(here.)72 111.6 Q F1 2.5(5.4.1. Alter)72 135.6 R
(nate disk dri)-.15 E -.1(ve)-.1 G(rs).1 E F0 1.075(There are se)97
151.2 R -.15(ve)-.25 G 1.075(ral disk dri).15 F -.15(ve)-.25 G 1.075
(rs pro).15 F 1.075(vided for SMD disks.)-.15 F(The)6.075 E F1(hp)3.575
E F0(dri)3.575 E -.15(ve)-.25 G 3.575(rs).15 G 1.075
(upports RP04/05/06 disks;)-3.575 F F1(rm)72 163.2 Q F0 .113
(supports RM02/03 disks, and)2.613 F F1(dvhp)2.613 E F0 .113
(supports 300 Mbyte dri)2.613 F -.15(ve)-.25 G 2.612(so).15 G 2.612(nD)
-2.612 G .612 -.25(iva c)-2.612 H 2.612(ontrollers. In).25 F .112
(addition, there is)2.612 F(an)72 175.2 Q F1(xp)3.356 E F0(dri)3.356 E
-.15(ve)-.25 G 3.356(rw).15 G .856(hich handles an)-3.356 F 3.356(yo)
-.15 G 3.356(ft)-3.356 G .856(he abo)-3.356 F -.15(ve)-.15 G 3.356(,p)
.15 G .857(lus RM05 disks, multiple controllers, and disks which are)
-3.356 F 1.428(similar to those listed b)72 187.2 R 1.428(ut with dif)
-.2 F 1.428(ferent geometry \(e.g. Fujitsu 160 Mbyte dri)-.25 F -.15(ve)
-.25 G 3.927(s\). It).15 F 1.427(can be used with)3.927 F(UNIB)72 199.2
Q 1.116(US or MASSB)-.1 F 1.116(US controllers or both.)-.1 F 1.117
(In general, if you ha)6.116 F 1.417 -.15(ve o)-.2 H 1.117
(nly one type of disk and one con-).15 F(troller)72 211.2 Q 3.054(,t)-.4
G(he)-3.054 E F1(hp)3.054 E F0(,)A F1(rm)3.054 E F0(or)3.054 E F1(dvhp)
3.054 E F0(dri)3.054 E -.15(ve)-.25 G .554
(rs are the best choices, since the).15 F 3.053(ya)-.15 G .553
(re smaller and simpler)-3.053 F 5.553(.I)-.55 G 3.053(fy)-5.553 G .553
(ou use the)-3.053 F F1(xp)72 223.2 Q F0(dri)2.859 E -.15(ve)-.25 G
1.159 -.4(r, i).15 H 2.859(tc).4 G .359(an be set up in one of tw)-2.859
F 2.859(ow)-.1 G 2.859(ays. If)-2.959 F F1(XP_PR)2.859 E(OBE)-.3 E F0
.359(is de\214ned in xp.h, the dri)2.859 F -.15(ve)-.25 G 2.859(rw).15 G
.36(ill attempt to)-2.859 F 1.105(determine the type of each disk and c\
ontroller by probing and using the dri)72 235.2 R 1.404 -.15(ve t)-.25 H
1.104(ype re).15 F(gister)-.15 E 6.104(.T)-.55 G 3.604(os)-6.904 G -2.25
-.2(av e)-3.604 H(the)3.804 E .71
(space occupied by this routine, or to specify dif)72 247.2 R .71
(ferent dri)-.25 F 1.01 -.15(ve p)-.25 H .71(arameters, the dri).15 F
1.01 -.15(ve a)-.25 H .71(nd controller structures).15 F .159
(can be initialized in ioconf.c if)72 259.2 R F1(XP_PR)2.659 E(OBE)-.3 E
F0 .159(is not de\214ned.)2.659 F .159(The controller addresses will ha)
5.159 F .458 -.15(ve t)-.2 H 2.658(ob).15 G 2.658(ei)-2.658 G(nitial-)
-2.658 E 1.009
(ized in either case \(at least the \214rst, if it is a boot de)72 271.2
R 3.509(vice\). The)-.25 F 1.009(\214le /usr/include/sys/hpre)3.509 F
1.009(g.h pro)-.15 F 1.009(vides the)-.15 F 1.545
(de\214nitions for the \215ags and sizes.)72 283.2 R 1.545
(Ioconf.c has an e)6.545 F 1.545(xample of initialized structures.)-.15
F/F2 10/Times-Italic@0 SF(Xp)6.545 E F0 1.545(\(4\) gi)1.666 F -.15(ve)
-.25 G 4.044(sm).15 G(ore)-4.044 E(information about dri)72 295.2 Q .3
-.15(ve n)-.25 H(umbering, etc.).15 E F1 2.5(5.4.2. Disk)72 319.2 R
(monitoring parameters)2.5 E F0 .209(The k)97 334.8 R .209
(ernel is capable of maintaining statistics about disk acti)-.1 F .21
(vity for speci\214ed disks; this information)-.25 F .834
(can be printed by)72 346.8 R F2(iostat)3.334 E F0 3.334(\(8\). This)
1.666 F(in)3.334 E -.2(vo)-.4 G(lv).2 E .833(es some setup, ho)-.15 F
(we)-.25 E -.15(ve)-.25 G 1.633 -.4(r, a).15 H .833
(nd if parameters are set incorrectly can).4 F 1.338(cause the k)72
358.8 R 1.338(ernel monitoring routines to o)-.1 F -.15(ve)-.15 G 1.339
(rrun their array bounds.).15 F 2.939 -.8(To s)6.339 H 1.339
(et this up correctly).8 F 3.839(,c)-.65 G 1.339(hoose the)-3.839 F .264
(disks to be monitored.)72 370.8 R F2(Iostat)5.263 E F0 .263
(is con\214gured for a maximum of 4 disks, b)2.763 F .263
(ut that could be changed by editing)-.2 F .738(the headers.)72 382.8 R
.739(The dri)5.739 F -.15(ve)-.25 G .739(rs that do o).15 F -.15(ve)-.15
G .739(rlapped seeks \(hk, hp, rm and xp\) use one \214eld for each dri)
.15 F 1.039 -.15(ve \()-.25 H(N).15 E F2(XX)A F0(\))A 1.263(plus one fo\
r the controller; the others use only one \214eld, for the controller)72
394.8 R 6.263(.W)-.55 G 1.263(hen both dri)-6.263 F -.15(ve)-.25 G 3.763
(sa).15 G 1.263(nd con-)-3.763 F .107(trollers are monitored, the dri)72
406.8 R -.15(ve)-.25 G 2.607(sc).15 G .107(ome \214rst, starting at)
-2.607 F F2(XX)2.607 E F0 .107(_DKN, follo).833 F .107
(wed by the controller \(or controllers,)-.25 F .521
(in the case of xp\).)72 418.8 R .521(Then set)5.521 F F1(NDISK)3.021 E
F0 .521(in param.c to the desired number)3.021 F 5.521(.T)-.55 G .521
(he number of the \214rst slot to use)-5.521 F .489(for each dri)72
430.8 R -.15(ve)-.25 G 2.989(ri).15 G 2.989(sd)-2.989 G .489
(e\214ned as)-2.989 F F2(XX)2.989 E F0 .489(_DKN in the de).833 F(vice')
-.25 E 2.989(sh)-.55 G .49(eader \214le, or is unde\214ned if that dri)
-2.989 F -.15(ve)-.25 G 2.99(ri).15 G 2.99(sn)-2.99 G .49(ot using)-2.99
F(monitoring.)72 442.8 Q F2(Iostat)5.522 E F0 .522(currently e)3.022 F
.522(xpects that if o)-.15 F -.15(ve)-.15 G .522
(rlapped seeks are being metered, those disks are \214rst in the).15 F
.024(array \(i.e.,)72 454.8 R F2(XX)2.524 E F0 .024(_DKN for that dri)
.833 F -.15(ve)-.25 G 2.524(ri).15 G 2.524(s0)-2.524 G 2.524(\). As)
-2.524 F .024(an e)2.524 F .024
(xample, for 3 RP06 disks using the hp dri)-.15 F -.15(ve)-.25 G 2.525
(rp).15 G .025(lus 1 RL02,)-2.525 F .123
(HP_DKN should be 0, RL_DKN should be 4, and)72 466.8 R F1(NDISK)2.622 E
F0 .122(should be 5 \(3 hp disks + 1 hp controller + 1 rl\).)2.622 F
(The complete correspondence for)72 478.8 Q F2(iostat)2.5 E F0 -.1(wo)
2.5 G(uld then be:).1 E 2.5(0\()108 502.8 S(HP_DKN + 0\))-2.5 E
(hp0 seeks)30 E 2.5(1\()108 514.8 S(HP_DKN + 1\))-2.5 E(hp1 seeks)30 E
2.5(2\()108 526.8 S(HP_DKN + 2\))-2.5 E(hp2 seeks)30 E 2.5(3\()108 538.8
S(HP_DKN + NHP\))-2.5 E(hp controller transfers)15 E 2.5(4\()108 550.8 S
(RL_DKN + 0\))-2.5 E(rl transfers)30 E F1(It is v)72 574.8 Q
(ery important that NDISK be lar)-.1 E(ge enough, since the dri)-.1 E
-.1(ve)-.1 G(rs do not check f).1 E(or o)-.25 E -.1(ve)-.1 G(r\215o).1 E
-.7(w.)-.1 G F0 .658(After the k)97 590.4 R .659
(ernel disk monitoring is set up,)-.1 F F2(iostat)3.159 E F0 .659
(itself needs to be edited to re\215ect the numbers and)3.159 F
(types of the disks.)72 602.4 Q(The source is in /usr/src/cmd.)5 E F1
2.5(5.4.3. A)72 626.4 R(utomatic r)-.5 E(eboot)-.18 E F0 1.593
(The automatic reboot f)97 642 R 1.593(acility \()-.1 F F1(UCB_A)A(UT)
-.5 E(OBOO)-.18 E(T)-.4 E F0 4.093(\)i)C 1.593
(ncludes a number of components, se)-4.093 F -.15(ve)-.25 G 1.592
(ral of).15 F .198(which must kno)72 654 R 2.698(wd)-.25 G .198
(etails of the boot con\214guration.)-2.698 F .198(The k)5.198 F .198
(ernel has an inte)-.1 F .199(gral boot routine, found in boot.s)-.15 F
1.167(in the con\214guration directory for the machine, which reads in \
a block 0 bootstrap from the normal boot)72 666 R(de)72 678 Q .64
(vice and e)-.25 F -.15(xe)-.15 G .64(cutes it.).15 F .64
(The block 0 bootstrap normally loads)5.64 F F1(boot)3.14 E F0 .64
(from the \214rst \214le system on dri)3.14 F .94 -.15(ve 0 o)-.25 H(f)
.15 E .42(the disk; this can be changed if necessary)72 690 R 5.42(.T)
-.65 G .42(he second-stage bootstrap, /boot, needs to kno)-5.42 F 2.92
(ww)-.25 G .42(here to \214nd)-2.92 F(unix.)72 702 Q .001
(The \214rst step is to determine which k)97 717.6 R .001
(ernel boot to use.)-.1 F(Currently)5.001 E 2.501(,t)-.65 G .002
(here are boot modules supplied for)-2.501 F .668(the follo)72 729.6 R
.668(wing disk types: hk, rl, rm, rp, dvhp, sc11 and sc21 \(the last tw)
-.25 F 3.168(oa)-.1 G .668(re for Emule)-3.168 F 3.168(xS)-.15 G .668
(C11 and SC21)-3.168 F(23 October 1995)254.395 768 Q EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-29- K)92.67 F(ernel con\214guration)-.25 E .215
(controllers, using the boot command\).)72 84 R .215
(If one of these will w)5.215 F .216
(ork with your boot disk, place that entry in the)-.1 F/F1 10
/Times-Bold@0 SF(bootde)72 96 Q(v)-.15 E F0 1.749(\214eld in the de)
4.249 F 1.748(vice con\214guration \214le before running)-.25 F/F2 10
/Times-Italic@0 SF(con\214g)4.248 E F0 4.248(,o)C 4.248(rs)-4.248 G
1.748(imply cop)-4.248 F 4.248(y.)-.1 G(./conf/)-4.248 E F2(dk)A F0
1.748(boot.s to).833 F .074
(boot.s in the machine con\214guration directory)72 108 R 5.074(.I)-.65
G 2.574(fn)-5.074 G 2.574(ob)-2.574 G .074(oot module supplied will w)
-2.574 F .075(ork, it is not too dif)-.1 F .075(\214cult to)-.25 F .109
(create one for your machine.)72 120 R .108(The easiest w)5.108 F .108
(ay to do this is to cop)-.1 F 2.608(yo)-.1 G .108
(ne of the other boot modules, and mod-)-2.608 F .059
(ify the last section which actually reads the boot block.)72 132 R .06
(If you ha)5.059 F .36 -.15(ve a b)-.2 H .06(ootstrap R).15 F .06
(OM, you can simply jump)-.4 F .264(to the correct entry with an)72 144
R 2.764(yn)-.15 G .263(ecessary addresses placed in re)-2.764 F .263
(gisters \214rst.)-.15 F(Or)5.263 E 2.763(,y)-.4 G .263
(ou can write a small routine)-2.763 F .288
(to read in the \214rst disk block.)72 156 R .288(If you don')5.288 F
2.788(th)-.18 G -2.25 -.2(av e)-2.788 H 2.788(ab)2.988 G .288
(oot module,)-2.788 F F1(bootde)2.788 E(v)-.15 E F0 .288
(in the con\214guration \214le should be)2.788 F 1.63(speci\214ed as)72
168 R F1(none)4.13 E F0 4.13(,a)C 1.63(nd noboot.s will be installed.)
-4.13 F 1.63(This is a dummy \214le that k)6.63 F 1.63
(eeps the load rules from)-.1 F 2.5(changing. The)72 180 R F1(UCB_A)2.5
E(UT)-.5 E(OBOO)-.18 E(T)-.4 E F0
(option should not be de\214ned until a boot module is obtained.)2.5 E
.608(The other change that is normally required is to specify where /un\
ix will be found.)97 195.6 R .608(This is done by)5.608 F 1.196
(changing the de\214nition of)72 207.6 R F1(RB_DEFN)3.696 E(AME)-.2 E F0
1.195(in /usr/include/sys/reboot.h.)3.696 F 1.195
(The de\214nition is a string in the)6.195 F .686
(same format as the manual input to boot, for e)72 219.6 R .686
(xample "xp\(0,0\)unix".)-.15 F .687
(After making this change, boot will)5.686 F .997(need to be recompiled\
 \(in /usr/src/sys/stand/bootstrap\) and installed.)72 231.6 R .997
(It can be installed initially as /ne)5.997 F(w-)-.25 E
(boot, and the original boot can be used to load it for testing:)72
243.6 Q F1(>boot)108 261.6 Q F2(nn)108 285.6 Q F1(Boot)A(:)108 297.6 Q
F2(dk)2.5 E F0(\(0,0\)ne)1.666 E(wboot)-.25 E F2(nn)108 321.6 Q F1(Boot)
A(:)108 333.6 Q F2(dk)2.5 E F0(\(0,0\)unix)1.666 E .309(If you w)97
355.2 R .309(ant to ha)-.1 F .609 -.15(ve c)-.2 H .31(ore dumps made af\
ter crashes, this must be speci\214ed in the con\214guration \214le as)
.15 F 3.428(well. Dumps)72 367.2 R .928(are normally tak)3.428 F .928
(en on the end of the sw)-.1 F .928(ap de)-.1 F .927
(vice before rebooting, and after the system is)-.25 F .094
(back up and the \214le systems are check)72 379.2 R .095
(ed, the dump will be copied into /usr/sys by)-.1 F F2(savecor)2.595 E
(e)-.37 E F0 2.595(\(8\). Dump)1.666 F(rou-)2.595 E 1.168(tines are a)72
391.2 R -.25(va)-.2 G 1.168(ilable for the hk, hp, rm and xp dri).25 F
-.15(ve)-.25 G 3.668(rs. T).15 F 3.668(oi)-.8 G 1.168
(nstall, change the)-3.668 F F1(dumpde)3.668 E(v)-.15 E F0 1.167
(entry to the same)3.668 F -.25(va)72 403.2 S .242(lue as the sw).25 F
.242(ap de)-.1 F 2.742(vice. Then)-.25 F(set)2.742 E F1(dumplo)2.742 E
F0 .242(to a v)2.742 F .242(alue that will allo)-.25 F 2.743(wa)-.25 G
2.743(sm)-2.743 G .243(uch as possible of memory to be)-2.743 F(sa)72
415.2 Q -.15(ve)-.2 G 3.203(d. The).15 F .703(dump routine will start t\
he dump at dumplo and continue to the end of memory or the end of)3.203
F 1.151(the sw)72 427.2 R 1.151(ap de)-.1 F 1.151
(vice partition, whiche)-.25 F -.15(ve)-.25 G 3.651(rc).15 G 1.151
(omes \214rst.)-3.651 F 1.151(Dumplo should be lar)6.151 F 1.152
(ger than swplo so that an)-.18 F 3.652(ye)-.15 G(arly)-3.652 E(sw)72
439.2 Q .172(aps will not o)-.1 F -.15(ve)-.15 G .172
(rwrite the dump, b).15 F .172(ut if possible, should be lo)-.2 F 2.672
(we)-.25 G .172(nough that there is room for all of mem-)-2.672 F(ory)72
451.2 Q 6.315(.T)-.65 G(he)-6.315 E F1(dumpr)3.816 E(outine)-.18 E F0
1.316(entry in the con\214guration \214le is then set to)3.816 F F2(dk)
3.816 E F0 1.316(dump, where).833 F F2(dk)3.816 E F0 1.316
(is the disk type.)3.816 F(Finally)72 463.2 Q 5.586(,a)-.65 G 3.086
(fter running)-5.586 F F2(con\214g)5.586 E F0 5.586(,e)C 3.086
(dit the header \214le)-5.586 F F2(dk)5.586 E F0 3.086(.h in the ne)B
5.586(wc)-.25 G 3.086(on\214guration directory to de\214ne)-5.586 F F2
(DK)72 475.2 Q F0(_DUMP).833 E 2.5(,s)-1.11 G 2.5(ot)-2.5 G
(hat that dump routine will be included when the dri)-2.5 E -.15(ve)-.25
G 2.5(ri).15 G 2.5(sc)-2.5 G(ompiled.)-2.5 E F1 2.5
(5.4.4. Considerations)72 499.2 R(on a PDP-11/23)2.5 E F0 .66
(If setting up a k)97 514.8 R .661(ernel on a PDP-11/23, it is necessar\
y to consider the interrupt structure of the hard-)-.1 F -.1(wa)72 526.8
S 3.134(re. If).1 F .634(there are an)3.134 F 3.134(ys)-.15 G .634
(ingle-priority boards on the b)-3.134 F .634(us, the)-.2 F 3.134(ym)
-.15 G .633(ust be behind all multiple-priority de)-3.134 F(vices.)-.25
E .491(Otherwise, the)72 538.8 R 2.991(ym)-.15 G .491
(ay accept interrupts meant for another)-2.991 F 2.992(,h)-.4 G(igher)
-2.992 E .492(-priority de)-.2 F .492(vice f)-.25 F .492
(arther from the processor)-.1 F(,)-.4 E .42(at a time when the system \
has set the processor priority to block the single-le)72 550.8 R -.15
(ve)-.25 G 2.92(ld).15 G -.25(ev)-2.92 G 2.92(ice. The).25 F(alternati)
2.92 E .72 -.15(ve i)-.25 H(s).15 E 1.629(to use spl6 uniformly for an)
72 562.8 R 4.129(yh)-.15 G 1.629
(igh processor priority \(spl4, spl5, spl6\).)-4.129 F 1.63
(This may be accomplished by)6.63 F 2.026(changing the _spl routines in\
 mch.s, the de\214nitions of br4 and br5 in l.s, and by changing the sc\
ript)72 574.8 R(:spl\214x.mtps \(in the)72 586.8 Q F2(conf)2.5 E F0
(directory\).)2.5 E(Berk)97 602.4 Q(ele)-.1 E(y)-.15 E/F3 8
/Times-Roman@0 SF(UNIX)3.368 E F0 .868
(does not support more than 256K bytes of memory on the 11/23.)3.368 F
.868(If you ha)5.868 F 1.169 -.15(ve ex)-.2 H(tra).15 E(memory and a w)
72 614.4 Q(ay to use it \(e.g. a disk dri)-.1 E -.15(ve)-.25 G 2.5(rc)
.15 G(apable of 22-bit addressing\) you will w)-2.5 E
(ant to change this.)-.1 E F1 2.5(5.5. Compiling)72 638.4 R(the k)2.5 E
(er)-.1 E(nel)-.15 E F0 .534(Once you ha)97 654 R .834 -.15(ve m)-.2 H
.534(ade an).15 F 3.034(yl)-.15 G .533
(ocal changes, you are ready to compile the k)-3.034 F 3.033(ernel. If)
-.1 F .533(you ha)3.033 F .833 -.15(ve m)-.2 H .533(ade an).15 F(y)-.15
E .677(changes which will af)72 666 R .677(fect the dependenc)-.25 F
3.177(yr)-.15 G .677(ules in the Mak)-3.177 F .678(e\214le, run `)-.1 F
(`mak)-.74 E 3.178(ed)-.1 G(epend')-3.178 E 3.178('\()-.74 G 3.178
(N.B.: the)-3.178 F .678(output of)3.178 F 1.341
(this command is best appreciated on a crt\).)72 678 R 1.341(Then, `)
6.341 F(`mak)-.74 E 3.841(eu)-.1 G(nix.)-3.841 E 5.32 -.74('' N)-.7 H
1.34(ote: although se).74 F -.15(ve)-.25 G 1.34(ral shortcuts ha).15 F
-.15(ve)-.2 G .171(been b)72 690 R .172(uilt into the mak)-.2 F .172
(e\214le, the nonseparate I/D)-.1 F F2(mak)2.672 E(e)-.1 E F0 .172
(occasionally runs out of space while recompiling the)2.672 F -.1(ke)72
702 S 3.259(rnel. If).1 F .758
(this happens, just restart it and it will generally mak)3.259 F 3.258
(ei)-.1 G 3.258(tt)-3.258 G .758(hrough the second time.)-3.258 F .758
(The separate)5.758 F .392(I/D v)72 714 R .392(ersion of)-.15 F F2(mak)
2.892 E(e)-.1 E F0 .392(in /usr/70 should ha)2.892 F .692 -.15(ve n)-.2
H 2.892(op).15 G 2.892(roblem. Also)-2.892 F .392(note, it is imperati)
2.892 F .693 -.15(ve t)-.25 H .393(hat o).15 F -.15(ve)-.15 G .393
(rlaid k).15 F .393(ernels be)-.1 F .309(compiled with the 2.9BSD v)72
726 R .309(ersions of)-.15 F F2(cc)2.809 E F0(,)A F2(as)2.808 E F0
(\(and)2.808 E F2(as2)2.808 E F0 2.808(\)a)C(nd)-2.808 E F2(ld)2.808 E
F0 5.308(.U)C .308(se of older C preprocessors or assemblers)-5.308 F
(23 October 1995)254.395 768 Q EP
%%Page: 30 30
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 122.38
(-30- K)92.67 F(ernel con\214guration)-.25 E
(will result in compile-time errors or \(w)72 84 Q
(orse\) systems that will almost run, b)-.1 E
(ut crash after a short time.)-.2 E .558
(After the unix binary is loaded, the mak)97 99.6 R .558
(e\214le runs a small program called)-.1 F/F1 10/Times-Italic@0 SF -.15
(ch)3.058 G(ec).15 E(ksys)-.2 E F0 .559(which checks for)3.058 F .962
(size o)72 111.6 R -.15(ve)-.15 G(r\215o).15 E 3.462(ws. If)-.25 F .962
(you are b)3.462 F .962(uilding an o)-.2 F -.15(ve)-.15 G .961
(rlaid system, check the size of the object \214le \(see).15 F F1(size)
3.461 E F0 .961(\(1\)\) and)1.666 F -.15(ove)72 123.6 S .461
(rlay layout.).15 F .461(The o)5.461 F -.15(ve)-.15 G .461
(rlay structure may be changed by editing the mak).15 F 2.961
(e\214le. F)-.1 F .462(or a nonseparate I/D sys-)-.15 F .396
(tem, the base se)72 135.6 R .395
(gment size must be between 8194 and 16382 bytes and each o)-.15 F -.15
(ve)-.15 G .395(rlay must be at most 8192).15 F 4.544(bytes. If)72 147.6
R 2.044(you are b)4.544 F 2.044(uilding an o)-.2 F -.15(ve)-.15 G 2.044
(rlaid system with EN).15 F 2.044
(ABLE/34 support, note that the object module)-.35 F F1(enable34.o)72
159.6 Q F0 .544(must be loaded in the base se)3.044 F 3.044(gment. The)
-.15 F .544(\214nal object \214le `)3.044 F(`unix')-.74 E 3.044('s)-.74
G .544(hould be copied to the root,)-3.044 F .742
(and then booted to try it out.)72 171.6 R .743
(It is best to name it /ne)5.743 F .743(wunix so as not to destro)-.25 F
3.243(yt)-.1 G .743(he w)-3.243 F .743(orking system until)-.1 F(you')72
183.6 Q(re sure it does w)-.5 E(ork:)-.1 E/F2 10/Times-Bold@0 SF(#)108
201.6 Q F0(cp unix /ne)2.5 E(wunix)-.25 E F2(#)108 213.6 Q F0(sync)2.5 E
.458(It is also a good idea to k)72 231.6 R .457
(eep the old system around under some other name.)-.1 F .457
(In particular)5.457 F 2.957(,w)-.4 G 2.957(er)-2.957 G(ecommend)-2.957
E .045(that you sa)72 243.6 R .345 -.15(ve t)-.2 H .045
(he generic distrib).15 F .045(ution v)-.2 F .046
(ersion of the system permanently as /genericunix for use in emer)-.15 F
(gen-)-.18 E(cies.)72 255.6 Q 1.784 -.8(To b)97 271.2 T .184(oot the ne)
.8 F 2.683(wv)-.25 G .183(ersion of the system you should follo)-2.833 F
2.683(wt)-.25 G .183(he bootstrap procedures outlined in section)-2.683
F(2.4 abo)72 283.2 Q -.15(ve)-.15 G 5(.A).15 G
(systematic scheme for numbering and sa)-2.5 E(ving old v)-.2 E
(ersions of the system is best.)-.15 E -1.1(Yo)97 298.8 S 2.5(uc)1.1 G
(an repeat these steps whene)-2.5 E -.15(ve)-.25 G 2.5(ri).15 G 2.5(ti)
-2.5 G 2.5(sn)-2.5 G(ecessary to change the system con\214guration.)-2.5
E F2 2.5(5.6. Making)72 322.8 R(changes to the k)2.5 E(er)-.1 E(nel)-.15
E F0(If you wish to mak)97 338.4 Q 2.5(el)-.1 G(ocal mods to the k)-2.5
E(ernel you should brack)-.1 E(et them with)-.1 E(#ifdef PICKLE)108
356.4 Q(...)108 368.4 Q(#endif)108 380.4 Q(perhaps sa)72 398.4 Q
(ving old code between)-.2 E(#ifndef PICKLE)108 416.4 Q(...)108 428.4 Q
(#endif)108 440.4 Q(This will allo)72 458.4 Q 2.5(wy)-.25 G
(ou to \214nd changed code easily)-2.5 E(.)-.65 E 2.781 -.8(To a)97 474
T 1.181(dd a de).8 F 1.181(vice not supported by the distrib)-.25 F
1.182(ution system you will ha)-.2 F 1.482 -.15(ve t)-.2 H 3.682(op).15
G 1.182(lace the dri)-3.682 F -.15(ve)-.25 G 3.682(rf).15 G 1.182
(or the)-3.682 F(de)72 486 Q 3.269
(vice in the directory /usr/src/sys/de)-.25 F 4.569 -.65(v, e)-.25 H
3.269(dit a line into the block and/or character de).65 F 3.268
(vice table in)-.25 F .548
(/usr/src/sys/PICKLE/c.c, add the name of the de)72 498 R .549
(vice to the OPTION)-.25 F .549
(AL line of the \214le Depend, and to the)-.35 F(mak)72 510 Q .325
(e\214le load rules.)-.1 F .325(Place the de)5.325 F(vice')-.25 E 2.825
(sa)-.55 G .325(ddress and interrupt v)-2.825 F .325
(ector in the \214les ioconf.c and l.s respecti)-.15 F -.15(ve)-.25 G
(ly).15 E .215(if it is not going to be con\214gured by)72 522 R F1
(autocon\214g)2.715 E F0 .215
(\(8\); otherwise, l.s will only need the normal interf)1.666 F .215
(ace to the)-.1 F 2.845(Ci)72 534 S .345(nterrupt routine.)-2.845 F .344
(If you use autocon\214guration, you will need an attach routine in the\
 dri)5.345 F -.15(ve)-.25 G 1.144 -.4(r, a).15 H .344(nd a probe).4 F
1.261(routine in the dri)72 546 R -.15(ve)-.25 G 3.761(ro).15 G 3.761
(ri)-3.761 G(n)-3.761 E F1(autocon\214g)3.761 E F0 6.261(.U)C 1.262
(se the entries for a similar de)-6.261 F 1.262(vice as an e)-.25 F
3.762(xample. If)-.15 F 1.262(the de)3.762 F(vice)-.25 E(dri)72 558 Q
-.15(ve)-.25 G 3.305(ru).15 G .805(ses the UNIB)-3.305 F .805
(US map or system b)-.1 F(uf)-.2 E .805
(fers, it will probably need modi\214cations.)-.25 F .804(Check `)5.804
F .804(`Changes in)-.74 F .819(the K)72 570 R .819(ernel in 2.9BSD')-.25
F 3.319('f)-.74 G .819(or more technical information re)-3.319 F -.05
(ga)-.15 G .819(rding dri).05 F -.15(ve)-.25 G 3.319(ri).15 G(nterf)
-3.319 E 3.32(acing. Y)-.1 F .82(ou can then reb)-1.1 F(uild)-.2 E 1.43
(the system \(be sure to mak)72 582 R(e)-.1 E F1(depend)3.929 E F0 3.929
(\214rst\). After)3.929 F 1.429(rebooting the resulting k)3.929 F 1.429
(ernel and making appropriate)-.1 F .236(entries in the /de)72 594 R
2.736(vd)-.25 G(irectory)-2.736 E 2.736(,y)-.65 G .237
(ou can test out the ne)-2.736 F 2.737(wd)-.25 G -.25(ev)-2.737 G .237
(ice and dri).25 F -.15(ve)-.25 G 3.837 -.55(r. S).15 H .237
(ection 7.1 e).55 F .237(xplains shutdo)-.15 F .237(wn and)-.25 F
(reboot procedures.)72 606 Q(23 October 1995)254.395 768 Q EP
%%Page: 31 31
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 86.39
(-31- Recompiling)92.67 F(system softw)2.5 E(are)-.1 E/F1 12
/Times-Bold@0 SF(6. RECOMPILING SYSTEM SOFTW)176.376 84 Q(ARE)-1.44 E F0
1.694 -.8(We n)97 123.6 T .594 -.25(ow d).8 H .094(escribe ho).25 F
2.594(wt)-.25 G 2.594(or)-2.594 G .093
(ecompile system programs and install them.)-2.594 F .093
(Some programs must be mod-)5.093 F .221(i\214ed for the local system a\
t this time, and other local changes may be desirable no)72 135.6 R
2.721(wo)-.25 G 2.721(rl)-2.721 G(ater)-2.721 E 5.221(.B)-.55 G .221
(efore an)-5.221 F 2.721(yo)-.15 G(f)-2.721 E 4.185
(these procedures are be)72 147.6 R 4.184(gun, be certain that the incl\
ude \214les <whoami.h>, <sys/localopts.h> and)-.15 F .35
(<sys/param.h> are correct for the k)72 159.6 R .351
(ernel that has been installed.)-.1 F .351
(This is important for commands that wish)5.351 F .367(to kno)72 171.6 R
2.867(wt)-.25 G .367(he name of the local machine or that size their da\
ta areas appropriately for the type of CPU.)-2.867 F(The)5.367 E .366
(general procedures are gi)72 183.6 R -.15(ve)-.25 G 2.866<6e8c>.15 G
.366(rst, follo)-2.866 F .367
(wed by more detailed information about some of the major systems)-.25 F
(that require some setup.)72 195.6 Q/F2 10/Times-Bold@0 SF 2.5
(6.1. Recompiling)72 219.6 R(and r)2.5 E(einstalling system softwar)-.18
E(e)-.18 E F0 .15(It is easy to re)97 235.2 R .15
(generate the system, and it is a good idea to try reb)-.15 F .15
(uilding pieces of the system to b)-.2 F(uild)-.2 E 1.194
(con\214dence in the procedures.)72 247.2 R 1.194
(The system consists of three major parts: the k)6.194 F 1.195
(ernel itself, along with the)-.1 F .288(bootstrap and standalone utili\
ties \(/usr/src/sys\), the user programs \(/usr/src/cmd, /usr/src/ucb, \
and subdirec-)72 259.2 R(tories\), and the libraries \(/usr/src/lib\).)
72 271.2 Q(The major part of this is /usr/src/cmd.)5 E 1.645 -.8(We h)97
286.8 T -2.25 -.2(av e).8 H .045(already seen ho)2.745 F 2.545(wt)-.25 G
2.545(or)-2.545 G .045(ecompile the system itself.)-2.545 F .045
(The commands and libraries can be recom-)5.045 F .43
(piled in their respecti)72 298.8 R .73 -.15(ve s)-.25 H .43
(ource directories using the Mak).15 F .43(e\214le \(or Ovmak)-.1 F .43
(e\214le if there are both o)-.1 F -.15(ve)-.15 G .43(rlaid and).15 F
(non-o)72 310.8 Q -.15(ve)-.15 G 2.775(rlaid v).15 F 5.275
(ersions\). Ho)-.15 F(we)-.25 E -.15(ve)-.25 G 3.575 -.4(r, i).15 H
5.275(ti).4 G 5.275(sg)-5.275 G 2.776
(enerally easier to use one of the MAKE scripts set up for)-5.275 F
(/usr/src/lib, /usr/src/cmd, and /usr/src/ucb)72 322.8 Q 5(.T)-.4 G
(hese are used in a similar f)-5 E(ashion, such as)-.1 E F2(#)108 340.8
Q F0 3.332(./MAKE \25540 [)2.5 F(\255cp ])2.5 E 2.5<5bad>5.832 G -1.668
2.5(f] \214)-2.5 H(le ...)-2.5 E 1.512
(The \214rst, required \215ag sets the CPU class for which to compile.)
72 358.8 R 1.512(Three classes are used to used to set)6.512 F 1.024(re\
quirements for separate instruction and data and for \215oating point.)
72 370.8 R -.74(``)6.024 G 4.356(MAKE \25540').74 F 3.524('m)-.74 G(ak)
-3.524 E 1.024(es nonseparate)-.1 F 1.037(I/D v)72 382.8 R 1.036
(ersions that load the \215oating point interpreter as required.)-.15 F
-.74(``)6.036 G 4.368(MAKE \25534').74 F 3.536('i)-.74 G 3.536(ss)-3.536
G 1.036(imilar b)-3.536 F 1.036(ut assumes a)-.2 F(hardw)72 394.8 Q .7
(are \215oating point unit.)-.1 F -.74(``)5.7 G 4.032(MAKE \25570').74 F
3.2('i)-.74 G 3.2(su)-3.2 G .701
(sed for separate I/D machines and also assumes \215oating)-3.2 F 1.389
(point hardw)72 406.8 R 3.889(are. `)-.1 F 4.721(`MAKE \25570 \255f)-.74
F 2.868 -.74('' i).55 H 3.888(su).74 G 1.388
(sed for separate I/D machines without \215oating point hardw)-3.888 F
(are.)-.1 E .569(The use of these MAKE scripts automates the selection \
of CPU-dependent options and mak)72 418.8 R .57(es the optimal)-.1 F
.325(con\214guration of each program for the tar)72 430.8 R .325
(get computer)-.18 F 5.325(.T)-.55 G .325(he optional ar)-5.325 F .324
(gument \255cp causes each program to)-.18 F 1.411
(be installed as it is made.)72 442.8 R(The)6.411 E 3.911(ya)-.15 G
1.411(re installed in the normal directories, unless the en)-3.911 F
1.412(vironment v)-.4 F(ariable)-.25 E .685
(DESTDIR is set, in which case the normal path is prepended by DESTDIR.)
72 454.8 R .685(This can be used to compile)5.685 F .833
(and create a ne)72 466.8 R 3.333(ws)-.25 G .833
(et of binary directories, e.g. /nbsd/bin, /nbsd/lib, etc.)-3.333 F .834
(Running the command `)5.833 F(`MAKE)-.74 E 4.682(\25570 \255cp)72 478.8
R(*')3.85 E 3.85('i)-.74 G 3.85(n/)-3.85 G 1.35
(usr/src/lib, /usr/src/cmd and /usr/src/ucb w)-3.85 F 1.35
(ould thus create a whole ne)-.1 F 3.85(wt)-.25 G 1.349(ree of system)
-3.85 F 2.587(binaries. The)72 490.8 R .088(six major libraries are the\
 C library in /usr/src/lib/c, the jobs library)2.587 F 2.588(,/)-.65 G
.088(usr/src/lib/jobs, the)-2.588 F/F3 8/Times-Roman@0 SF(FOR-)2.588 E
(TRAN)72 502.8 Q F0 5.025(libraries /usr/src/lib/libF77, /usr/src/lib/l\
ibI77, and /usr/src/lib/libU77, and the math library)7.525 F 2.593
(/usr/src/lib/m. Most)72 514.8 R .093(libraries are made in tw)2.593 F
2.594(ov)-.1 G .094
(ersions, one each for use with and without process o)-2.744 F -.15(ve)
-.15 G(rlays.).15 E(In each case the library is remade by changing into\
 /usr/src/lib and doing)72 526.8 Q F2(#)108 544.8 Q F0 3.332
(./MAKE \255)2.5 F/F4 10/Times-Italic@0 SF 3.332(cpu libname)B F0
(or made and installed by)72 562.8 Q F2(#)108 580.8 Q F0 3.332
(./MAKE \255)2.5 F F4(cpu)A F0(\255cp)5.832 E F4(libname)5.832 E F0
(Similar to the system,)72 598.8 Q F2(#)108 616.8 Q F0(mak)2.5 E 2.5(ec)
-.1 G(lean)-2.5 E(cleans up in each subdirectory)72 634.8 Q(.)-.65 E
2.716 -.8(To r)97 650.4 T 1.116(ecompile indi).8 F 1.116(vidual command\
s, change to /usr/src/cmd or /usr/src/ucb, as appropriate, and use)-.25
F(the MAKE script in the same w)72 662.4 Q(ay)-.1 E 5(.T)-.65 G
(hus to compile adb, do)-5 E F2(#)108 680.4 Q F0(./MAKE \255)2.5 E F4
(cpu)A F0(adb)2.5 E(where cpu is 34, 40, or 70.)72 698.4 Q 1.6 -.8(To r)
5 H(ecompile e).8 E -.15(ve)-.25 G(rything, use).15 E F2(#)108 716.4 Q
F0(./MAKE \255)2.5 E F4(cpu)A F0(*)2.5 E(23 October 1995)254.395 768 Q
EP
%%Page: 32 32
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 86.39
(-32- Recompiling)92.67 F(system softw)2.5 E(are)-.1 E .443
(After installing ne)72 84 R 2.943(wb)-.25 G .443(inaries, you can use \
the script in /usr/src to link \214les together as necessary and to set)
-2.943 F(all the right set-user)72 96 Q(-id bits.)-.2 E/F1 10
/Times-Bold@0 SF(#)108 114 Q F0(cd /usr/src)2.5 E F1(#)108 126 Q F0
(./MAKE aliases)2.5 E F1(#)108 138 Q F0(./MAKE modes)2.5 E F1 2.5
(6.2. Making)72 168 R(local modi\214cations)2.5 E F0 1.642 -.8(To k)97
183.6 T .042(eep track of changes to system source we migrate changed v)
.7 F .042(ersions of commands in /usr/src/cmd)-.15 F 1.034
(in through the directory /usr/src/ne)72 195.6 R 3.534(wa)-.25 G 1.034
(nd out of /usr/src/cmd into /usr/src/old for a time before remo)-3.534
F(ving)-.15 E 2.77(them. Locally)72 207.6 R .27
(written commands that aren')2.77 F 2.769(td)-.18 G(istrib)-2.769 E .269
(uted are k)-.2 F .269(ept in /usr/src/local and their binaries are k)
-.1 F(ept)-.1 E .292(in /usr/local.)72 219.6 R .292(This allo)5.292 F
.292(ws /usr/bin, /usr/ucb, and /bin to correspond to the distrib)-.25 F
.293(ution tape \(and to the man-)-.2 F .806(uals that people can b)72
231.6 R 3.306(uy\). People)-.2 F .805
(wishing to use /usr/local commands are made a)3.305 F -.1(wa)-.15 G
.805(re that the).1 F 3.305(ya)-.15 G(ren')-3.305 E 3.305(ti)-.18 G(n)
-3.305 E(the base manual.)72 243.6 Q
(As manual updates incorporate these commands the)5 E 2.5(ya)-.15 G
(re mo)-2.5 E -.15(ve)-.15 G 2.5(dt).15 G 2.5(o/)-2.5 G(usr/ucb)-2.5 E
(.)-.4 E 3.637(Ad)97 259.2 S 1.137(irectory /usr/junk to thro)-3.637 F
3.637(wg)-.25 G 1.137
(arbage into, as well as binary directories /usr/old and /usr/ne)-3.687
F 3.638(wa)-.25 G(re)-3.638 E 6.897(useful. The)72 271.2 R/F2 10
/Times-Italic@0 SF(man)6.897 E F0 4.397
(\(1\) command supports manual directories such as /usr/man/man)1.666 F
F2(n)A F0(for)6.897 E F2(ne)6.897 E(w)-.15 E F0(and)6.897 E
(/usr/man/man)72 283.2 Q F2(l)A F0(for)2.5 E F2(local)2.5 E F0(to mak)
2.5 E 2.5(et)-.1 G(his or something similar practical.)-2.5 E F1 2.5
(6.3. Setting)72 307.2 R(up the mail system)2.5 E F0 .257
(The mail system can be set up in at least tw)97 322.8 R 2.758(ow)-.1 G
2.758(ays. One)-2.858 F(strate)2.758 E .258(gy uses the)-.15 F F2
(delivermail)2.758 E F0 .258(\(8\) program to)1.666 F .302
(sort out netw)72 334.8 R .302
(ork addresses according to the local netw)-.1 F .302(ork topology)-.1 F
5.302(.I)-.65 G 2.802(ti)-5.302 G 2.802(sn)-2.802 G .301
(ot perfect, especially in the light)-2.802 F .368(of changing ARP)72
346.8 R .368(Anet con)-.92 F -.15(ve)-.4 G 2.868(ntions. Ho).15 F(we)
-.25 E -.15(ve)-.25 G 1.168 -.4(r, i).15 H 2.868(fy).4 G .368
(ou use the Berk)-2.868 F(ele)-.1 E 2.868(yn)-.15 G(etw)-2.868 E .368
(ork or are connected directly or)-.1 F .093(indirectly to the ARP)72
358.8 R .093
(Anet, it is probably the method of choice for the time being.)-.92 F
.092(On the other hand, if you)5.092 F .735
(use only local mail and UUCP mail, /bin/mail \()72 370.8 R F2(mail)A F0
.736(\(1\)\) will suf)1.666 F .736(\214ce as a mail deli)-.25 F -.15(ve)
-.25 G(rer).15 E 5.736(.I)-.55 G 3.236(nt)-5.736 G .736(hat case, you)
-3.236 F(will only need to recompile)72 382.8 Q F2(mail)2.5 E F0
(\(1\) and)1.666 E F2(Mail)2.5 E F0(\(1\).)1.666 E
(The entire mail system consists of the follo)97 398.4 Q(wing commands:)
-.25 E 59.71(/bin/mail old)108 422.4 R
(standard mail program \(from V7 or System III\))2.5 E 41.94
(/usr/ucb/Mail UCB)108 434.4 R(mail program, described in Mail\(1\))2.5
E 35.55(/usr/lib/Mail.rc aliases)108 446.4 R(and def)2.5 E
(aults for Mail\(1\))-.1 E(/etc/deli)108 458.4 Q -.15(ve)-.25 G 33.46
(rmail mail).15 F(routing program)2.5 E 19.71(/usr/net/bin/v6mail local)
108 470.4 R(mailman for berknet)2.5 E 35.82(/usr/spool/mail mail)108
482.4 R(spooling directory)2.5 E 12.5(/usr/spool/secretmail secure)108
494.4 R(mail directory)2.5 E 39.16(/usr/bin/xsend secure)108 506.4 R
(mail sender)2.5 E 45.27(/usr/bin/xget secure)108 518.4 R(mail recei)2.5
E -.15(ve)-.25 G(r).15 E 38.05(/usr/lib/aliases mail)108 530.4 R(forw)
2.5 E(arding information for deli)-.1 E -.15(ve)-.25 G(rmail).15 E
(/usr/ucb/ne)108 542.4 Q -.1(wa)-.25 G 17.86(liases command).1 F(to reb)
2.5 E(uild binary forw)-.2 E(arding database)-.1 E .056
(Mail is normally sent and recei)72 566.4 R -.15(ve)-.25 G 2.556(du).15
G .056(sing the)-2.556 F F2(Mail)2.556 E F0 .055
(\(1\) command, which pro)1.666 F .055
(vides a front-end to edit the mes-)-.15 F(sages sent and recei)72 578.4
Q -.15(ve)-.25 G(d, and passes the messages to).15 E F2(delivermail)2.5
E F0(\(8\) or)1.666 E F2(mail)2.5 E F0(\(1\) for routing and/or deli)
1.666 E -.15(ve)-.25 G(ry).15 E(.)-.65 E 1.134(Mail is normally accessi\
ble in the directory /usr/spool/mail and is readable by all users.\207)
97 594 R 2.734 -.8(To s)6.134 H(end).8 E .199(mail which is secure ag)72
606 R .199(ainst an)-.05 F 2.699(yp)-.15 G .199(ossible perusal \(e)
-2.699 F .199(xcept by a code-break)-.15 F .199
(er\) you should use the secret mail)-.1 F -.1(fa)72 618 S(cility).1 E
2.5(,w)-.65 G(hich encrypts the mail so that no one can read it.)-2.5 E
F1 2.5(6.3.1. Setting)72 642 R(up mail and Mail)2.5 E F0 1.87
(Both /bin/mail and /usr/ucb/Mail should be recompiled to mak)97 657.6 R
4.37(el)-.1 G 1.87(ocal v)-4.37 F 4.37(ersions. Remak)-.15 F 4.37(em)-.1
G 1.87(ail in)-4.37 F(/usr/src/cmd with the command)72 669.6 Q .32 LW
144 688.2 72 688.2 DL/F3 8/Times-Roman@0 SF<87>72 696 Q -.88(Yo)2.542 4
O 2.542(uc).88 G .542(an mak)-2.542 F 2.542(ey)-.08 G .543(our mail unr\
eadable by others by changing the mode of the \214le /usr/spool/mail/)
-2.542 F/F4 8/Times-Italic@0 SF(yourname)A F3(to)2.543 E 1.07
(600 and putting the line `)72 710 R 1.07(`set k)-.592 F(eep')-.08 E
3.07('i)-.592 G 3.07(ny)-3.07 G 1.07(our .mailrc \214le.)-3.07 F 1.069
(The directory /usr/spool/mail must not be writable)5.07 F
(\(mode 755\) for this to w)72 720 Q(ork.)-.08 E F0(23 October 1995)
254.395 768 Q EP
%%Page: 33 33
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 86.39
(-33- Recompiling)92.67 F(system softw)2.5 E(are)-.1 E/F1 10
/Times-Bold@0 SF(#)108 84 Q F0(./MAKE \255)2.5 E/F2 10/Times-Italic@0 SF
(cpu)A F0(mail)2.5 E .58(Install the ne)72 102 R 3.08(wb)-.25 G .58
(inary in /bin after testing; it must be setuserid root.)-3.08 F .579
(Section 6.1 gi)5.579 F -.15(ve)-.25 G 3.079(sm).15 G .579
(ore details on the)-3.079 F 2.842(use of the MAKE scripts.)72 114 R
4.442 -.8(To c)7.842 H(on\214gure).8 E F2(Mail)5.342 E F0 5.342(,c)C
2.842(hange directories to /usr/src/ucb/Mail.)-5.342 F 2.843
(Edit the \214le)7.842 F .454(v7.local.h to assign a letter to your mac\
hine with the de\214nition of LOCAL; if you do not ha)72 126 R .753 -.15
(ve a l)-.2 H .453(ocal area).15 F(netw)72 138 Q .976
(ork, the choice is arbitrary as long as you pick an unused letter)-.1 F
5.976(.I)-.55 G 3.477(fy)-5.976 G .977(ou wish to use)-3.477 F F2
(delivermail)3.477 E F0 3.477(,t)C(he)-3.477 E .766
(de\214nition of SENDMAIL should be uncommented.)72 150 R .766
(Then add your machine to the table in con\214g.c; con-)5.766 F .123
(\214gdefs.h gi)72 162 R -.15(ve)-.25 G 2.623(ss).15 G .123
(ome information on this.)-2.623 F .123(The netw)5.123 F .123
(ork \214eld should specify which netw)-.1 F .123(orks \(if an)-.1 F
.124(y\) you are)-.15 F
(connected to \(note: the Schmidt net, SN, is Berknet\).)72 174 Q
(After the changes are made, mo)5 E .3 -.15(ve t)-.15 H 2.5(o/).15 G
(usr/src/ucb and)-2.5 E F1(#)108 192 Q F0(./MAKE \25540 Mail)2.5 E
(\(on a nonseparate I/D machine\))18.25 E(or)113 204 Q F1(#)108 216 Q F0
(./MAKE \25570 Mail)2.5 E(\(on a separate I/D machine\))18.25 E(Install)
72 234 Q F2(Mail)2.837 E F0 .337(in /usr/ucb; it should)2.837 F F1(not)
2.837 E F0 .337(be setuserid.)2.837 F .336
(The Mail.rc \214le in /usr/lib can be used to set up limited)5.337 F
(distrib)72 246 Q(ution lists or aliases if you are not using)-.2 E F2
(delivermail)2.5 E F0(.)A F1 2.5(6.3.2. Setting)72 270 R(up deli)2.5 E
-.1(ve)-.1 G(rmail).1 E F0 1.952 -.8(To s)97 285.6 T .352(et up the).8 F
F2(delivermail)2.852 E F0 -.1(fa)2.852 G .352(cility you should read th\
e instructions in the \214le READ_ME in the direc-).1 F 3.005
(tory /usr/src/ucb/deli)72 297.6 R -.15(ve)-.25 G 3.004
(rmail and then adjust and recompile the).15 F F2(delivermail)5.504 E F0
3.004(program, installing it as)5.504 F(/etc/deli)72 309.6 Q -.15(ve)
-.25 G 3.625(rmail. The).15 F 1.125(routing algorithm uses kno)3.625 F
1.126(wledge of netw)-.25 F 1.126(ork name syntax b)-.1 F 1.126
(uilt into its tables and)-.2 F .657(aliasing and forw)72 321.6 R .657
(arding information b)-.1 F .657
(uilt into the \214le /usr/lib/aliases to process each piece of mail.)
-.2 F(Local)5.656 E .125(mail is deli)72 333.6 R -.15(ve)-.25 G .125
(red by gi).15 F .126(ving it to the program /usr/net/bin/v6mail which \
adds it to the mailbox)-.25 F .126(es in the direc-)-.15 F .27
(tory /usr/spool/mail/)72 345.6 R F2(username)A F0 2.77(,u)C .269
(sing a locking protocol to a)-2.77 F -.2(vo)-.2 G .269
(id problems with simultaneous updates.).2 F -1.1(Yo)5.269 G(u)1.1 E(sh\
ould also set up the \214le /usr/lib/aliases for your installation, cre\
ating mail groups as appropriate.)72 357.6 Q F1 2.5(6.4. Setting)72
381.6 R(up a uucp connection)2.5 E F0 1.132(The v)97 397.2 R 1.132
(ersion of)-.15 F F2(uucp)3.632 E F0 1.132
(included in 2.9BSD is an enhanced v)3.632 F 1.132
(ersion of that originally distrib)-.15 F 1.132(uted with)-.2 F 2.5
(V7*. The)72 409.2 R(enhancements include:)2.5 E 11.5<8373>72 424.8 S
(upport for man)-11.5 E 2.5(ya)-.15 G
(uto call units other than the DEC DN11,)-2.5 E 11.5<8362>72 440.4 S
(reakup of the spooling area into multiple subdirectories,)-11.5 E 11.5
<8361>72 456 S(ddition of an)-11.5 E F2(L.cmds)2.5 E F0
(\214le to control the set of commands which may be e)2.5 E -.15(xe)-.15
G(cuted by a remote site,).15 E 11.5<8365>72 471.6 S(nhanced `)-11.5 E
(`e)-.74 E(xpect-send')-.15 E 2.5('s)-.74 G
(equence capabilities when logging in to a remote site,)-2.5 E 11.5
<836e>72 487.2 S .5 -.25(ew c)-11.5 H
(ommands to be used in polling sites and obtaining snap shots of).25 E
F2(uucp)2.5 E F0(acti)2.5 E(vity)-.25 E(.)-.65 E(This section gi)72
502.8 Q -.15(ve)-.25 G 2.5(sab).15 G(rief o)-2.5 E -.15(ve)-.15 G(rvie)
.15 E 2.5(wo)-.25 G(f)-2.5 E F2(uucp)2.5 E F0
(and points out the most important steps in its installation.)2.5 E
1.669 -.8(To c)97 518.4 T .069(onnect tw).8 F 2.569(oU)-.1 G .069
(NIX machines with a)-2.569 F F2(uucp)2.569 E F0(netw)2.569 E .07
(ork link using modems, one site must ha)-.1 F .37 -.15(ve a)-.2 H 2.57
(na).15 G(uto-)-2.57 E(matic call unit and the other must ha)72 530.4 Q
.3 -.15(ve a d)-.2 H(ialup port.).15 E(It is better if both sites ha)5 E
.3 -.15(ve b)-.2 H(oth.).15 E -1.1(Yo)97 546 S 2.755(us)1.1 G .255
(hould \214rst read the paper in v)-2.755 F .254
(olume 2B of the Unix Programmers Manual: `)-.2 F .254
(`Uucp Implementa-)-.74 F .375(tion Description')72 558 R 2.875('. It)
-.74 F .375(describes in detail the \214le formats and con)2.875 F -.15
(ve)-.4 G .375(ntions, and will gi).15 F .676 -.15(ve y)-.25 H .376
(ou a little conte).15 F(xt.)-.15 E 1.198(In addition, the document set\
up.tblms, located in the directory /usr/src/usr)72 570 R(.bin/uucp/UU)
-.55 E 1.198(AIDS, may be of)-.4 F(use in tailoring the softw)72 582 Q
(are to your needs.)-.1 E(The)97 597.6 Q F2(uucp)3.803 E F0 1.303(suppo\
rt is located in three major directories: /usr/bin, /usr/lib/uucp, and \
/usr/spool/uucp.)3.803 F .43(User commands are k)72 609.6 R .43(ept in \
/usr/bin, operational commands in /usr/lib/uucp, and /usr/spool/uucp is\
 used as)-.1 F 2.5(as)72 621.6 S(pooling area.)-2.5 E
(The commands in /usr/bin are:)5 E .32 LW 144 698.2 72 698.2 DL/F3 8
/Times-Roman@0 SF 2.429(*T)72 710 S(he)-2.429 E/F4 8/Times-Italic@0 SF
(uucp)2.429 E F3 .429(included in this distrib)2.429 F .428
(ution is the result of w)-.16 F .428(ork by man)-.08 F 2.428(yp)-.12 G
.428(eople; we gratefully ackno)-2.428 F .428(wledge their)-.2 F
(contrib)72 720 Q(utions, b)-.16 E
(ut refrain from mentioning names in the interest of k)-.16 E
(eeping this document current.)-.08 E F0(23 October 1995)254.395 768 Q
EP
%%Page: 34 34
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 86.39
(-34- Recompiling)92.67 F(system softw)2.5 E(are)-.1 E 31.38
(/usr/bin/uucp \214le-cop)108 84 R 2.5(yc)-.1 G(ommand)-2.5 E 35.82
(/usr/bin/uux remote)108 96 R -.15(exe)2.5 G(cution command).15 E 22.49
(/usr/bin/uusend binary)108 108 R(\214le transfer using mail)2.5 E 12.5
(/usr/bin/uuencode binary)108 120 R(\214le encoder \(for)2.5 E/F1 10
/Times-Italic@0 SF(uusend)2.5 E F0(\))A 12.5(/usr/bin/uudecode binary)
108 132 R(\214le decoder \(for)2.5 E F1(uusend)2.5 E F0(\))A 28.04
(/usr/bin/uulog scans)108 144 R(session log \214les)2.5 E 22.49
(/usr/bin/uusnap gi)108 156 R -.15(ve)-.25 G 2.5(sas).15 G(nap-shot of)
-2.5 E F1(uucp)2.5 E F0(acti)2.5 E(vity)-.25 E 25.26
(/usr/bin/uupoll polls)108 168 R(remote system until an answer is recei)
2.5 E -.15(ve)-.25 G(d).15 E
(The important \214les and commands in /usr/lib/uucp are:)72 192 Q
(/usr/lib/uucp/L-de)108 216 Q 20.53(vices list)-.25 F
(of dialers and hardwired lines)2.5 E 12.5
(/usr/lib/uucp/L-dialcodes dialcode)108 228 R(abbre)2.5 E(viations)-.25
E 29.99(/usr/lib/uucp/L.cmds commands)108 240 R(remote sites may e)2.5 E
-.15(xe)-.15 G(cute).15 E 38.32(/usr/lib/uucp/L.sys systems)108 252 R
(to communicate with, ho)2.5 E 2.5(wt)-.25 G 2.5(oc)-2.5 G
(onnect, and when)-2.5 E 35.26(/usr/lib/uucp/SEQF sequence)108 264 R
(numbering control \214le)2.5 E 13.04(/usr/lib/uucp/USERFILE remote)108
276 R(site pathname access speci\214cations)2.5 E 28.61
(/usr/lib/uucp/uuclean cleans)108 288 R(up g)2.5 E
(arbage \214les in spool area)-.05 E(/usr/lib/uucp/uucico)108 300 Q F1
(uucp)35.55 E F0(protocol daemon)2.5 E(/usr/lib/uucp/uuxqt)108 312 Q F1
(uucp)39.43 E F0(remote e)2.5 E -.15(xe)-.15 G(cution serv).15 E(er)-.15
E(while the spooling area contains the follo)72 336 Q
(wing important \214les and directories:)-.25 E 54
(/usr/spool/uucp/C. directory)108 360 R(for command, `)2.5 E(`C.)-.74 E
1.48 -.74('' \214)-.7 H(les).74 E 53.45(/usr/spool/uucp/D. directory)108
372 R(for data, `)2.5 E(`D.)-.74 E -.74('')-.7 G 2.5<2c8c>.74 G(les)-2.5
E 53.45(/usr/spool/uucp/X. directory)108 384 R(for command e)2.5 E -.15
(xe)-.15 G(cution, `).15 E(`X.)-.74 E -.74('')-.7 G 2.5<2c8c>.74 G(les)
-2.5 E(/usr/spool/uucp/D.)108 396 Q F1(mac)A(hine)-.15 E F0
(directory for local `)22.22 E(`D.)-.74 E 1.48 -.74('' \214)-.7 H(les)
.74 E(/usr/spool/uucp/D.)108 408 Q F1(mac)A(hine)-.15 E F0 15(Xd)C
(irectory for local `)-15 E(`X.)-.74 E 1.48 -.74('' \214)-.7 H(les).74 E
45.67(/usr/spool/uucp/TM. directory)108 420 R(for temporary)2.5 E 2.5
(,`)-.65 G(`TM.)-3.24 E -.74('')-.7 G 2.5<2c8c>.74 G(les)-2.5 E 21.51
(/usr/spool/uucp/LOGFILE log)108 432 R(\214le of)2.5 E F1(uucp)2.5 E F0
(acti)2.5 E(vity)-.25 E 24.28(/usr/spool/uucp/SYSLOG log)108 444 R
(\214le of)2.5 E F1(uucp)2.5 E F0(\214le transfers)2.5 E 3.532 -.8(To i)
97 471.6 T(nstall).8 E F1(uucp)4.433 E F0 1.933(on your system, start b\
y selecting a site name \(less than 8 characters\).)4.433 F(A)6.933 E F1
(uucp)4.433 E F0 .494(account must be created in the passw)72 483.6 R
.494(ord \214le and a passw)-.1 F .494(ord set up.)-.1 F .494
(Then, create the appropriate spooling)5.494 F
(directories with mode 755 and o)72 495.6 Q(wned by user)-.25 E F1(uucp)
2.5 E F0 2.5(,g)C(roup)-2.5 E F1(daemon)2.5 E F0(.)A .08(If you ha)97
511.2 R .38 -.15(ve a)-.2 H 2.58(na).15 G .081
(uto-call unit, the L.sys, L-dialcodes, and L-de)-2.58 F .081
(vices \214les should be created.)-.25 F .081(The L.sys)5.081 F .649(\
\214le should contain the phone numbers and login sequences required to\
 establish a connection with a)72 523.2 R F1(uucp)3.149 E F0
(daemon on another machine.)72 535.2 Q -.15(Fo)5 G 2.5(re).15 G
(xample, our L.sys \214le looks something lik)-2.65 E(e:)-.1 E
(adiron An)108 553.2 Q 2.5(yA)-.15 G(CU 1200 out0123456789- ogin-EO)-2.9
E -.92(T-)-.4 G(ogin uucp).92 E(cbosg Ne)108 565.2 Q -.15(ve)-.25 G 2.5
(rS).15 G(la)-2.5 E .3 -.15(ve 3)-.2 H(00).15 E(cbosgd Ne)108 577.2 Q
-.15(ve)-.25 G 2.5(rS).15 G(la)-2.5 E .3 -.15(ve 3)-.2 H(00).15 E
(chico Ne)108 589.2 Q -.15(ve)-.25 G 2.5(rS).15 G(la)-2.5 E .3 -.15
(ve 1)-.2 H(200 out2010123456).15 E .908(The \214rst \214eld is the nam\
e of a site, the second indicates when the machine may be called, the t\
hird \214eld)72 607.2 R .145(speci\214es ho)72 619.2 R 2.645(wt)-.25 G
.144(he host is connected \(through an A)-2.645 F .144
(CU, a hardwired line, etc.\), then comes the phone number)-.4 F .644(t\
o use in connecting through an auto-call unit, and \214nally a login se\
quence.)72 631.2 R .644(The phone number may con-)5.644 F .343
(tain common abbre)72 643.2 R .343
(viations which are de\214ned in the L-dialcodes \214le.)-.25 F .343
(The de)5.343 F .342(vice speci\214cation should refer)-.25 F .533
(to de)72 655.2 R .533(vices speci\214ed in the L-de)-.25 F .533
(vices \214le.)-.25 F .533(Indicating only A)5.533 F .533(CU causes the)
-.4 F F1(uucp)3.033 E F0(daemon,)3.033 E F1(uucico)3.033 E F0 3.034(,t)C
3.034(os)-3.034 G(earch)-3.034 E(for an)72 667.2 Q 2.5(ya)-.15 G -.25
(va)-2.7 G(ilable auto-call unit in L-de).25 E 2.5(vices. Our)-.25 F
(L-dialcodes \214le is of the form:)2.5 E(ucb 2)108 685.2 Q(out 9%)108
697.2 Q(while our L-de)72 715.2 Q(vices \214le is:)-.25 E
(23 October 1995)254.395 768 Q EP
%%Page: 35 35
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 86.39
(-35- Recompiling)92.67 F(system softw)2.5 E(are)-.1 E -.4(AC)108 84 S
2.5(Uc).4 G(ul0 unused 1200 v)-2.5 E(entel)-.15 E
(Refer to the README \214le in the)72 102 Q/F1 10/Times-Italic@0 SF
(uucp)2.5 E F0
(source directory for more information about installation.)2.5 E(As)97
117.6 Q F1(uucp)6.776 E F0 4.276(operates it creates \(and remo)6.776 F
-.15(ve)-.15 G 4.275(s\) man).15 F 6.775(ys)-.15 G 4.275
(mall \214les in the directories underneath)-6.775 F 2.56
(/usr/spool/uucp. Sometimes)72 129.6 R .06
(\214les are left undeleted; these are most easily pur)2.56 F .06
(ged with the)-.18 F F1(uuclean)2.56 E F0(program.)2.56 E 1.08
(The log \214les can gro)72 141.6 R 3.58(ww)-.25 G 1.08
(ithout bound unless trimmed back;)-3.58 F F1(uulo)3.579 E(g)-.1 E F0
1.079(is used to maintain these \214les.)3.579 F(Man)6.079 E(y)-.15 E
3.372(useful aids in maintaining your)72 153.6 R F1(uucp)5.872 E F0
3.372(installation are included in a subdirectory UU)5.872 F 3.373
(AIDS beneath)-.4 F(/usr/src/usr)72 165.6 Q 2.5(.bin/uucp. Peruse)-.55 F
(this directory and read the `)2.5 E(`setup')-.74 E 2.5('i)-.74 G
(nstructions also located there.)-2.5 E/F2 10/Times-Bold@0 SF 2.5
(6.5. Miscellaneous)72 189.6 R(softwar)2.5 E(e)-.18 E F0 .451(The direc\
tory /usr/contrib contains programs and packages that you may wish to i\
nstall on your sys-)97 205.2 R 2.607(tem. Some)72 217.2 R .108
(were directly contrib)2.607 F 2.608(uted; others)-.2 F .108
(were collected from the)2.608 F F1(usenet)2.608 E F0(ne)2.608 E .108
(ws group)-.25 F F1(net.sour)2.608 E(ces)-.37 E F0 5.108(.A)C(lso,)
-5.108 E 1.323(some programs or libraries in other directories are suf)
72 229.2 R 1.322(\214ciently unique to be note)-.25 F -.1(wo)-.25 G(rth)
.1 E 5.122 -.65(y. H)-.05 H 1.322(ere is a brief).65 F(summary)72 241.2
Q(.)-.65 E F2 2.5(6.5.1. A)72 265.2 R(pe)-.25 E F1(Ape)97 280.8 Q F0(\()
3.876 E F1(A)A F0(rbitrary)A F1(P)3.876 E F0(recision)A F1(E)3.876 E F0
1.377(xtended\) is a replacement for the multiple precision arithmetic \
routines)B(\()72 292.8 Q F1(mp)A F0 2.5(\(3\)\). It)1.666 F(is much f)
2.5 E(aster and contains numerous b)-.1 E(ug \214x)-.2 E(es.)-.15 E F2
2.5(6.5.2. L11,)72 316.8 R(M11)2.5 E F1(M11)97 332.4 Q F0 1.295
(is a Macro-11 assembler)3.795 F 6.295(.I)-.55 G 3.795(tr)-6.295 G 1.295
(ecognizes and emulates almost all of the directi)-3.795 F -.15(ve)-.25
G 3.794(so).15 G 3.794(fs)-3.794 G(tandard)-3.794 E
(DEC Macro-11 assemblers.)72 344.4 Q F1(L11)5 E F0(is its loader)2.5 E
(.)-.55 E F2 2.5(6.5.3. J)72 368.4 R -.1(ove)-.15 G F1 -2.1 -.25(Jo v)97
384 T(e).25 E F0(\()3.009 E F1(J)A F0(onathan')A(s)-.55 E F1(O)3.009 E
F0(wn)A F1(V)3.009 E F0 .509(ersion of)B F1(E)3.009 E F0(MA)A .509
(CS\) is an EMA)-.4 F .509(CS style editor de)-.4 F -.15(ve)-.25 G .51
(loped at Lincoln Sudb).15 F(ury)-.2 E(Re)72 396 Q(gional High School.)
-.15 E F2 2.5(6.5.4. K)72 420 R(er)-.25 E(nel scheduler modi\214cations)
-.15 E F0 2.795(The scheduler modi\214cations made by Darwyn Peache)97
435.6 R 5.295(ya)-.15 G 5.295(tt)-5.295 G 2.795(he Uni)-5.295 F -.15(ve)
-.25 G 2.795(rsity of Saskatche).15 F -.1(wa)-.25 G 5.295(na).1 G(re)
-5.295 E .16(included here b)72 447.6 R .16(ut ha)-.2 F .46 -.15(ve n)
-.2 H .16(ot been incorporated into the distrib).15 F .161(ution k)-.2 F
.161(ernel \(although it w)-.1 F .161(ould not be hard\).)-.1 F(It)5.161
E(impro)72 459.6 Q -.15(ve)-.15 G 3.157(st).15 G .657
(he response of interacti)-3.157 F .957 -.15(ve j)-.25 H .657
(obs and pro).15 F .657(vides a real time f)-.15 F .657(acility dif)-.1
F .657(ferent from the one currently)-.25 F(implemented.)72 471.6 Q F2
2.5(6.5.5. News)72 495.6 R F0 .99(The netw)97 511.2 R .99(ork b)-.1 F
.99(ulletin board system de)-.2 F -.15(ve)-.25 G .99(loped at Duk).15 F
3.49(eU)-.1 G(ni)-3.49 E -.15(ve)-.25 G .99(rsity and the Uni).15 F -.15
(ve)-.25 G .99(rsity of North Car).15 F(-)-.2 E(olina and since hea)72
523.2 Q(vily modi\214ed at Berk)-.2 E(ele)-.1 E -.65(y.)-.15 G F2 2.5
(6.5.6. Notes)72 547.2 R F0 1.642(The netw)97 562.8 R 1.642(ork b)-.1 F
1.642(ulletin board system de)-.2 F -.15(ve)-.25 G 1.642
(loped at the Uni).15 F -.15(ve)-.25 G 1.641(rsity of Illinois.).15 F
1.641(This v)6.641 F 1.641(ersion contains)-.15 F(man)72 574.8 Q 2.5(ye)
-.15 G(nhancements and clean)-2.5 E F1(ne)2.5 E(ws)-.15 E F0(interf)2.5
E(aces.)-.1 E F2 2.5(6.5.7. Ranm)72 598.8 R F1(Ranm)97 614.4 Q F0
(is a f)2.5 E(ast uniform pseudorandom number generator package de)-.1 E
-.15(ve)-.25 G(loped at Berk).15 E(ele)-.1 E -.65(y.)-.15 G
(23 October 1995)254.395 768 Q EP
%%Page: 36 36
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 133.23
(-36- System)92.67 F(Operation)2.5 E/F1 12/Times-Bold@0 SF
(7. SYSTEM OPERA)220.062 84 Q(TION)-1.14 E F0 1.47(This section describ\
es procedures used to operate a PDP-11 UNIX system.)97 123.6 R 1.47
(Procedures described)6.47 F 1.33(here are used periodically)72 135.6 R
3.83(,t)-.65 G 3.83(or)-3.83 G 1.329
(eboot the system, analyze error messages from de)-3.83 F 1.329
(vices, do disk backups,)-.25 F
(monitor system performance, recompile system softw)72 147.6 Q
(are and control local changes.)-.1 E/F2 10/Times-Bold@0 SF 2.5
(7.1. Bootstrap)72 171.6 R(and shutdo)2.5 E(wn pr)-.1 E(ocedur)-.18 E
(es)-.18 E F0 1.313(The system boot procedure v)97 187.2 R 1.313
(aries with the hardw)-.25 F 1.313(are con\214guration, b)-.1 F 1.313
(ut generally uses the console)-.2 F .307(emulator or a R)72 199.2 R
.306(OM routine to boot one of the disks.)-.4 F .306
(/boot comes up and prompts \(with `)5.306 F .306(`: ')-.74 F .306
('\) for the name)-.74 F .396(of the system to load.)72 211.2 R .396
(Simply hitting a carriage return will load the def)5.396 F .396
(ault system.)-.1 F .397(The system will come)5.396 F .806
(up with a single-user shell on the console.)72 223.2 R 2.406 -.8(To b)
5.806 H .805
(ring the system up to a multi-user con\214guration from the).8 F .778
(single-user status, all you ha)72 235.2 R 1.078 -.15(ve t)-.2 H 3.278
(od).15 G 3.278(oi)-3.278 G 3.278(sh)-3.278 G .778
(it ^D on the console \(you should check and, if necessary)-3.278 F
3.278(,s)-.65 G .778(et the)-3.278 F .548
(date before going multiuser; see)72 247.2 R/F3 10/Times-Italic@0 SF
(date)3.048 E F0 3.048(\(1\)\). The)1.666 F .548(system will then e)
3.048 F -.15(xe)-.15 G .547(cute /etc/rc, a multi-user restart script,)
.15 F .719(and come up on the terminals listed as acti)72 259.2 R 1.019
-.15(ve i)-.25 H 3.219(nt).15 G .719(he \214le /etc/ttys.)-3.219 F(See)
5.72 E F3(init)3.22 E F0 .72(\(8\) and)1.666 F F3(ttys)3.22 E F0 3.22
(\(5\). Note,)1.666 F(ho)3.22 E(we)-.25 E -.15(ve)-.25 G -.4(r,).15 G
.84(that this does not cause a \214le system check to be performed.)72
271.2 R .839(Unless the system w)5.839 F .839(as tak)-.1 F .839(en do)
-.1 F .839(wn cleanly)-.25 F(,)-.65 E(you should run `)72 283.2 Q
(`fsck \255p')-.74 E 2.5('o)-.74 G 2.5(rf)-2.5 G(orce a reboot with)-2.5
E F3 -.37(re)2.5 G(boot).37 E F0(\(8\) to ha)1.666 E .3 -.15(ve t)-.2 H
(he disks check).15 E(ed.)-.1 E .479(In an automatic reboot, the system\
 checks the disks and comes up multi-user without interv)97 298.8 R .48
(ention at)-.15 F .123(the console.)72 310.8 R .123
(If the \214le system check f)5.123 F .123(ails, or is interrupted \(af\
ter it prints the date\) from the console when a)-.1 F .103
(delete/rubout is hit, it will lea)72 322.8 R .403 -.15(ve t)-.2 H .103
(he system in special-session mode, allo).15 F .103
(wing root to log in on one of a lim-)-.25 F 1.743(ited number of termi\
nals \(generally including a dialup\) to repair \214le systems, etc.)72
334.8 R 1.742(The system is then)6.742 F(brought to normal multiuser op\
erations by signaling init with a SIGINT signal \(with `)72 346.8 Q
(`kill \255INT 1')-.74 E('\).)-.74 E 1.6 -.8(To t)97 362.4 T(ak).8 E 2.5
(et)-.1 G(he system do)-2.5 E(wn to a single user state you can use)-.25
E F2(#)108 380.4 Q F0(kill 1)2.5 E .423(or use the)72 398.4 R F3
(shutdown)2.923 E F0 .424(\(8\) command \(which is much more polite if \
there are other users logged in\) when you)1.666 F .509
(are up multi-user)72 410.4 R 5.509(.E)-.55 G .509
(ither command will kill all processes and gi)-5.509 F .808 -.15(ve y)
-.25 H .508(ou a shell on the console, almost as if).15 F 1.187
(you had just booted.)72 422.4 R 1.187
(File systems remain mounted after the system is tak)6.187 F 1.187
(en single-user)-.1 F 6.187(.I)-.55 G 3.687(fy)-6.187 G 1.187
(ou wish to)-3.687 F(come up multi-user ag)72 434.4 Q
(ain, you should do this by:)-.05 E F2(#)108 452.4 Q F0(cd /)2.5 E F2(#)
108 464.4 Q F0(/etc/umount \255a)2.5 E F2(#)108 476.4 Q F0(^D)2.5 E .345
(The system can also be halted or rebooted with)72 494.4 R F3 -.37(re)
2.845 G(boot).37 E F0 .344(\(8\) if automatic reboots are enabled.)1.666
F .344(Otherwise, the)5.344 F .925(system is halted by switching to sin\
gle-user mode to kill all processes, updating the disks with a `)72
506.4 R(`sync')-.74 E(')-.74 E(command, and then halting.)72 518.4 Q
.389(Each system shutdo)97 534 R .388(wn, crash, processor halt and reb\
oot is recorded in the \214le /usr/adm/shutdo)-.25 F(wnlog)-.25 E
(with the cause.)72 546 Q F2 2.5(7.2. De)72 570 R(vice err)-.15 E
(ors and diagnostics)-.18 E F0 .062(When errors occur on peripherals or\
 in the system, the system prints a w)97 585.6 R .063
(arning diagnostic on the con-)-.1 F 2.926(sole. These)72 597.6 R .426
(messages are collected re)2.926 F .426(gularly and written into a syst\
em error log \214le /usr/adm/messages by)-.15 F F3(dmesg)72 609.6 Q F0
(\(8\).)1.666 E .486(Error messages printed by the de)97 625.2 R .486
(vices in the system are described with the dri)-.25 F -.15(ve)-.25 G
.486(rs for the de).15 F .486(vices in)-.25 F 1.064
(section 4 of the Berk)72 637.2 R(ele)-.1 E(y)-.15 E/F4 8/Times-Roman@0
SF(PDP-11)3.564 E F0 1.064(UNIX Programmer')3.564 F 3.564(sm)-.55 G
3.564(anual. If)-3.564 F 1.064(errors occur indicating hardw)3.564 F
1.063(are prob-)-.1 F 1.07(lems, you should contact your hardw)72 649.2
R 1.07(are support group or \214eld service.)-.1 F 1.07
(It is a good idea to e)6.07 F 1.07(xamine the)-.15 F
(error log \214le re)72 661.2 Q(gularly \(e.g. with `)-.15 E
(`tail \255r /usr/adm/messages')-.74 E('\).)-.74 E .432(If you ha)97
676.8 R -.15(ve)-.2 G F4(DEC)3.081 E F0 .431(\214eld service, the)2.931
F 2.931(ys)-.15 G .431(hould kno)-2.931 F 2.931(wh)-.25 G .931 -.25
(ow t)-2.931 H 2.931(oi).25 G .431(nterpret these messages.)-2.931 F
.431(If the)5.431 F 2.931(yd)-.15 G 2.931(on)-2.931 G .431(ot, tell)
-2.931 F(them to contact the)72 688.8 Q F4 .5(DEC UNIX)2.5 F F0
(Engineering Group.)2.5 E(23 October 1995)254.395 768 Q EP
%%Page: 37 37
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 133.23
(-37- System)92.67 F(Operation)2.5 E/F1 10/Times-Bold@0 SF 2.5
(7.3. File)72 84 R(system checks, backups and disaster r)2.5 E(eco)-.18
E -.1(ve)-.1 G(ry).1 E F0 1.133(Periodically \(say e)97 99.6 R -.15(ve)
-.25 G 1.133(ry week or so in the absence of an).15 F 3.634(yp)-.15 G
1.134(roblems\) and al)-3.634 F -.1(wa)-.1 G 1.134
(ys \(usually automati-).1 F .902
(cally\) after a crash, all the \214le systems should be check)72 111.6
R .902(ed for consistenc)-.1 F 3.402(yb)-.15 G(y)-3.402 E/F2 10
/Times-Italic@0 SF(fsc)3.402 E(k)-.2 E F0 3.402(\(8\). The)1.666 F .902
(procedures of)3.402 F F2(boot)72 123.6 Q F0 .039(\(8\) or)1.666 F F2
-.37(re)2.539 G(boot).37 E F0 .039(\(8\) should be used to get the syst\
em to a state where a \214le system check can be performed)1.666 F
(manually or automatically)72 135.6 Q(.)-.65 E 1.068
(Dumping of the \214le systems should be done re)97 151.2 R(gularly)-.15
E 3.567(,s)-.65 G 1.067(ince once the system is going it is easy to)
-3.567 F .308(become complacent.)72 163.2 R .309
(Complete and incremental dumps are easily done with)5.308 F F2(dump)
2.809 E F0 2.809(\(8\). Y)1.666 F .309(ou should arrange)-1.1 F .347
(to do a to)72 175.2 R .346(wers-of-Hanoi dump sequence; we tune ours s\
o that almost all \214les are dumped on tw)-.25 F 2.846(ot)-.1 G .346
(apes and)-2.846 F -.1(ke)72 187.2 S .005
(pt for at least a week in almost e).1 F -.15(ve)-.25 G .005(ry case.)
.15 F 1.605 -.8(We t)5.005 H(ak).8 E 2.505(ef)-.1 G .005(ull dumps e)
-2.505 F -.15(ve)-.25 G .006(ry month \(and k).15 F .006
(eep these inde\214nitely\).)-.1 F .905
(Dumping of \214les by name is best done by)97 202.8 R F2(tar)3.404 E F0
.904(\(1\) b)1.666 F .904(ut the amount of data that can be mo)-.2 F
-.15(ve)-.15 G 3.404(di).15 G 3.404(nt)-3.404 G(his)-3.404 E -.1(wa)72
214.8 S 3.356(yi).1 G 3.356(sl)-3.356 G .856(imited to a single tape.)
-3.356 F(Finally)5.856 E 3.356(,i)-.65 G 3.356(ft)-3.356 G .856
(here are enough dri)-3.356 F -.15(ve)-.25 G .856
(s, entire disks can be copied with).15 F F2(dd)3.356 E F0(\(1\))1.666 E
(using the ra)72 226.8 Q 2.5(ws)-.15 G
(pecial \214les and an appropriate block size.)-2.5 E .251
(It is desirable that full dumps of the root \214le system are made re)
97 242.4 R(gularly)-.15 E 5.251(.T)-.65 G .251
(his is especially true when)-5.251 F .514(only one disk is a)72 254.4 R
-.25(va)-.2 G 3.014(ilable. Then,).25 F .514
(if the root \214le system is damaged by a hardw)3.014 F .515
(are or softw)-.1 F .515(are f)-.1 F .515(ailure, you)-.1 F .101
(can reb)72 266.4 R .101(uild a w)-.2 F .101
(orkable disk using a standalone restore in the same w)-.1 F .101
(ay that)-.1 F F2 -.37(re)2.601 G(stor).37 E F0 -.1(wa)2.601 G 2.601(su)
.1 G .101(sed to b)-2.601 F .101(uild the ini-)-.2 F
(tial root \214le system.)72 278.4 Q .741(Exhaustion of user)97 294 R
.741(-\214le space is certain to occur no)-.2 F 3.241(wa)-.25 G .742
(nd then; the only mechanisms for controlling)-3.241 F .164
(this phenomenon are occasional use of)72 306 R F2(df)2.664 E F0(\(1\),)
1.666 E F2(du)2.664 E F0(\(1\),)1.666 E F2(quot)2.664 E F0 .164
(\(8\), threatening messages of the day)1.666 F 2.664(,p)-.65 G .164
(ersonal let-)-2.664 F
(ters, and \(probably as a last resort\) quotas \(see)72 318 Q F2
(setquota)2.5 E F0(\(8\)\).)1.666 E F1 2.5(7.4. Mo)72 342 R
(ving \214le system data)-.1 E F0 1.929(If you ha)97 357.6 R 2.229 -.15
(ve t)-.2 H 1.929(he equipment, the best w).15 F 1.929(ay to mo)-.1 F
2.229 -.15(ve a \214)-.15 H 1.93
(le system is to dump it to magtape using).15 F F2(dump)72 369.6 Q F0
.799(\(8\), to use)1.666 F F2(mkfs)3.299 E F0 .799
(\(8\) to create the ne)1.666 F 3.299<778c>-.25 G .798
(le system, and restore, using)-3.299 F F2 -.37(re)3.298 G(stor).37 E F0
.798(\(8\), the tape.)1.666 F .798(If for some)5.798 F .123
(reason you don')72 381.6 R 2.624(tw)-.18 G .124
(ant to use magtape, dump accepts an ar)-2.724 F .124
(gument telling where to put the dump; you might)-.18 F .482
(use another disk.)72 393.6 R .481(Sometimes a \214le system has to be \
increased in logical size without cop)5.482 F 2.981(ying. The)-.1 F
(super)2.981 E(-)-.2 E .851(block of the de)72 405.6 R .851
(vice has a w)-.25 F .851(ord gi)-.1 F .851
(ving the highest address that can be allocated.)-.25 F -.15(Fo)5.851 G
3.351(rs).15 G .852(mall increases, this)-3.351 F -.1(wo)72 417.6 S
1.448(rd can be patched using the deb).1 F(ugger)-.2 E F2(adb)3.947 E F0
1.447(\(1\) and the free list reconstructed using)1.666 F F2(fsc)3.947 E
(k)-.2 E F0 3.947(\(8\). The)1.666 F(size)3.947 E 1.101(should not be i\
ncreased greatly by this technique, since the \214le system will then b\
e short of inode slots.)72 429.6 R
(Read and understand the description gi)72 441.6 Q -.15(ve)-.25 G 2.5
(ni).15 G(n)-2.5 E F2(\214lsys)2.5 E F0
(\(5\) before playing around in this w)1.666 E(ay)-.1 E(.)-.65 E .056
(If you ha)97 457.2 R .356 -.15(ve t)-.2 H 2.556(om).15 G(er)-2.556 E
.056(ge a \214le system into another)-.18 F 2.556(,e)-.4 G .056
(xisting one, the best bet is to use)-2.706 F F2(tar)2.556 E F0 2.556
(\(1\). If)1.666 F .055(you must)2.555 F .777(shrink a \214le system, t\
he best bet is to dump the original and restor it onto the ne)72 469.2 R
3.278<778c>-.25 G .778(le system.)-3.278 F(Ho)5.778 E(we)-.25 E -.15(ve)
-.25 G -.4(r,).15 G .161(this will not w)72 481.2 R .161(ork if the i-l\
ist on the smaller \214le system is smaller than the maximum allocated \
inode on the)-.1 F(lar)72 493.2 Q(ger)-.18 E 6.21(.I)-.55 G 3.71(ft)
-6.21 G 1.211(his is the case, reconstruct the \214le system from scrat\
ch on another \214le system \(perhaps using)-3.71 F F2(tar)72 505.2 Q F0
.03(\(1\)\) and then dump it.)1.666 F .03
(If you are playing with the root \214le system and only ha)5.03 F .329
-.15(ve o)-.2 H .029(ne dri).15 F .329 -.15(ve t)-.25 H .029
(he procedure).15 F(is more complicated.)72 517.2 Q
(What you do is the follo)5 E(wing:)-.25 E 15(1. GET)72 532.8 R 2.5(AS)
2.5 G(ECOND P)-2.5 E -.4(AC)-.92 G(K!!!!).4 E 15(2. Dump)72 548.4 R
(the root \214le system to tape using)2.5 E F2(dump)2.5 E F0(\(8\).)
1.666 E 15(3. Bring)72 564 R(the system do)2.5 E(wn and mount the ne)
-.25 E 2.5(wp)-.25 G(ack.)-2.5 E 15(4. Load)72 579.6 R(the standalone v)
2.5 E(ersions of)-.15 E F2(mkfs)2.5 E F0(\(8\) and)1.666 E F2 -.37(re)
2.5 G(stor).37 E F0(\(8\) as in sections 2.1-2.3 abo)1.666 E -.15(ve)
-.15 G(.).15 E 15(5. Boot)72 595.2 R(normally using the ne)2.5 E
(wly created disk \214le system.)-.25 E 2.503(Note that if you add ne)97
610.8 R 5.003(wd)-.25 G 2.503(isk dri)-5.003 F -.15(ve)-.25 G 2.503
(rs the).15 F 5.004(ys)-.15 G 2.504
(hould also be added to the standalone system in)-5.004 F
(/usr/src/sys/stand.)72 622.8 Q F1 2.5(7.5. Monitoring)72 646.8 R
(System P)2.5 E(erf)-.2 E(ormance)-.25 E F0(The)97 662.4 Q F2(iostat)
3.649 E F0 1.149(\(8\) and)1.666 F F2(vmstat)3.649 E F0 1.149
(\(8\) programs pro)1.666 F 1.148
(vided with the system are designed to aid in monitoring)-.15 F .502
(systemwide acti)72 674.4 R(vity)-.25 E 5.503(.B)-.65 G 3.003(yr)-5.503
G .503(unning them when the system is acti)-3.003 F .803 -.15(ve y)-.25
H .503(ou can judge the system acti).15 F .503(vity in se)-.25 F(v-)-.25
E .019(eral dimensions: job distrib)72 686.4 R .019
(ution, virtual memory load, sw)-.2 F .018(apping acti)-.1 F(vity)-.25 E
2.518(,d)-.65 G .018(isk and CPU utilization.)-2.518 F(Ideally)5.018 E
(,)-.65 E .711(there should be fe)72 698.4 R 3.212(wb)-.25 G(lock)-3.212
E .712(ed \(D)-.1 F .712(W\) jobs, there should be little sw)-.3 F .712
(apping acti)-.1 F(vity)-.25 E 3.212(,t)-.65 G .712(here should be a)
-3.212 F -.25(va)-.2 G(ilable).25 E .618(bandwidth on the disk de)72
710.4 R .618(vices \(most single arms peak out at 30-35 tps in practice\
\), and the user CPU uti-)-.25 F(lization \(US\) should be high \(abo)72
722.4 Q .3 -.15(ve 6)-.15 H(0%\).).15 E(23 October 1995)254.395 768 Q EP
%%Page: 38 38
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 133.23
(-38- System)92.67 F(Operation)2.5 E .417(If the system is b)97 84 R
(usy)-.2 E 2.917(,t)-.65 G .417(hen the count of acti)-2.917 F .717 -.15
(ve j)-.25 H .417(obs may be lar).15 F .417(ge, and se)-.18 F -.15(ve)
-.25 G .417(ral of these jobs may often).15 F(be block)72 96 Q(ed \(D)
-.1 E(W\).)-.3 E .262(If you run)97 111.6 R/F1 10/Times-Italic@0 SF
(vmstat)2.761 E F0 .261(when the system is b)2.761 F .261(usy \(a `)-.2
F .261(`vmstat 5')-.74 F 2.761('g)-.74 G -2.15 -.25(iv e)-2.761 H 2.761
(sa).25 G .261(ll the numbers computed by the sys-)-2.761 F .465
(tem\), you can \214nd imbalances by noting abnormal job distrib)72
123.6 R 2.965(utions. If)-.2 F(man)2.966 E 2.966(yp)-.15 G .466
(rocesses are block)-2.966 F .466(ed \(D)-.1 F(W\),)-.3 E .559
(then the disk subsystem is o)72 135.6 R -.15(ve)-.15 G .559
(rloaded or imbalanced.).15 F .559(If you ha)5.559 F .859 -.15(ve s)-.2
H -2.15 -.25(ev e).15 H .559(ral non-DMA de).25 F .558
(vices or open tele-)-.25 F .96(type lines that are `)72 147.6 R
(`ringing')-.74 E .961
(', or user programs that are doing high-speed non-b)-.74 F(uf)-.2 E
.961(fered input/output, then)-.25 F .253
(the system time may go high \(60-70% or higher\).)72 159.6 R .253
(It is often possible to pin do)5.253 F .253
(wn the cause of high system)-.25 F 1.091
(time by looking to see if there is e)72 171.6 R(xcessi)-.15 E 1.391
-.15(ve c)-.25 H(onte).15 E 1.091(xt switching \(CS\), interrupt acti)
-.15 F 1.092(vity \(IN\) or system call)-.25 F(acti)72 183.6 Q
(vity \(SY\).)-.25 E .838(If the system is hea)97 199.2 R .838
(vily loaded, or if you ha)-.2 F 1.137 -.15(ve l)-.2 H .837
(ittle memory for your load \(248K is little in almost).15 F(an)72 211.2
Q 2.92(yc)-.15 G .42(ase\), then the system will be forced to sw)-2.92 F
2.921(ap. This)-.1 F .421(is lik)2.921 F .421
(ely to be accompanied by a noticeable reduc-)-.1 F 1.282
(tion in system performance and pre)72 223.2 R 1.281
(gnant pauses when interacti)-.15 F 1.581 -.15(ve j)-.25 H 1.281
(obs such as editors sw).15 F 1.281(ap out.)-.1 F 1.281(If you)6.281 F
-.15(ex)72 235.2 S 1.218(pect to be in a memory-poor en).15 F 1.218
(vironment for an e)-.4 F 1.218
(xtended period you might consider administrati)-.15 F -.15(ve)-.25 G
(ly).15 E(limiting system load.)72 247.2 Q/F2 10/Times-Bold@0 SF 2.5
(7.6. Adding)72 271.2 R(users)2.5 E F0(Ne)97 286.8 Q 2.849(wu)-.25 G
.349(sers can be added to the system by adding a line to the passw)
-2.849 F .349(ord \214le /etc/passwd.)-.1 F -1.1(Yo)5.348 G 2.848(us)1.1
G(hould)-2.848 E .294(add accounts for the initial user community)72
298.8 R 2.795(,g)-.65 G -.25(iv)-2.795 G .295
(ing each a directory and a passw).25 F .295(ord, and putting users who)
-.1 F .631(will wish to share softw)72 310.8 R .631
(are in the same group.)-.1 F .631(User id')5.631 F 3.131(ss)-.55 G .631
(hould be assigned starting with 16 or higher)-3.131 F 3.131(,a)-.4 G(s)
-3.131 E(lo)72 322.8 Q .315(wer id')-.25 F 2.815(sa)-.55 G .315
(re treated specially by the system.)-2.815 F(Def)5.315 E .315
(ault startup \214les should probably pro)-.1 F .315(vided for ne)-.15 F
2.815(wu)-.25 G(sers)-2.815 E(and can be copied from /usr/public.)72
334.8 Q(Initial passw)5 E(ords should be set also.)-.1 E 3.592(An)97
350.4 S 1.092(umber of guest accounts ha)-3.592 F 1.392 -.15(ve b)-.2 H
1.092(een pro).15 F 1.092(vided on the distrib)-.15 F 1.092
(ution system; these accounts are for)-.2 F 1.296(people at Berk)72
362.4 R(ele)-.1 E 3.796(ya)-.15 G 1.296(nd at Bell Laboratories who ha)
-3.796 F 1.596 -.15(ve d)-.2 H 1.296(one major w).15 F 1.296
(ork on UNIX in the past.)-.1 F -1.1(Yo)6.297 G 3.797(uc)1.1 G(an)-3.797
E .585(delete these accounts, or lea)72 374.4 R .885 -.15(ve t)-.2 H
.585(hem on the system if you e).15 F .585(xpect that these people w)
-.15 F .585(ould ha)-.1 F .885 -.15(ve o)-.2 H .585(ccasion to).15 F
(login as guests on your system.)72 386.4 Q F2 2.5(7.7. Accounting)72
410.4 R F0 1.534(UNIX currently optionally records tw)97 426 R 4.034(ok)
-.1 G 1.535(inds of accounting information: connect time accounting)
-4.034 F 1.021(and process resource accounting.)72 438 R 1.021(The conn\
ect time accounting information is normally stored in the \214le)6.021 F
.884(/usr/adm/wtmp, which is summarized by the program)72 450 R F1(ac)
3.384 E F0 3.384(\(8\). The)1.666 F .884
(process time accounting information is)3.384 F(stored in the \214le /u\
sr/adm/acct, and analyzed and summarized by the program)72 462 Q F1(sa)
2.5 E F0(\(8\).)1.666 E .595(If you need to implement rechar)97 477.6 R
.595(ge for computing time, you can implement procedures based on the)
-.18 F .729(information pro)72 489.6 R .729(vided by these commands.)
-.15 F 3.229(Ac)5.729 G(on)-3.229 E -.15(ve)-.4 G .729(nient w).15 F
.729(ay to do this is to gi)-.1 F 1.03 -.15(ve c)-.25 H .73
(ommands to the clock).15 F 3.316(daemon /etc/cron to be e)72 501.6 R
-.15(xe)-.15 G 3.316(cuted e).15 F -.15(ve)-.25 G 3.316
(ry day at a speci\214ed time.).15 F 3.316
(This is done by adding lines to)8.316 F(/usr/adm/crontab; see)72 513.6
Q F1(cr)2.5 E(on)-.45 E F0(\(8\) for details.)1.666 E F2 2.5
(7.8. Resour)72 537.6 R(ce contr)-.18 E(ol)-.18 E F0 .512
(Resource control in the current v)97 553.2 R .512
(ersion of UNIX is rather primiti)-.15 F -.15(ve)-.25 G 5.512(.D).15 G
.512(isk space usage can be moni-)-5.512 F 2.547(tored by)72 565.2 R F1
(du)5.047 E F0 2.547(\(1\) or)1.666 F F1(quot)5.047 E F0 2.547
(\(8\) as w)1.666 F 2.547(as pre)-.1 F 2.547(viously mentioned.)-.25 F
2.546(Disk quotas can be set and changed with)7.547 F F1(setquota)72
577.2 Q F0 1.31(\(8\) if the k)1.666 F 1.31
(ernel has been con\214gured for quotas.)-.1 F 1.311
(Our quota mechanism is simplistic and easily)6.31 F(defeated b)72 589.2
Q(ut does mak)-.2 E 2.5(eu)-.1 G(sers more a)-2.5 E -.1(wa)-.15 G
(re of the amount of space the).1 E 2.5(yu)-.15 G(se.)-2.5 E F2 2.5
(7.9. Files)72 613.2 R(which need periodic attention)2.5 E F0 2.326 -.8
(We c)97 628.8 T .726(onclude the discussion of system operations by li\
sting the \214les and directories that continue to).8 F(gro)72 640.8 Q
2.794(wa)-.25 G .294
(nd thus require periodic truncation, along with references to rele)
-2.794 F -.25(va)-.25 G .294(nt manual pages.).25 F F1(Cr)5.295 E(on)
-.45 E F0 .295(\(8\) can be)1.666 F .304
(used to run scripts to truncate these periodically)72 652.8 R 2.804(,p)
-.65 G .304(ossibly summarizing \214rst or sa)-2.804 F .304
(ving recent entries.)-.2 F(Some)5.304 E
(of these can be disabled if you don')72 664.8 Q 2.5(tn)-.18 G
(eed to collect the information.)-2.5 E F2(/usr/adm/acct)135.84 682.8 Q
F0 47.81(sa\(8\) ra)70.6 F 2.5(wp)-.15 G(rocess account data)-2.5 E F2
(/usr/adm/messages)135.84 694.8 Q F0 30.03(dmesg\(8\) system)48.93 F
(error log)2.5 E F2(/usr/adm/shutdo)135.84 706.8 Q(wnlog)-.1 E F0
(shutdo)33.45 E 17.5(wn\(8\) log)-.25 F(of system reboots)2.5 E F2
(/usr/adm/wtmp)135.84 718.8 Q F0 47.26(ac\(8\) login)63.37 F
(session accounting)2.5 E(23 October 1995)254.395 768 Q EP
%%Page: 39 39
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 133.23
(-39- System)92.67 F(Operation)2.5 E/F1 10/Times-Bold@0 SF
(/usr/spool/uucp/LOGFILE)135.84 84 Q F0 33.36(uulog\(1\) uucp)15 F
(log \214le)2.5 E F1(/usr/spool/uucp/SYSLOG)135.84 96 Q F0 33.36
(uulog\(1\) more)20 F(uucp logging)2.5 E F1(/usr/dict/spellhist)135.84
108 Q F0 37.25(spell\(1\) spell)55.58 F(log)2.5 E F1(/usr/lib/lear)
135.84 120 Q(n/log)-.15 E F0 36.15(learn\(1\) learn)57.95 F
(lesson logging)2.5 E F1(/usr/sys)135.84 132 Q F0(sa)96.7 E -.15(ve)-.2
G 21.51(core\(8\) system).15 F(core images)2.5 E(23 October 1995)254.395
768 Q EP
%%Page: 40 40
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 142.68
(-40- Magic)92.67 F(numbers)2.5 E/F1 12/Times-Bold@0 SF(8. KERNEL MA)
202.662 84 Q(GIC NUMBERS)-.66 E F0 .634(This sections contains a collec\
tion of magic numbers for use in patching core or an e)97 123.6 R -.15
(xe)-.15 G .635(cutable unix).15 F(binary)72 135.6 Q 5.328(.S)-.65 G
.327(ome of them ha)-5.328 F .627 -.15(ve a)-.2 H .327
(lso been mentioned earlier in this paper).15 F 5.327(.W)-.55 G .327
(ith the e)-5.727 F .327(xception of the)-.15 F/F2 10/Times-Italic@0 SF
(xp_type[i])2.827 E F0 -.25(va)72 147.6 S .003
(riables \(which hold bytes\) and).25 F F2(swplo)2.503 E F0 .004
(\(which is a long\) all locations gi)2.503 F -.15(ve)-.25 G 2.504(nc)
.15 G .004(ontain short inte)-2.504 F 2.504(gers. N.B.: in)-.15 F .649
(the case of paired interrupt v)72 159.6 R .649
(ectors \(for DHs and DZs\) the address of the second v)-.15 F .648
(ector of the pair is four)-.15 F
(more than the address of the \214rst v)72 171.6 Q(ector)-.15 E(.)-.55 E
(Interrupt V)254.26 265.2 Q(ectors)-1.11 E -1.11(Ve)151.335 283.2 S 12.5
(ctor Handler Contents Block)1.11 F(de)2.5 E 12.5(vice Character)-.25 F
(de)2.5 E(vice)-.25 E 18.6(0160 rlio)151.335 295.2 R 41.4(01202 8)38.6 F
(18)67.23 E 18.6(0210 hkio)151.335 307.2 R 41.4(01142 4)34.71 F(19)67.23
E 18.6(0220 rkio)151.335 319.2 R 41.4(01172 0)36.38 F(9)72.23 E 18.6
(0224 tmio)151.335 331.2 R 41.4(01222 3)34.15 F(12)67.23 E 18.6
(0224 htio)151.335 343.2 R 41.4(01152 7)36.93 F(15)67.23 E 18.6
(0224 tsio)151.335 355.2 R 41.4(01232 9)38.04 F(20)67.23 E 18.6
(0254 xpio)151.335 367.2 R 41.4(01242 6)34.71 F(14)67.23 E 18.6
(0260 rpio)151.335 379.2 R 41.4(01212 1)36.38 F(11)67.23 E 36.1<8764>
151.335 391.2 S 32.77(zin 01132)-36.1 F 68.065(-2)44.735 G(1)-68.065 E
36.1<8764>151.335 403.2 S 23.33(zdma 02202)-36.1 F 68.065(-2)44.735 G(1)
-68.065 E 36.1<8764>151.335 415.2 S 32.21(hin 01112)-36.1 F 73.065(-4)
44.735 G 36.1<8764>151.335 427.2 S 29.99(hou 01122)-36.1 F 73.065(-4)
44.735 G 36.1<876c>151.335 439.2 S 34.43(pio 01162)-36.1 F 73.065(-2)
44.735 G .32 LW 144 708.2 72 708.2 DL/F3 8/Times-Roman@0 SF<87>72 716 Q
(Set by)2 4 M/F4 8/Times-Italic@0 SF(autocon\214g)2 E F3(\(8\).)1.333 E
F0(23 October 1995)254.395 768 Q EP
%%Page: 41 41
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Installing/Operating 2.9BSD)72 48 Q 142.68
(-41- Magic)92.67 F(numbers)2.5 E(Other V)256.76 84 Q(ariables)-1.11 E
23.615(Name Address)225.78 102 R(Contents)16.115 E 28.61(xp_addr 061464)
215.78 114 R(0176700)15.28 E 17.5(xp_type[0] 061472)215.78 126 R<88>
30.28 E 17.5(xp_type[1] 061506)215.78 138 R<88>30.28 E 17.5
(xp_type[2] 061522)215.78 150 R<88>30.28 E 17.5(xp_type[3] 061536)215.78
162 R<88>30.28 E 18.61(HKADDR 061006)215.78 174 R(0177440)15.28 E(HT)
215.78 186 Q 15.65(ADDR 0114226)-.93 F<87>30.28 E 19.16(RKADDR 061152)
215.78 198 R(0177400)15.28 E 20.27(RLADDR 061154)215.78 210 R(0174400)
15.28 E(RP)215.78 222 Q 21.74(ADDR 061236)-.92 F(0176710)15.28 E 13.05
(TMADDR 0113320)215.78 234 R<87>30.28 E 16.38(TSADDR 0113612)215.78 246
R<87>30.28 E 24.17(dz_addr 0113314)215.78 258 R<87>30.28 E 23.61
(dh_addr 0114136)215.78 270 R<87>30.28 E 25.83(lp_addr 0113452)215.78
282 R<87>30.28 E(rootde)215.78 294 Q 33.58(v0)-.25 G 27.78(60772 *)
-33.58 F(pipede)215.78 306 Q 32.47(v0)-.25 G 27.78(60776 *)-32.47 F(sw)
215.78 318 Q(apde)-.1 E 29.24(v0)-.25 G 27.78(60774 *)-29.24 F 37.49
(swplo 061000)215.78 330 R(*)30.28 E(nsw)215.78 342 Q 35.93(ap 061004)
-.1 F(*)30.28 E .32 LW 144 688.2 72 688.2 DL/F1 8/Times-Roman@0 SF 2
<8753>72 700 S(et by)-2 E/F2 8/Times-Italic@0 SF(autocon\214g)2 E F1
(\(8\).)1.333 E 2<8853>72 710 S(et by reading the corresponding dri)-2 E
.24 -.12(ve t)-.2 H(ype re).12 E(gister)-.12 E(.)-.44 E 2(*S)72 720 S
(ystem dependent.)-2 E F0(23 October 1995)254.395 768 Q EP
%%Trailer
end
%%EOF
